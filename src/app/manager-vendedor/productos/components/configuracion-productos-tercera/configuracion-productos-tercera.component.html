<div class="container-fluid rounded mt-3 bg-white py-5">
  <div class="row">
    <div class="col-xl-12 col-xxl-12 col-sm-12 col-md-12 mb-3 mt-3">
      <app-progress-stepper [width]="'width:68%'"
        [btn-secondary]="'position-relative top-0 start-25 translate-middle btn btn-sm btn-primary rounded-pill'">
      </app-progress-stepper>
    </div>
    <div class="col-xxl-12 col-xl-12 col-sm-12 col-md-12 col-12 mb-5 py-5 card">
      <h3 class="text-center mb-3">Atributos</h3>
      <hr>
      <form [formGroup]="formB.formAtributos">
        <!------PRECIO GLOBAl------>
        <!--         <div class="row">

          <div class="col-xxl-3 col-xl-3 col-sm-6 col-6 col-md-3">
            <div class="input-group mb-3">
              <label for="PrecioGlobal" class="form-label mx-3 mt-2">Precio Global</label>
              <span class="input-group-text" id="PrecioGlobal">$</span>
              <input type="text" class="form-control" placeholder="12,00" aria-label="PrecioGlobal"
                aria-describedby="PrecioGlobal">
              <label for="PrecioGlobal" class="form-label mx-3 mt-2" (click)="mensajeIntuitivo();"><svg width="15"
                  height="15" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M4.5 4.125C4.40055 4.125 4.30516 4.16451 4.23484 4.23484C4.16451 4.30516 4.125 4.40054 4.125 4.5V6C4.125 6.09946 4.16451 6.19484 4.23484 6.26517C4.30516 6.33549 4.40055 6.375 4.5 6.375C4.59946 6.375 4.69484 6.33549 4.76517 6.26517C4.83549 6.19484 4.875 6.09946 4.875 6V4.5C4.875 4.40054 4.83549 4.30516 4.76517 4.23484C4.69484 4.16451 4.59946 4.125 4.5 4.125ZM4.6425 2.655C4.5512 2.61749 4.4488 2.61749 4.3575 2.655C4.31147 2.67285 4.26942 2.69961 4.23375 2.73375C4.20063 2.7702 4.17399 2.81206 4.155 2.8575C4.13401 2.902 4.12373 2.95081 4.125 3C4.12472 3.04935 4.13418 3.09828 4.15284 3.14396C4.1715 3.18965 4.199 3.23121 4.23375 3.26625C4.2702 3.29937 4.31206 3.32601 4.3575 3.345C4.41431 3.36834 4.47599 3.37737 4.53711 3.37129C4.59823 3.36522 4.65692 3.34422 4.70802 3.31015C4.75912 3.27608 4.80108 3.22998 4.83019 3.1759C4.85931 3.12182 4.8747 3.06142 4.875 3C4.87362 2.90071 4.83478 2.80561 4.76625 2.73375C4.73059 2.69961 4.68853 2.67285 4.6425 2.655ZM4.5 0.75C3.75832 0.75 3.0333 0.969934 2.41661 1.38199C1.79993 1.79404 1.31928 2.37971 1.03545 3.06494C0.751625 3.75016 0.677362 4.50416 0.822057 5.23159C0.966751 5.95902 1.3239 6.6272 1.84835 7.15165C2.3728 7.6761 3.04098 8.03325 3.76841 8.17795C4.49584 8.32264 5.24984 8.24838 5.93507 7.96455C6.62029 7.68072 7.20596 7.20007 7.61801 6.58339C8.03007 5.9667 8.25 5.24168 8.25 4.5C8.25 4.00754 8.15301 3.51991 7.96455 3.06494C7.7761 2.60997 7.49987 2.19657 7.15165 1.84835C6.80343 1.50013 6.39004 1.22391 5.93507 1.03545C5.48009 0.846997 4.99246 0.75 4.5 0.75ZM4.5 7.5C3.90666 7.5 3.32664 7.32405 2.83329 6.99441C2.33994 6.66476 1.95543 6.19623 1.72836 5.64805C1.5013 5.09987 1.44189 4.49667 1.55765 3.91473C1.6734 3.33279 1.95912 2.79824 2.37868 2.37868C2.79824 1.95912 3.33279 1.6734 3.91473 1.55764C4.49667 1.44189 5.09987 1.5013 5.64805 1.72836C6.19623 1.95542 6.66477 2.33994 6.99441 2.83329C7.32405 3.32664 7.5 3.90666 7.5 4.5C7.5 5.29565 7.18393 6.05871 6.62132 6.62132C6.05871 7.18393 5.29565 7.5 4.5 7.5Z"
                    fill="#444444" />
                </svg>
              </label>
            </div>
          </div>
          <div class="col-xxl-3 col-xl-3 bg-white border rounded mostrar" *ngIf="activarMensajeGlobal">
            <p>Agrega el precio global del atributo que se vaya a seleccionar</p>
          </div>
        </div>
       <hr>
      -->
        <div class="row mx-auto">
          <!-----COLOR----->
          <div class="col-xxl-4 col-xl-4 col-md-4 col-sm-12 col-12 mb-3 position-relative">
            <div class="row">
              <!-----MENSAJES DE AYUDA------>
              <app-mensajes-ayuda [class]="'col-xxl-3 col-xl-3'" [Label]="'Color'"
                [mensaje]="'Puedes escoger uno o varios colores para el producto.'"></app-mensajes-ayuda>
            </div>
            <div class="row">
              <span class="text">Colores seleccionados {{formB.colors.controls.length}}</span>
              <div class="col-xxl-7 col-xl-7 col-sm-12 col-md-8 col-12 card mx-2 colors-group">
                <div class="row">
                  <div class=" col-xl-1 col-xxl-1 col-sm-1 col-1 col-md-1 form-check "
                    *ngFor="let colores of arrayColores">
                    <input class="form-check-input" type="checkbox" [value]="colores.id" [id]="'check-'+colores.id"
                      [style]="colores.codigoHexagedecima" (click)="addColores(colores.id,$event,colores.nombre_color)">
                  </div>
                </div>
              </div>
              <!------LIST BADGE DE LOS COLORES ESCOGIDOS----->
              <div class="col-xxl-8 col-xl-8 col-sm-12 col-md-8 col-12">
                <div class="row">
                  <ng-container formArrayName="Color_articulo">
                    <ng-container *ngFor="let color of formB.colors.controls; let i=index">
                      <ng-container [formGroupName]="i">
                        <div class="col-xl-3 col-xxl-3 col-md-3 col-4 col-sm-4">
                          <span class="badge bg-color-badge text-wrap">{{color.get('nombre')?.value}}</span>
                        </div>
                      </ng-container>
                    </ng-container>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
          <!----MATERIAL--->
          <ng-container formGroupName="Material_constituido">
            <div class="col-xxl-4 col-xl-4 col-md-4 col-sm-12 col-12 mb-3 position-relative">
              <div class="row">
                <!-----MENSAJES DE AYUDA------>
                <app-mensajes-ayuda [class]="'col-xxl-6 col-xl-6'" [Label]="'Material'"
                  [mensaje]="'Describe el material que mas se acople a tu producto.'"></app-mensajes-ayuda>
                <div class="col-xxl-9 col-xl-9">
                  <textarea type="text" class="form-control" formControlName="nombre_material"
                    placeholder="Describe el material"
                    [class.is-invalid]="formB.formAtributos.get('Material_constituido.nombre_material')?.touched && formB.formAtributos.get('Material_constituido.nombre_material')?.invalid"></textarea>
                </div>
                <app-form-errors-container
                  [forControl]="formB.formAtributos.get('Material_constituido.nombre_material')">
                  <app-message-error forErrorCode="required" customMsg="Este campo es requerido"></app-message-error>
                  <app-message-error forErrorCode="pattern" customMsg="No se acepta caracteres especiales">
                  </app-message-error>
                </app-form-errors-container>
              </div>
            </div>
          </ng-container>
          <!----ESTADO---->
          <div class="col-xxl-4 col-xl-4 col-md-4 col-sm-12 col-12 mb-3 position-relative">
            <div class="row">
              <app-mensajes-ayuda [class]="'col-xxl-3 col-xl-4'" [Label]="'Estado'"
                [mensaje]="'Escoja el estado del producto si se encuentra usado, usado como nuevo, usado semi nuevo, etc.'">
              </app-mensajes-ayuda>
            </div>
            <div class="row">
              <select class="form-select w-xxl-50 w-xl-50 w-100 w-sm-100 w-md-100" aria-label="Default select example" formControlName="estado_producto"
                [class.is-invalid]="formB.formAtributos.get('estado_producto')?.touched && formB.formAtributos.get('estado_producto')?.invalid">
                <option selected value="">Seleccion</option>
                <option value="1">Nuevo</option>
                <option value="2">Reparado</option>
                <option value="3">Usado</option>
                <option value="4">Manufacturado</option>
              </select>
              <app-form-errors-container [forControl]="formB.formAtributos.get('estado_producto')">
                <app-message-error forErrorCode="required" customMsg="Escoja un campo"></app-message-error>
              </app-form-errors-container>
            </div>
          </div>
          <!---PESO--->
          <ng-container formGroupName="Peso">
            <div class="col-xxl-4 col-xl-4 col-md-4 col-sm-12 col-12 mb-3 position-relative">
              <div class="row">
                <app-mensajes-ayuda [class]="'col-xxl-3 col-xl-4'" [Label]="'Peso'"
                  [mensaje]="'Puedes poner el peso a tu eleccion nosotros la transformamos por ti.'">
                </app-mensajes-ayuda>
              </div>
              <div class="row">
                <div class="col-xl-4 col-xxl-4 col-md-5 mb-3">
                  <input type="text" placeholder="12 LB" id="pesoFloating" class="form-control"
                    (keyup)="transformarAKGYGR($event);" [value]="libras | number : '1.1-4'" />
                </div>
                <div class="col-xl-4 col-xxl-4 col-md-5 mb-3">
                  <input type="text" placeholder="12 GR" id="pesoFloating" class="form-control"
                    (keyup)="transformarALibrasYKG($event);" [value]="gramos | number : '1.2-4'" />
                </div>
                <div class="col-xl-4 col-xxl-4 col-md-5 mb-3">
                  <input type="text" formControlName="peso" placeholder="12 KG" id="pesoFloating" class="form-control"
                    (keyup)="transformarALBYGR($event);"
                    [value]="formB.formAtributos.get('Peso.peso')?.value | number:'1.2-4'"
                    [class.is-invalid]="formB.formAtributos.get('Peso.peso')?.invalid && formB.formAtributos.get('Peso.peso')?.touched" />
                </div>
                <app-form-errors-container [forControl]="formB.formAtributos.get('Peso.peso')">
                  <app-message-error forErrorCode="required" customMsg="Es requerido"></app-message-error>
                  <app-message-error forErrorCode="pattern" customMsg="Debe ser números ej:12.00"></app-message-error>
                </app-form-errors-container>
              </div>
            </div>
          </ng-container>
          <!---MODELO---->
          <div class="col-xxl-4 col-xl-4 col-md-4 col-sm-12 col-12 mb-2 position-relative">
            <div class="row">
              <app-mensajes-ayuda [class]="'col-xl-4 col-xxl-4 '" [Label]="'Modelo'"
                [mensaje]="'Escoja el estado del producto si se encuentra usado, usado como nuevo, usado semi nuevo, etc.'">
              </app-mensajes-ayuda>
            </div>
            <div class="w-75">
              <input type="text" class="form-control" id="floatingModelo" placeholder="Modelo" formControlName="modelo"
                [class.is-invalid]="formB.formAtributos.get('modelo')?.invalid && formB.formAtributos.get('modelo')?.touched">
            </div>
            <app-form-errors-container [forControl]="formB.formAtributos.get('modelo')">
              <app-message-error forErrorCode="required" customMsg="Es requerido"></app-message-error>
              <app-message-error forErrorCode="pattern" customMsg="No se admite </>|{[]}"></app-message-error>
            </app-form-errors-container>
          </div>
          <!---Dimensiones---->
          <ng-container formGroupName="Tamaño_articulo">
            <div class="col-xxl-4 col-xl-4 col-md-4 col-sm-12 col-12 mb-2 position-relative">
              <div class="row">
                <app-mensajes-ayuda [class]="'col-xxl-6 col-xl-6'" [Label]="'Dimensiones'"
                  [mensaje]="'Apoyate con una regla para especificar las dimensiones del producto.'">
                </app-mensajes-ayuda>
              </div>
              <div class="row">
                <!--largo---->
                <div class="col-xl-4 col-xxl-4 col-md-6 mb-3 col-sm-12 col-12">
                  <div class="input-group">
                    <input type="text" class="form-control input-estilo" id="largo" placeholder="largo"
                      aria-label="largo" aria-describedby="basic-largo" formControlName="Longitud_x"
                      [class.is-invalid]="formB.formAtributos.get('Tamaño_articulo.Longitud_x')?.touched &&formB.formAtributos.get('Tamaño_articulo.Longitud_x')?.invalid">
                    <span class="input-group-text span-estilo" id="basic-largo">cm</span>
                  </div>
                  <app-form-errors-container [forControl]="formB.formAtributos.get('Tamaño_articulo.Longitud_x')">
                    <app-message-error forErrorCode="required" customMsg="Es requerido"></app-message-error>
                    <app-message-error forErrorCode="pattern" customMsg="Solo numeros ej 12.0 o 12"></app-message-error>
                  </app-form-errors-container>
                </div>
                <!-----ancho---->
                <div class="col-xl-4 col-xxl-4 col-md-6 mb-3 col-sm-12 col-12">
                  <div class="input-group">
                    <input type="text" class="form-control input-estilo" id="ancho" placeholder="ancho"
                      aria-label="ancho" aria-describedby="basic-ancho" formControlName="Longitud_y"
                      [class.is-invalid]="formB.formAtributos.get('Tamaño_articulo.Longitud_y')?.touched &&formB.formAtributos.get('Tamaño_articulo.Longitud_y')?.invalid">
                    <span class="input-group-text span-estilo" id="basic-ancho">cm</span>
                  </div>
                  <app-form-errors-container [forControl]="formB.formAtributos.get('Tamaño_articulo.Longitud_y')">
                    <app-message-error forErrorCode="required" customMsg="Es requerido"></app-message-error>
                    <app-message-error forErrorCode="pattern" customMsg="Solo numeros ej 12.0 o 12"></app-message-error>
                  </app-form-errors-container>
                </div>
                <!----alto---->
                <div class="col-xl-4 col-xxl-4 col-md-6 mb-3 col-sm-12 col-12">
                  <div class="input-group ">
                    <input type="text" class="form-control input-estilo" id="alto" placeholder="alto" aria-label="alto"
                      aria-describedby="basic-alto" formControlName="Longitud_z"
                      [class.is-invalid]="formB.formAtributos.get('Tamaño_articulo.Longitud_z')?.touched &&formB.formAtributos.get('Tamaño_articulo.Longitud_z')?.invalid">
                    <span class="input-group-text span-estilo" id="basic-alto">cm</span>
                  </div>
                  <app-form-errors-container [forControl]="formB.formAtributos.get('Tamaño_articulo.Longitud_z')">
                    <app-message-error forErrorCode="required" customMsg="Es requerido"></app-message-error>
                    <app-message-error forErrorCode="pattern" customMsg="Solo numeros ej 12.0 o 12"></app-message-error>
                  </app-form-errors-container>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
        <hr>
        <h3 class="text-center mb-3">Atributos Opcionales</h3>
        <hr>
        <div class="row mx-auto">
          <ng-container formGroupName="Capacidad">
            <div class="col-xxl-3 col-xl-3 col-md-3 col-sm-12 col-12 mb-3">
              <label for="Capacidad" class="form-label">Capacidad</label>
              <div class="input-group mb-3">
                <input type="text" class="form-control input-estilo" id="Capacidad" placeholder="Capacidad"
                  aria-label="Capacidad" aria-describedby="basic-Capacidad" formControlName="Cantidad">
                <span class="input-group-text span-estilo" id="basic-Capacidad">m/l</span>
              </div>
              <app-form-errors-container [forControl]="formB.formAtributos.get('Capacidad.Cantidad')">
                <app-message-error forErrorCode="pattern" customMsg="Solo admite numeros ej 12.00"></app-message-error>
              </app-form-errors-container>
            </div>
          </ng-container>
          <div class="col-xxl-4 col-xl-4 col-md-3 col-sm-12 col-12 mb-3 bg-white border mx-auto rounded">
            <p>Puedes especificar en mililitros o litro la capacidad de tu producto.</p>
          </div>
        </div>
        <div class="row mx-auto">
          <ng-container formGroupName="Potencia">
            <div class="col-xxl-3 col-xl-3 col-md-3 col-sm-12 col-12 mb-3">
              <label for="Potencia_valor" class="form-label">Voltaje</label>
              <div class="input-group mb-3">
                <input type="text" class="form-control input-estilo" id="Potencia_valor" placeholder="Potencia Valor"
                  aria-label="Capacidad" aria-describedby="basic-Potencia_valor" formControlName="Potencia_valor">
                <span class="input-group-text span-estilo" id="basic-Potencia_valor">v/w</span>
              </div>
              <app-form-errors-container [forControl]="formB.formAtributos.get('Potencia.Potencia_valor')">
                <app-message-error forErrorCode="pattern" customMsg="Solo admite numeros ej 12.00"></app-message-error>
              </app-form-errors-container>
            </div>
          </ng-container>
          <div class="col-xxl-4 col-xl-4 col-md-3 col-sm-12 col-12 mb-3 bg-white border mx-auto rounded">
            <p>Si el producto es un dispositivo electrónico, especifica en que voltaje o watts trabaja.</p>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-------CONTINUAR--------->
  <div class="modal-footer mb-4 fixed-bottom bg-white">
    <button type="button" class="btn btn-secondary" data-bs-toggle="collapse" data-bs-target="#collapseOne"
      aria-expanded="true" aria-controls="collapseOne">Atras</button>
    <button type="button" class="btn btn-primary" data-bs-toggle="collapse" data-bs-target="#collapseFour"
      aria-expanded="false" aria-controls="collapseFour" [disabled]="formB.formAtributos.invalid">Continuar
      &nbsp;<svg width="7" height="20" viewBox="0 0 7 17" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M6.25627 5.40406L1.91551 1.26667C1.82034 1.17521 1.70711 1.10261 1.58235 1.05307C1.4576 1.00353 1.32379 0.978027 1.18864 0.978027C1.05349 0.978027 0.919677 1.00353 0.794922 1.05307C0.670167 1.10261 0.556938 1.17521 0.461765 1.26667C0.271088 1.4495 0.164062 1.69681 0.164062 1.95461C0.164062 2.2124 0.271088 2.45972 0.461765 2.64255L4.08589 6.09688L0.461765 9.55121C0.271088 9.73404 0.164062 9.98136 0.164062 10.2392C0.164063 10.4969 0.271088 10.7443 0.461765 10.9271C0.557426 11.0175 0.670876 11.0891 0.795609 11.1376C0.920341 11.1862 1.0539 11.2108 1.18864 11.2101C1.32337 11.2108 1.45694 11.1862 1.58167 11.1376C1.7064 11.0891 1.81985 11.0175 1.91551 10.9271L6.25627 6.7897C6.35223 6.69898 6.42839 6.59106 6.48036 6.47215C6.53234 6.35324 6.5591 6.22569 6.5591 6.09688C6.5591 5.96806 6.53234 5.84052 6.48036 5.72161C6.42839 5.6027 6.35223 5.49477 6.25627 5.40406Z"
          fill="white" />
      </svg></button>
  </div>
</div>
