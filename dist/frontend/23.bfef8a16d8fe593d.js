(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[23],{265:(z,a,S)=>{"use strict";S.d(a,{S:()=>N});var i=S(1218),M=S(5062),E=S(529);let N=(()=>{class C{constructor(b){this.http=b,this.url="https://ecovitali.presttoapp.net/Puertto/Microservices/Library/api/Folder"}getFoldersPolitics(){return this.http.get(this.url)}getAllPolitics(){return this.http.get(`${i.E.ApiUrl}${i.E.modulePolitics}`)}postPolitics(b){return this.http.post(`${i.E.ApiUrl}${i.E.modulePolitics}`,b)}putPolitics(b){return this.http.put(`${i.E.ApiUrl}${i.E.modulePolitics}`,b)}deteletPolitics(b){return this.http.delete(`${i.E.ApiUrl}${i.E.modulePolitics}`)}}return C.\u0275fac=function(b){return new(b||C)(M.LFG(E.eN))},C.\u0275prov=M.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,S;S=()=>(()=>{"use strict";var __webpack_modules__=[,(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=B,a.arraysToBytes=function $(H){const I=H.length;if(1===I&&H[0]instanceof Uint8Array)return H[0];let G=0;for(let Te=0;Te<I;Te++)G+=B(H[Te]);let ie=0;const ye=new Uint8Array(G);for(let Te=0;Te<I;Te++){let se=H[Te];se instanceof Uint8Array||(se="string"==typeof se?q(se):new Uint8Array(se));const ce=se.byteLength;ye.set(se,ie),ie+=ce}return ye},a.assert=function J(H,I){H||Q(I)},a.bytesToString=function F(H){("object"!=typeof H||null===H||void 0===H.length)&&Q("Invalid argument for bytesToString");const I=H.length,G=8192;if(I<G)return String.fromCharCode.apply(null,H);const ie=[];for(let ye=0;ye<I;ye+=G){const Te=Math.min(ye+G,I),se=H.subarray(ye,Te);ie.push(String.fromCharCode.apply(null,se))}return ie.join("")},a.createPromiseCapability=function ge(){const H=Object.create(null);let I=!1;return Object.defineProperty(H,"settled",{get:()=>I}),H.promise=new Promise(function(G,ie){H.resolve=function(ye){I=!0,G(ye)},H.reject=function(ye){I=!0,ie(ye)}}),H},a.createValidAbsoluteUrl=function he(H,I=null,G=null){if(!H)return null;try{if(G&&"string"==typeof H){if(G.addDefaultProtocol&&H.startsWith("www.")){const ye=H.match(/\./g);ye&&ye.length>=2&&(H=`http://${H}`)}if(G.tryConvertEncoding)try{H=be(H)}catch{}}const ie=I?new URL(H,I):new URL(H);if(function te(H){if(!H)return!1;switch(H.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ie))return ie}catch{}return null},a.escapeString=function pe(H){return H.replace(/([()\\\n\r])/g,I=>"\n"===I?"\\n":"\r"===I?"\\r":`\\${I}`)},a.getModificationDate=function le(H=new Date){return[H.getUTCFullYear().toString(),(H.getUTCMonth()+1).toString().padStart(2,"0"),H.getUTCDate().toString().padStart(2,"0"),H.getUTCHours().toString().padStart(2,"0"),H.getUTCMinutes().toString().padStart(2,"0"),H.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function L(){return d},a.info=function W(H){d>=h.INFOS&&console.log(`Info: ${H}`)},a.isArrayBuffer=function R(H){return"object"==typeof H&&null!==H&&void 0!==H.byteLength},a.isArrayEqual=function K(H,I){if(H.length!==I.length)return!1;for(let G=0,ie=H.length;G<ie;G++)if(H[G]!==I[G])return!1;return!0},a.isAscii=function re(H){return/^[\x00-\x7F]*$/.test(H)},a.objectFromMap=function ee(H){const I=Object.create(null);for(const[G,ie]of H)I[G]=ie;return I},a.objectSize=function Z(H){return Object.keys(H).length},a.setVerbosityLevel=function k(H){Number.isInteger(H)&&(d=H)},a.shadow=oe,a.string32=function X(H){return String.fromCharCode(H>>24&255,H>>16&255,H>>8&255,255&H)},a.stringToBytes=q,a.stringToPDFString=function Ce(H){if(H[0]>="\xef"){let G;if("\xfe"===H[0]&&"\xff"===H[1]?G="utf-16be":"\xff"===H[0]&&"\xfe"===H[1]?G="utf-16le":"\xef"===H[0]&&"\xbb"===H[1]&&"\xbf"===H[2]&&(G="utf-8"),G)try{const ie=new TextDecoder(G,{fatal:!0}),ye=q(H);return ie.decode(ye)}catch(ie){Y(`stringToPDFString: "${ie}".`)}}const I=[];for(let G=0,ie=H.length;G<ie;G++){const ye=we[H.charCodeAt(G)];I.push(ye?String.fromCharCode(ye):H.charAt(G))}return I.join("")},a.stringToUTF16BEString=function de(H){const I=["\xfe\xff"];for(let G=0,ie=H.length;G<ie;G++){const ye=H.charCodeAt(G);I.push(String.fromCharCode(ye>>8&255),String.fromCharCode(255&ye))}return I.join("")},a.stringToUTF8String=be,a.unreachable=Q,a.utf8StringToString=function ne(H){return unescape(encodeURIComponent(H))},a.warn=Y,S(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const h={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=h,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let d=h.WARNINGS;function Y(H){d>=h.WARNINGS&&console.log(`Warning: ${H}`)}function Q(H){throw new Error(H)}function oe(H,I,G){return Object.defineProperty(H,I,{value:G,enumerable:!0,configurable:!0,writable:!1}),G}const O=function(){function I(G,ie){this.constructor===I&&Q("Cannot initialize BaseException."),this.message=G,this.name=ie}return I.prototype=new Error,I.constructor=I,I}();function q(H){"string"!=typeof H&&Q("Invalid argument for stringToBytes");const I=H.length,G=new Uint8Array(I);for(let ie=0;ie<I;++ie)G[ie]=255&H.charCodeAt(ie);return G}function B(H){return void 0!==H.length?H.length:void 0!==H.byteLength?H.byteLength:void Q("Invalid argument for arrayByteLength")}a.BaseException=O,a.PasswordException=class r extends O{constructor(I,G){super(I,"PasswordException"),this.code=G}},a.UnknownErrorException=class e extends O{constructor(I,G){super(I,"UnknownErrorException"),this.details=G}},a.InvalidPDFException=class s extends O{constructor(I){super(I,"InvalidPDFException")}},a.MissingPDFException=class o extends O{constructor(I){super(I,"MissingPDFException")}},a.UnexpectedResponseException=class g extends O{constructor(I,G){super(I,"UnexpectedResponseException"),this.status=G}},a.FormatError=class _ extends O{constructor(I){super(I,"FormatError")}},a.AbortException=class c extends O{constructor(I){super(I,"AbortException")}},a.FeatureTest=class Ae{static get isLittleEndian(){return oe(this,"isLittleEndian",function ue(){const H=new Uint8Array(4);return H[0]=1,1===new Uint32Array(H.buffer,0,1)[0]}())}static get isEvalSupported(){return oe(this,"isEvalSupported",function _e(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return oe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const me=[...Array(256).keys()].map(H=>H.toString(16).padStart(2,"0"));class ae{static makeHexColor(I,G,ie){return`#${me[I]}${me[G]}${me[ie]}`}static scaleMinMax(I,G){let ie;I[0]?(I[0]<0&&(ie=G[0],G[0]=G[1],G[1]=ie),G[0]*=I[0],G[1]*=I[0],I[3]<0&&(ie=G[2],G[2]=G[3],G[3]=ie),G[2]*=I[3],G[3]*=I[3]):(ie=G[0],G[0]=G[2],G[2]=ie,ie=G[1],G[1]=G[3],G[3]=ie,I[1]<0&&(ie=G[2],G[2]=G[3],G[3]=ie),G[2]*=I[1],G[3]*=I[1],I[2]<0&&(ie=G[0],G[0]=G[1],G[1]=ie),G[0]*=I[2],G[1]*=I[2]),G[0]+=I[4],G[1]+=I[4],G[2]+=I[5],G[3]+=I[5]}static transform(I,G){return[I[0]*G[0]+I[2]*G[1],I[1]*G[0]+I[3]*G[1],I[0]*G[2]+I[2]*G[3],I[1]*G[2]+I[3]*G[3],I[0]*G[4]+I[2]*G[5]+I[4],I[1]*G[4]+I[3]*G[5]+I[5]]}static applyTransform(I,G){return[I[0]*G[0]+I[1]*G[2]+G[4],I[0]*G[1]+I[1]*G[3]+G[5]]}static applyInverseTransform(I,G){const ie=G[0]*G[3]-G[1]*G[2];return[(I[0]*G[3]-I[1]*G[2]+G[2]*G[5]-G[4]*G[3])/ie,(-I[0]*G[1]+I[1]*G[0]+G[4]*G[1]-G[5]*G[0])/ie]}static getAxialAlignedBoundingBox(I,G){const ie=ae.applyTransform(I,G),ye=ae.applyTransform(I.slice(2,4),G),Te=ae.applyTransform([I[0],I[3]],G),se=ae.applyTransform([I[2],I[1]],G);return[Math.min(ie[0],ye[0],Te[0],se[0]),Math.min(ie[1],ye[1],Te[1],se[1]),Math.max(ie[0],ye[0],Te[0],se[0]),Math.max(ie[1],ye[1],Te[1],se[1])]}static inverseTransform(I){const G=I[0]*I[3]-I[1]*I[2];return[I[3]/G,-I[1]/G,-I[2]/G,I[0]/G,(I[2]*I[5]-I[4]*I[3])/G,(I[4]*I[1]-I[5]*I[0])/G]}static apply3dTransform(I,G){return[I[0]*G[0]+I[1]*G[1]+I[2]*G[2],I[3]*G[0]+I[4]*G[1]+I[5]*G[2],I[6]*G[0]+I[7]*G[1]+I[8]*G[2]]}static singularValueDecompose2dScale(I){const G=[I[0],I[2],I[1],I[3]],ie=I[0]*G[0]+I[1]*G[2],se=I[2]*G[1]+I[3]*G[3],ce=(ie+se)/2,Se=Math.sqrt((ie+se)**2-4*(ie*se-(I[2]*G[0]+I[3]*G[2])*(I[0]*G[1]+I[1]*G[3])))/2,fe=ce-Se||1;return[Math.sqrt(ce+Se||1),Math.sqrt(fe)]}static normalizeRect(I){const G=I.slice(0);return I[0]>I[2]&&(G[0]=I[2],G[2]=I[0]),I[1]>I[3]&&(G[1]=I[3],G[3]=I[1]),G}static intersect(I,G){const ie=Math.max(Math.min(I[0],I[2]),Math.min(G[0],G[2])),ye=Math.min(Math.max(I[0],I[2]),Math.max(G[0],G[2]));if(ie>ye)return null;const Te=Math.max(Math.min(I[1],I[3]),Math.min(G[1],G[3])),se=Math.min(Math.max(I[1],I[3]),Math.max(G[1],G[3]));return Te>se?null:[ie,Te,ye,se]}static bezierBoundingBox(I,G,ie,ye,Te,se,ce,Se){const Pe=[],fe=[[],[]];let xe,ve,Ee,Me,ke,Le,Ne,Re;for(let Ie=0;Ie<2;++Ie)if(0===Ie?(ve=6*I-12*ie+6*Te,xe=-3*I+9*ie-9*Te+3*ce,Ee=3*ie-3*I):(ve=6*G-12*ye+6*se,xe=-3*G+9*ye-9*se+3*Se,Ee=3*ye-3*G),Math.abs(xe)<1e-12){if(Math.abs(ve)<1e-12)continue;Me=-Ee/ve,0<Me&&Me<1&&Pe.push(Me)}else Ne=ve*ve-4*Ee*xe,Re=Math.sqrt(Ne),!(Ne<0)&&(ke=(-ve+Re)/(2*xe),0<ke&&ke<1&&Pe.push(ke),Le=(-ve-Re)/(2*xe),0<Le&&Le<1&&Pe.push(Le));let Fe,De=Pe.length;const Oe=De;for(;De--;)Me=Pe[De],Fe=1-Me,fe[0][De]=Fe*Fe*Fe*I+3*Fe*Fe*Me*ie+3*Fe*Me*Me*Te+Me*Me*Me*ce,fe[1][De]=Fe*Fe*Fe*G+3*Fe*Fe*Me*ye+3*Fe*Me*Me*se+Me*Me*Me*Se;return fe[0][Oe]=I,fe[1][Oe]=G,fe[0][Oe+1]=ce,fe[1][Oe+1]=Se,fe[0].length=fe[1].length=Oe+2,[Math.min(...fe[0]),Math.min(...fe[1]),Math.max(...fe[0]),Math.max(...fe[1])]}}a.Util=ae;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function be(H){return decodeURIComponent(escape(H))}},(z,a,S)=>{S(3)},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const S=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=S},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:z,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:S}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=z,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=S}function setPDFNetworkStreamFactory(z){createPDFNetworkStream=z}function getDocument(z){const a=new PDFDocumentLoadingTask;let S;if("string"==typeof z||z instanceof URL)S={url:z};else if((0,_util.isArrayBuffer)(z))S={data:z};else if(z instanceof PDFDataRangeTransport)S={range:z};else{if("object"!=typeof z)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!z.url&&!z.data&&!z.range)throw new Error("Invalid parameter object: need either .data, .range or .url");S=z}const i=Object.create(null);let M=null,E=null;for(const C in S){const P=S[C];switch(C){case"url":if(typeof window<"u")try{i[C]=new URL(P,window.location).href;continue}catch(b){(0,_util.warn)(`Cannot create valid URL: "${b}".`)}else if("string"==typeof P||P instanceof URL){i[C]=P.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":M=P;continue;case"worker":E=P;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&P instanceof Buffer)i[C]=new Uint8Array(P);else{if(P instanceof Uint8Array)break;if("string"==typeof P)i[C]=(0,_util.stringToBytes)(P);else if("object"!=typeof P||null===P||isNaN(P.length)){if(!(0,_util.isArrayBuffer)(P))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[C]=new Uint8Array(P)}else i[C]=new Uint8Array(P)}continue}i[C]=P}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!E){const C={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};E=C.port?_PDFWorker.fromPort(C):new _PDFWorker(C),a._worker=E}const N=a.docId;return E.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const C=_fetchDocument(E,i,M,N),P=new Promise(function(b){let D;M?D=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},M):i.data||(D=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),b(D)});return Promise.all([C,P]).then(function([b,D]){if(a.destroyed)throw new Error("Loading aborted");const V=new _message_handler.MessageHandler(N,b,E.port),j=new WorkerTransport(V,a,D,i);a._transport=j,V.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(z,a,S,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(z,a,S,i){if(z.destroyed)throw new Error("Worker was destroyed");S&&(a.length=S.length,a.initialData=S.initialData,a.progressiveDone=S.progressiveDone,a.contentDispositionFilename=S.contentDispositionFilename);const M=yield z.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(z.destroyed)throw new Error("Worker was destroyed");return M})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var a,S;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(a=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),S=a++,a)),S}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,S,i=!1,M=null){this.length=a,this.initialData=S,this.progressiveDone=i,this.contentDispositionFilename=M,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,S){for(const i of this._rangeListeners)i(a,S)}onDataProgress(a,S){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,S)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const S of this._progressiveReadListeners)S(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,S){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,S){var M,i=this;this._pdfInfo=a,this._transport=S,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(M=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return M.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,S,i,M,E=!1){this._pageIndex=a,this._pageInfo=S,this._ownerDocument=M,this._transport=i,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:S=this.rotate,offsetX:i=0,offsetY:M=0,dontFlip:E=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:S,offsetX:i,offsetY:M,dontFlip:E})}getAnnotations({intent:a="display"}={}){const S=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(S.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,S.renderingIntent),this._annotationPromises.set(S.cacheKey,i),i=i.then(M=>{for(const E of M)void 0!==E.titleObj&&Object.defineProperty(E,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),E.titleObj.str)}),void 0!==E.contentsObj&&Object.defineProperty(E,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),E.contentsObj.str)});return M})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:S,intent:i="display",annotationMode:M=_util.AnnotationMode.ENABLE,transform:E=null,imageLayer:N=null,canvasFactory:C=null,background:P=null,optionalContentConfigPromise:b=null,annotationCanvasMap:D=null,pageColors:V=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&M===_util.AnnotationMode.ENABLE&&(M=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&M===_util.AnnotationMode.ENABLE&&(M=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const j=this._transport.getRenderingIntent(i,M);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());let T=this._intentStates.get(j.cacheKey);T||(T=Object.create(null),this._intentStates.set(j.cacheKey,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const U=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),m=!!(j.renderingIntent&_util.RenderingIntentFlag.PRINT);T.displayReadyCapability||(T.displayReadyCapability=(0,_util.createPromiseCapability)(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(j));const x=y=>{T.renderTasks.delete(A),(this.cleanupAfterRender||m)&&(this.pendingCleanup=!0),this._tryCleanup(),y?(A.capability.reject(y),this._abortOperatorList({intentState:T,reason:y instanceof Error?y:new Error(y)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},A=new InternalRenderTask({callback:x,params:{canvasContext:a,viewport:S,transform:E,imageLayer:N,background:P},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:D,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:U,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:V});(T.renderTasks||(T.renderTasks=new Set)).add(A);const w=A.task;return Promise.all([T.displayReadyCapability.promise,b]).then(([y,v])=>{this.pendingCleanup?x():(this._stats&&this._stats.time("Rendering"),A.initializeGraphics({transparency:y,optionalContentConfig:v}),A.operatorListChanged())}).catch(x),w}getOperatorList({intent:a="display",annotationMode:S=_util.AnnotationMode.ENABLE}={}){const M=this._transport.getRenderingIntent(a,S,!0);let N,E=this._intentStates.get(M.cacheKey);return E||(E=Object.create(null),this._intentStates.set(M.cacheKey,E)),E.opListReadCapability||(N=Object.create(null),N.operatorListChanged=function i(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(N))},E.opListReadCapability=(0,_util.createPromiseCapability)(),(E.renderTasks||(E.renderTasks=new Set)).add(N),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(M)),E.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:S=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===S},{highWaterMark:100,size:M=>M.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const S=this.streamTextContent(a);return new Promise(function(i,M){const N=S.getReader(),C={items:[],styles:Object.create(null)};!function E(){N.read().then(function({value:P,done:b}){b?i(C):(Object.assign(C.styles,P.styles),C.items.push(...P.items),E())},M)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const S of this._intentStates.values())if(this._abortOperatorList({intentState:S,reason:new Error("Page was destroyed."),force:!0}),!S.opListReadCapability)for(const i of S.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const S of this._bitmaps)S.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:S,operatorList:i}of this._intentStates.values())if(S.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const S of this._bitmaps)S.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,S){const i=this._intentStates.get(S);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,S){for(let i=0,M=a.length;i<M;i++)S.operatorList.fnArray.push(a.fnArray[i]),S.operatorList.argsArray.push(a.argsArray[i]);S.operatorList.lastChunk=a.lastChunk;for(const i of S.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:S}){const M=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:S,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),E=this._intentStates.get(S);E.streamReader=M;const N=()=>{M.read().then(({value:C,done:P})=>{P?E.streamReader=null:this._transport.destroyed||(this._renderPageChunk(C,E),N())},C=>{if(E.streamReader=null,!this._transport.destroyed){if(E.operatorList){E.operatorList.lastChunk=!0;for(const P of E.renderTasks)P.operatorListChanged();this._tryCleanup()}if(E.displayReadyCapability)E.displayReadyCapability.reject(C);else{if(!E.opListReadCapability)throw C;E.opListReadCapability.reject(C)}}})};N()}_abortOperatorList({intentState:a,reason:S,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(S instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:S,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(S.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[M,E]of this._intentStates)if(E===a){this._intentStates.delete(M);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,S){const i={data:structuredClone(a,S)};this._deferred.then(()=>{for(const M of this._listeners)M.call(this,i)})}addEventListener(a,S){this._listeners.push(S)}removeEventListener(a,S){const i=this._listeners.indexOf(S);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const z=document?.currentScript?.src;z&&(PDFWorkerUtil.fallbackWorkerSrc=z.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(z,a){let S;try{if(S=new URL(z),!S.origin||"null"===S.origin)return!1}catch{return!1}const i=new URL(a,S);return S.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(z){return URL.createObjectURL(new Blob([`importScripts("${z}");`]))};class _PDFWorker{constructor({name:z=null,port:a=null,verbosity:S=(0,_util.getVerbosityLevel)()}={}){if(a&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=z,this.destroyed=!1,this.verbosity=S,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(z){this._port=z,this._messageHandler=new _message_handler.MessageHandler("main","worker",z),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let z=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,z)||(z=PDFWorkerUtil.createCDNWrapper(new URL(z,window.location).href));const a=new Worker(z),S=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",M),S.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},M=()=>{this._webWorker||i()};a.addEventListener("error",M),S.on("test",N=>{a.removeEventListener("error",M),this.destroyed?i():N?(this._messageHandler=S,this._port=a,this._webWorker=a,this._readyCapability.resolve(),S.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),S.destroy(),a.terminate())}),S.on("ready",N=>{if(a.removeEventListener("error",M),this.destroyed)i();else try{E()}catch{this._setupFakeWorker()}});const E=()=>{const N=new Uint8Array;S.send("test",N,[N.buffer])};return void E()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(z=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const S="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(S+"_worker",S,a);z.setup(i,a);const M=new _message_handler.MessageHandler(S,S+"_worker",a);this._messageHandler=M,this._readyCapability.resolve(),M.send("configure",{verbosity:this.verbosity})}).catch(z=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${z.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(z){if(!z?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(z.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(z.port):new _PDFWorker(z)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function z(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,S,i,M){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=S,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:S.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:M.ownerDocument,styleElement:M.styleElement}),this._params=M,M.useWorkerFetch||(this.CMapReaderFactory=new M.CMapReaderFactory({baseUrl:M.cMapUrl,isCompressed:M.cMapPacked}),this.StandardFontDataFactory=new M.StandardFontDataFactory({baseUrl:M.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,S=_util.AnnotationMode.ENABLE,i=!1){let M=_util.RenderingIntentFlag.DISPLAY,E="";switch(a){case"any":M=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":M=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(S){case _util.AnnotationMode.DISABLE:M+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:M+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:M+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,E=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${S}`)}return i&&(M+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:M,cacheKey:`${M}_${E}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())a.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const S=this.messageHandler.sendWithPromise("Terminate",null);return a.push(S),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:S}=this;a.on("GetReader",(i,M)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=E=>{this._lastProgress={loaded:E.loaded,total:E.total}},M.onPull=()=>{this._fullReader.read().then(function({value:E,done:N}){N?M.close():((0,_util.assert)((0,_util.isArrayBuffer)(E),"GetReader - expected an ArrayBuffer."),M.enqueue(new Uint8Array(E),1,[E]))}).catch(E=>{M.error(E)})},M.onCancel=E=>{this._fullReader.cancel(E),M.ready.catch(N=>{if(!this.destroyed)throw N})}}),a.on("ReaderHeadersReady",i=>{const M=(0,_util.createPromiseCapability)(),E=this._fullReader;return E.headersReady.then(()=>{(!E.isStreamingSupported||!E.isRangeSupported)&&(this._lastProgress&&S.onProgress?.(this._lastProgress),E.onProgress=N=>{S.onProgress?.({loaded:N.loaded,total:N.total})}),M.resolve({isStreamingSupported:E.isStreamingSupported,isRangeSupported:E.isRangeSupported,contentLength:E.contentLength})},M.reject),M.promise}),a.on("GetRangeReader",(i,M)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const E=this._networkStream.getRangeReader(i.begin,i.end);E?(M.onPull=()=>{E.read().then(function({value:N,done:C}){C?M.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetRangeReader - expected an ArrayBuffer."),M.enqueue(new Uint8Array(N),1,[N]))}).catch(N=>{M.error(N)})},M.onCancel=N=>{E.cancel(N),M.ready.catch(C=>{if(!this.destroyed)throw C})}):M.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,S._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let M;switch(i.name){case"PasswordException":M=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":M=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":M=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":M=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":M=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}S._capability.reject(M)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),S.onPassword){const M=E=>{E instanceof Error?this._passwordCapability.reject(E):this._passwordCapability.resolve({password:E})};try{S.onPassword(M,i.code)}catch(E){this._passwordCapability.reject(E)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{S.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,M,E])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(M){case"Font":const N=this._params;if("error"in E){const b=E.error;(0,_util.warn)(`Error during font loading: ${b}`),this.commonObjs.resolve(i,b);break}let C=null;N.pdfBug&&globalThis.FontInspector?.enabled&&(C={registerFont(b,D){globalThis.FontInspector.fontAdded(b,D)}});const P=new _font_loader.FontFaceObject(E,{isEvalSupported:N.isEvalSupported,disableFontFace:N.disableFontFace,ignoreErrors:N.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:C});this.fontLoader.bind(P).catch(b=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!N.fontExtraProperties&&P.data&&(P.data=null),this.commonObjs.resolve(i,P)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,E);break;default:throw new Error(`Got unknown common object type ${M}`)}}),a.on("obj",([i,M,E,N])=>{if(this.destroyed)return;const C=_classPrivateFieldGet(this,_pageCache).get(M);if(!C.objs.has(i))switch(E){case"Image":C.objs.resolve(i,N);const P=8e6;if(N){let b;if(N.bitmap){const{bitmap:D,width:V,height:j}=N;b=V*j*4,C._bitmaps.add(D)}else b=N.data?.length||0;b>P&&(C.cleanupAfterRender=!0)}break;case"Pattern":C.objs.resolve(i,N);break;default:throw new Error(`Got unknown object type ${E}`)}}),a.on("DocProgress",i=>{this.destroyed||S.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const S=a-1,i=_classPrivateFieldGet(this,_pagePromises).get(S);if(i)return i;const M=this.messageHandler.sendWithPromise("GetPage",{pageIndex:S}).then(E=>{if(this.destroyed)throw new Error("Transport destroyed");const N=new PDFPageProxy(S,E,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(S,N),N});return _classPrivateFieldGet(this,_pagePromises).set(S,M),M}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,S){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:S})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var S=this;return _asyncToGenerator(function*(){if(yield S.messageHandler.sendWithPromise("Cleanup",null),!S.destroyed){for(const i of _classPrivateFieldGet(S,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);S.commonObjs.clear(),a||S.fontLoader.clear(),_classPrivateFieldSet(S,_metadataPromise,null),S._getFieldObjectsPromise=null,S._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,S=null){if(S){const M=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return M.capability.promise.then(()=>S(M.data)),null}const i=_classPrivateFieldGet(this,_objs)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,S=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);i.data=S,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(z){return _classPrivateFieldGet(this,_objs)[z]||(_classPrivateFieldGet(this,_objs)[z]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:a,params:S,objs:i,commonObjs:M,annotationCanvasMap:E,operatorList:N,pageIndex:C,canvasFactory:P,useRequestAnimationFrame:b=!1,pdfBug:D=!1,pageColors:V=null}){this.callback=a,this.params=S,this.objs=i,this.commonObjs=M,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=N,this._pageIndex=C,this.canvasFactory=P,this._pdfBug=D,this.pageColors=V,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===b&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=S.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:S}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:M,transform:E,imageLayer:N,background:C}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,N,S,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:E,viewport:M,transparency:a,background:C}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(a._canvas),a.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function t(f){console.log("Deprecated API usage: "+f)},a.getFilenameFromUrl=function A(f){const p=f.indexOf("#"),d=f.indexOf("?"),k=Math.min(p>0?p:f.length,d>0?d:f.length);return f.substring(f.lastIndexOf("/",k)+1,k)},a.getPdfFilenameFromUrl=function w(f,p="document.pdf"){if("string"!=typeof f)return p;if(m(f))return(0,M.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),p;const k=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,L=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(f);let W=k.exec(L[1])||k.exec(L[2])||k.exec(L[3]);if(W&&(W=W[0],W.includes("%")))try{W=k.exec(decodeURIComponent(W))[0]}catch{}return W||p},a.getXfaPageViewport=function l(f,{scale:p=1,rotation:d=0}){const{width:k,height:L}=f.attributes.style,W=[0,0,parseInt(k),parseInt(L)];return new T({viewBox:W,scale:p,rotation:d})},a.isDataScheme=m,a.isPdfFile=function x(f){return"string"==typeof f&&/\.pdf$/i.test(f)},a.isValidFetchUrl=v,a.loadScript=function n(f,p=!1){return new Promise((d,k)=>{const L=document.createElement("script");L.src=f,L.onload=function(W){p&&L.remove(),d(W)},L.onerror=function(){k(new Error(`Cannot load script at: ${L.src}`))},(document.head||document.documentElement).appendChild(L)})};var i=S(6),M=S(1);class N{}function P(f){return b.apply(this,arguments)}function b(){return(b=_asyncToGenerator(function*(f,p=!1){if(v(f,document.baseURI)){const d=yield fetch(f);if(!d.ok)throw new Error(d.statusText);return p?new Uint8Array(yield d.arrayBuffer()):(0,M.stringToBytes)(yield d.text())}return new Promise((d,k)=>{const L=new XMLHttpRequest;L.open("GET",f,!0),p&&(L.responseType="arraybuffer"),L.onreadystatechange=()=>{if(L.readyState===XMLHttpRequest.DONE){if(200===L.status||0===L.status){let W;if(p&&L.response?W=new Uint8Array(L.response):!p&&L.responseText&&(W=(0,M.stringToBytes)(L.responseText)),W)return void d(W)}k(new Error(L.statusText))}},L.send(null)})})).apply(this,arguments)}_defineProperty(N,"CSS",96),_defineProperty(N,"PDF",72),_defineProperty(N,"PDF_TO_CSS_UNITS",N.CSS/N.PDF),a.PixelsPerInch=N,a.DOMCanvasFactory=class C extends i.BaseCanvasFactory{constructor({ownerDocument:p=globalThis.document}={}){super(),this._document=p}_createCanvas(p,d){const k=this._document.createElement("canvas");return k.width=p,k.height=d,k}},a.DOMCMapReaderFactory=class D extends i.BaseCMapReaderFactory{_fetchData(p,d){return P(p,this.isCompressed).then(k=>({cMapData:k,compressionType:d}))}},a.DOMStandardFontDataFactory=class V extends i.BaseStandardFontDataFactory{_fetchData(p){return P(p,!0)}},a.DOMSVGFactory=class j extends i.BaseSVGFactory{_createSVG(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}};class T{constructor({viewBox:p,scale:d,rotation:k,offsetX:L=0,offsetY:W=0,dontFlip:Y=!1}){this.viewBox=p,this.scale=d,this.rotation=k,this.offsetX=L,this.offsetY=W;const Q=(p[2]+p[0])/2,J=(p[3]+p[1])/2;let te,he,oe,O,r,e,s,o;switch((k%=360)<0&&(k+=360),k){case 180:te=-1,he=0,oe=0,O=1;break;case 90:te=0,he=1,oe=1,O=0;break;case 270:te=0,he=-1,oe=-1,O=0;break;case 0:te=1,he=0,oe=0,O=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Y&&(oe=-oe,O=-O),0===te?(r=Math.abs(J-p[1])*d+L,e=Math.abs(Q-p[0])*d+W,s=Math.abs(p[3]-p[1])*d,o=Math.abs(p[2]-p[0])*d):(r=Math.abs(Q-p[0])*d+L,e=Math.abs(J-p[1])*d+W,s=Math.abs(p[2]-p[0])*d,o=Math.abs(p[3]-p[1])*d),this.transform=[te*d,he*d,oe*d,O*d,r-te*d*Q-oe*d*J,e-he*d*Q-O*d*J],this.width=s,this.height=o}clone({scale:p=this.scale,rotation:d=this.rotation,offsetX:k=this.offsetX,offsetY:L=this.offsetY,dontFlip:W=!1}={}){return new T({viewBox:this.viewBox.slice(),scale:p,rotation:d,offsetX:k,offsetY:L,dontFlip:W})}convertToViewportPoint(p,d){return M.Util.applyTransform([p,d],this.transform)}convertToViewportRectangle(p){const d=M.Util.applyTransform([p[0],p[1]],this.transform),k=M.Util.applyTransform([p[2],p[3]],this.transform);return[d[0],d[1],k[0],k[1]]}convertToPdfPoint(p,d){return M.Util.applyInverseTransform([p,d],this.transform)}}function m(f){const p=f.length;let d=0;for(;d<p&&""===f[d].trim();)d++;return"data:"===f.substring(d,d+5).toLowerCase()}function v(f,p){try{const{protocol:d}=p?new URL(f,p):new URL(f);return"http:"===d||"https:"===d}catch{return!1}}let h;a.PageViewport=T,a.RenderingCancelledException=class U extends M.BaseException{constructor(p,d){super(p,"RenderingCancelledException"),this.type=d}},a.StatTimer=class y{constructor(){this.started=Object.create(null),this.times=[]}time(p){p in this.started&&(0,M.warn)(`Timer is already running for ${p}`),this.started[p]=Date.now()}timeEnd(p){p in this.started||(0,M.warn)(`Timer has not been started for ${p}`),this.times.push({name:p,start:this.started[p],end:Date.now()}),delete this.started[p]}toString(){const p=[];let d=0;for(const k of this.times){const L=k.name;L.length>d&&(d=L.length)}for(const k of this.times){const L=k.end-k.start;p.push(`${k.name.padEnd(d)} ${L}ms\n`)}return p.join("")}},a.PDFDateString=class u{static toDateObject(p){if(!p||"string"!=typeof p)return null;h||(h=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const d=h.exec(p);if(!d)return null;const k=parseInt(d[1],10);let L=parseInt(d[2],10);L=L>=1&&L<=12?L-1:0;let W=parseInt(d[3],10);W=W>=1&&W<=31?W:1;let Y=parseInt(d[4],10);Y=Y>=0&&Y<=23?Y:0;let Q=parseInt(d[5],10);Q=Q>=0&&Q<=59?Q:0;let J=parseInt(d[6],10);J=J>=0&&J<=59?J:0;const te=d[7]||"Z";let he=parseInt(d[8],10);he=he>=0&&he<=23?he:0;let oe=parseInt(d[9],10)||0;return oe=oe>=0&&oe<=59?oe:0,"-"===te?(Y+=he,Q+=oe):"+"===te&&(Y-=he,Q-=oe),new Date(Date.UTC(k,L,W,Y,Q,J))}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var i=S(1);class M{constructor(){this.constructor===M&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,D){if(b<=0||D<=0)throw new Error("Invalid canvas size");const V=this._createCanvas(b,D);return{canvas:V,context:V.getContext("2d")}}reset(b,D,V){if(!b.canvas)throw new Error("Canvas is not specified");if(D<=0||V<=0)throw new Error("Invalid canvas size");b.canvas.width=D,b.canvas.height=V}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,D){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=M;class E{constructor({baseUrl:b=null,isCompressed:D=!1}){this.constructor===E&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=D}fetch({name:b}){var D=this;return _asyncToGenerator(function*(){if(!D.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const V=D.baseUrl+b+(D.isCompressed?".bcmap":"");return D._fetchData(V,D.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(T=>{throw new Error(`Unable to load ${D.isCompressed?"binary ":""}CMap at: ${V}`)})})()}_fetchData(b,D){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=E;class N{constructor({baseUrl:b=null}){this.constructor===N&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}fetch({filename:b}){var D=this;return _asyncToGenerator(function*(){if(!D.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const V=`${D.baseUrl}${b}`;return D._fetchData(V).catch(j=>{throw new Error(`Unable to load font data at: ${V}`)})})()}_fetchData(b){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=N;class C{constructor(){this.constructor===C&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,D){if(b<=0||D<=0)throw new Error("Invalid SVG dimensions");const V=this._createSVG("svg:svg");return V.setAttribute("version","1.1"),V.setAttribute("width",`${b}px`),V.setAttribute("height",`${D}px`),V.setAttribute("preserveAspectRatio","none"),V.setAttribute("viewBox",`0 0 ${b} ${D}`),V}createElement(b){if("string"!=typeof b)throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,i.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=C},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var i=S(1);class M{constructor({docId:P,onUnsupportedFeature:b,ownerDocument:D=globalThis.document,styleElement:V=null}){this.constructor===M&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=P,this._onUnsupportedFeature=b,this._document=D,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(P){this.nativeFontFaces.push(P),this._document.fonts.add(P)}insertRule(P){let b=this.styleElement;b||(b=this.styleElement=this._document.createElement("style"),b.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(b));const D=b.sheet;D.insertRule(P,D.cssRules.length)}clear(){for(const P of this.nativeFontFaces)this._document.fonts.delete(P);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(P){var b=this;return _asyncToGenerator(function*(){if(P.attached||P.missingFile)return;if(P.attached=!0,b.isFontLoadingAPISupported){const V=P.createNativeFontFace();if(V){b.addNativeFontFace(V);try{yield V.loaded}catch(j){throw b._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${V.family}': '${j}'.`),P.disableFontFace=!0,j}}return}const D=P.createFontFaceRule();if(D){if(b.insertRule(D),b.isSyncFontLoadingSupported)return;yield new Promise(V=>{const j=b._queueLoadingCallback(V);b._prepareFontLoadEvent([D],[P],j)})}})()}_queueLoadingCallback(P){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(P,b,D){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let E;a.FontLoader=E,a.FontLoader=E=class extends M{constructor(P){super(P),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let P=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(P=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",P)}_queueLoadingCallback(P){const D=this.loadingContext,V={id:"pdfjs-font-loading-"+D.nextRequestId++,done:!1,complete:function b(){for((0,i.assert)(!V.done,"completeRequest() cannot be called twice."),V.done=!0;D.requests.length>0&&D.requests[0].done;){const j=D.requests.shift();setTimeout(j.callback,0)}},callback:P};return D.requests.push(V),V}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(P,b,D){function V(k,L){return k.charCodeAt(L)<<24|k.charCodeAt(L+1)<<16|k.charCodeAt(L+2)<<8|255&k.charCodeAt(L+3)}function j(k,L,W,Y){return k.substring(0,L)+Y+k.substring(L+W)}let T,U;const m=this._document.createElement("canvas");m.width=1,m.height=1;const x=m.getContext("2d");let A=0;const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=j(v,976,y.length,y);const h=1482184792;let u=V(v,16);for(T=0,U=y.length-3;T<U;T+=4)u=u-h+V(y,T)|0;T<y.length&&(u=u-h+V(y+"XXX",T)|0),v=j(v,16,4,(0,i.string32)(u));const l=`url(data:font/opentype;base64,${btoa(v)});`;this.insertRule(`@font-face {font-family:"${y}";src:${l}}`);const p=[];for(const k of b)p.push(k.loadedName);p.push(y);const d=this._document.createElement("div");d.style.visibility="hidden",d.style.width=d.style.height="10px",d.style.position="absolute",d.style.top=d.style.left="0px";for(const k of p){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=k,d.appendChild(L)}this._document.body.appendChild(d),function w(k,L){if(A++,A>30)return(0,i.warn)("Load test font never loaded."),void L();x.font="30px "+k,x.fillText(".",0,20),x.getImageData(0,0,1,1).data[3]>0?L():setTimeout(w.bind(null,k,L))}(y,()=>{d.remove(),D.complete()})}},a.FontFaceObject=class N{constructor(P,{isEvalSupported:b=!0,disableFontFace:D=!1,ignoreErrors:V=!1,onUnsupportedFeature:j,fontRegistry:T=null}){this.compiledGlyphs=Object.create(null);for(const U in P)this[U]=P[U];this.isEvalSupported=!1!==b,this.disableFontFace=!0===D,this.ignoreErrors=!0===V,this._onUnsupportedFeature=j,this.fontRegistry=T}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let P;if(this.cssFontInfo){const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),P=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}else P=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),P}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const P=(0,i.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(P)});`;let D;if(this.cssFontInfo){let V=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(V+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),D=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${V}src:${b}}`}else D=`@font-face {font-family:"${this.loadedName}";src:${b}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,b),D}getPathGenerator(P,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];let D;try{D=P.get(this.loadedName+"_path_"+b)}catch(V){if(!this.ignoreErrors)throw V;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${V}".`),this.compiledGlyphs[b]=function(j,T){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const V=[];for(const j of D){const T=void 0!==j.args?j.args.join(","):"";V.push("c.",j.cmd,"(",T,");\n")}return this.compiledGlyphs[b]=new Function("c","size",V.join(""))}return this.compiledGlyphs[b]=function(V,j){for(const T of D)"scale"===T.cmd&&(T.args=[j,-j]),V[T.cmd].apply(V,T.args)}}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var i=S(9),M=S(1);a.AnnotationStorage=class E{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(C,P){const b=this._storage.get(C);return void 0===b?P:Object.assign(P,b)}getRawValue(C){return this._storage.get(C)}setValue(C,P){const b=this._storage.get(C);let D=!1;if(void 0!==b)for(const[V,j]of Object.entries(P))b[V]!==j&&(D=!0,b[V]=j);else D=!0,this._storage.set(C,P);D&&this._setModified()}getAll(){return this._storage.size>0?(0,M.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const C=new i.MurmurHash3_64;for(const[P,b]of this._storage)C.update(`${P}:${JSON.stringify(b)}`);return C.hexdigest()}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var i=S(1);const M=3285377520,E=4294901760,N=65535;a.MurmurHash3_64=class C{constructor(b){this.h1=b?4294967295&b:M,this.h2=b?4294967295&b:M}update(b){let D,V;if("string"==typeof b){D=new Uint8Array(2*b.length),V=0;for(let h=0,u=b.length;h<u;h++){const l=b.charCodeAt(h);l<=255?D[V++]=l:(D[V++]=l>>>8,D[V++]=255&l)}}else{if(!(0,i.isArrayBuffer)(b))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");D=b.slice(),V=D.byteLength}const j=V>>2,T=V-4*j,U=new Uint32Array(D.buffer,0,j);let m=0,x=0,A=this.h1,w=this.h2;const y=3432918353,v=461845907,n=y&N,t=v&N;for(let h=0;h<j;h++)1&h?(m=U[h],m=m*y&E|m*n&N,m=m<<15|m>>>17,m=m*v&E|m*t&N,A^=m,A=A<<13|A>>>19,A=5*A+3864292196):(x=U[h],x=x*y&E|x*n&N,x=x<<15|x>>>17,x=x*v&E|x*t&N,w^=x,w=w<<13|w>>>19,w=5*w+3864292196);switch(m=0,T){case 3:m^=D[4*j+2]<<16;case 2:m^=D[4*j+1]<<8;case 1:m^=D[4*j],m=m*y&E|m*n&N,m=m<<15|m>>>17,m=m*v&E|m*t&N,1&j?A^=m:w^=m}this.h1=A,this.h2=w}hexdigest(){let b=this.h1,D=this.h2;b^=D>>>1,b=3981806797*b&E|36045*b&N,D=4283543511*D&E|(2950163797*(D<<16|b>>>16)&E)>>>16,b^=D>>>1,b=444984403*b&E|60499*b&N,D=3301882366*D&E|(3120437893*(D<<16|b>>>16)&E)>>>16,b^=D>>>1;const V=(b>>>0).toString(16),j=(D>>>0).toString(16);return V.padStart(8,"0")+j.padStart(8,"0")}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var i=S(1),M=S(11),E=S(12),N=S(3),C=S(5);const D=4096,m=16;function w(O){if(O._transformStack&&(O._transformStack=[]),!O.mozCurrentTransform){O._originalSave=O.save,O._originalRestore=O.restore,O._originalRotate=O.rotate,O._originalScale=O.scale,O._originalTranslate=O.translate,O._originalTransform=O.transform,O._originalSetTransform=O.setTransform,O._originalResetTransform=O.resetTransform,O._transformMatrix=O._transformMatrix||[1,0,0,1,0,0],O._transformStack=[];try{const r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(O),"lineWidth");O._setLineWidth=r.set,O._getLineWidth=r.get,Object.defineProperty(O,"lineWidth",{set:function(s){this._setLineWidth(1.000001*s)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(O,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(O,"mozCurrentTransformInverse",{get:function(){const[e,s,o,g,_,c]=this._transformMatrix,F=e*g-s*o,q=s*o-e*g;return[g/F,s/q,o/q,e/F,(g*_-o*c)/q,(s*_-e*c)/F]}}),O.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},O.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},O.translate=function(e,s){const o=this._transformMatrix;o[4]=o[0]*e+o[2]*s+o[4],o[5]=o[1]*e+o[3]*s+o[5],this._originalTranslate(e,s)},O.scale=function(e,s){const o=this._transformMatrix;o[0]*=e,o[1]*=e,o[2]*=s,o[3]*=s,this._originalScale(e,s)},O.transform=function(e,s,o,g,_,c){const F=this._transformMatrix;this._transformMatrix=[F[0]*e+F[2]*s,F[1]*e+F[3]*s,F[0]*o+F[2]*g,F[1]*o+F[3]*g,F[0]*_+F[2]*c+F[4],F[1]*_+F[3]*c+F[5]],O._originalTransform(e,s,o,g,_,c)},O.setTransform=function(e,s,o,g,_,c){this._transformMatrix=[e,s,o,g,_,c],O._originalSetTransform(e,s,o,g,_,c)},O.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],O._originalResetTransform()},O.rotate=function(e){const s=Math.cos(e),o=Math.sin(e),g=this._transformMatrix;this._transformMatrix=[g[0]*s+g[2]*o,g[1]*s+g[3]*o,g[0]*-o+g[2]*s,g[1]*-o+g[3]*s,g[4],g[5]],this._originalRotate(e)}}}class y{constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,e,s,o){let g;return void 0!==this.cache[r]?(g=this.cache[r],this.canvasFactory.reset(g,e,s),g.context.setTransform(1,0,0,1,0,0)):(g=this.canvasFactory.create(e,s),this.cache[r]=g),o&&w(g.context),g}delete(r){delete this.cache[r]}clear(){for(const r in this.cache)this.canvasFactory.destroy(this.cache[r]),delete this.cache[r]}}function v(O,r,e,s,o,g,_,c,F,q){const[B,$,X,Z,ee,ue]=O.mozCurrentTransform;if(0===$&&0===X){const ae=Math.round(_*B+ee),Ce=Math.round(c*Z+ue),re=Math.abs(Math.round((_+F)*B+ee)-ae)||1,be=Math.abs(Math.round((c+q)*Z+ue)-Ce)||1;return O.setTransform(Math.sign(B),0,0,Math.sign(Z),ae,Ce),O.drawImage(r,e,s,o,g,0,0,re,be),O.setTransform(B,$,X,Z,ee,ue),[re,be]}if(0===B&&0===Z){const ae=Math.round(c*X+ee),Ce=Math.round(_*$+ue),re=Math.abs(Math.round((c+q)*X+ee)-ae)||1,be=Math.abs(Math.round((_+F)*$+ue)-Ce)||1;return O.setTransform(0,Math.sign($),Math.sign(X),0,ae,Ce),O.drawImage(r,e,s,o,g,0,0,be,re),O.setTransform(B,$,X,Z,ee,ue),[be,re]}return O.drawImage(r,e,s,o,g,_,c,F,q),[Math.hypot(B,$)*F,Math.hypot(X,Z)*q]}class t{constructor(r,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,r,e])}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r}setCurrentPoint(r,e){this.x=r,this.y=e}updatePathMinMax(r,e,s){[e,s]=i.Util.applyTransform([e,s],r),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(r,e){const s=i.Util.applyTransform(e,r),o=i.Util.applyTransform(e.slice(2),r);this.minX=Math.min(this.minX,s[0],o[0]),this.minY=Math.min(this.minY,s[1],o[1]),this.maxX=Math.max(this.maxX,s[0],o[0]),this.maxY=Math.max(this.maxY,s[1],o[1])}updateScalingPathMinMax(r,e){i.Util.scaleMinMax(r,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(r,e,s,o,g,_,c,F,q,B){const $=i.Util.bezierBoundingBox(e,s,o,g,_,c,F,q);if(B)return B[0]=Math.min(B[0],$[0],$[2]),B[1]=Math.max(B[1],$[0],$[2]),B[2]=Math.min(B[2],$[1],$[3]),void(B[3]=Math.max(B[3],$[1],$[3]));this.updateRectMinMax(r,$)}getPathBoundingBox(r=M.PathType.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(r===M.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const o=i.Util.singularValueDecompose2dScale(e),g=o[0]*this.lineWidth/2,_=o[1]*this.lineWidth/2;s[0]-=g,s[1]-=_,s[2]+=g,s[3]+=_}return s}updateClipFromPath(){const r=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(r){this.clipBox=r,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(r=M.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(r,e))}}function h(O,r,e=null){if(typeof ImageData<"u"&&r instanceof ImageData)return void O.putImageData(r,0,0);const s=r.height,o=r.width,g=s%m,_=(s-g)/m,c=0===g?_:_+1,F=O.createImageData(o,m);let B,q=0;const $=r.data,X=F.data;let Z,ee,ue,_e,Ae,me,ae,we;if(e)switch(e.length){case 1:Ae=e[0],me=e[0],ae=e[0],we=e[0];break;case 4:Ae=e[0],me=e[1],ae=e[2],we=e[3]}if(r.kind===i.ImageKind.GRAYSCALE_1BPP){const Ce=$.byteLength,pe=new Uint32Array(X.buffer,0,X.byteLength>>2),re=pe.length,de=o+7>>3;let be=4294967295,ne=i.FeatureTest.isLittleEndian?4278190080:255;for(we&&255===we[0]&&0===we[255]&&([be,ne]=[ne,be]),Z=0;Z<c;Z++){for(ue=Z<_?m:g,B=0,ee=0;ee<ue;ee++){const R=Ce-q;let K=0;const le=R>de?o:8*R-7,ge=-8&le;let H=0,I=0;for(;K<ge;K+=8)I=$[q++],pe[B++]=128&I?be:ne,pe[B++]=64&I?be:ne,pe[B++]=32&I?be:ne,pe[B++]=16&I?be:ne,pe[B++]=8&I?be:ne,pe[B++]=4&I?be:ne,pe[B++]=2&I?be:ne,pe[B++]=1&I?be:ne;for(;K<le;K++)0===H&&(I=$[q++],H=128),pe[B++]=I&H?be:ne,H>>=1}for(;B<re;)pe[B++]=0;O.putImageData(F,0,Z*m)}}else if(r.kind===i.ImageKind.RGBA_32BPP){const Ce=!!(Ae||me||ae);for(ee=0,_e=o*m*4,Z=0;Z<_;Z++){if(X.set($.subarray(q,q+_e)),q+=_e,Ce)for(let pe=0;pe<_e;pe+=4)Ae&&(X[pe+0]=Ae[X[pe+0]]),me&&(X[pe+1]=me[X[pe+1]]),ae&&(X[pe+2]=ae[X[pe+2]]);O.putImageData(F,0,ee),ee+=m}if(Z<c){if(_e=o*g*4,X.set($.subarray(q,q+_e)),Ce)for(let pe=0;pe<_e;pe+=4)Ae&&(X[pe+0]=Ae[X[pe+0]]),me&&(X[pe+1]=me[X[pe+1]]),ae&&(X[pe+2]=ae[X[pe+2]]);O.putImageData(F,0,ee)}}else{if(r.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${r.kind}`);{const Ce=!!(Ae||me||ae);for(ue=m,_e=o*ue,Z=0;Z<c;Z++){for(Z>=_&&(ue=g,_e=o*ue),B=0,ee=_e;ee--;)X[B++]=$[q++],X[B++]=$[q++],X[B++]=$[q++],X[B++]=255;if(Ce)for(let pe=0;pe<B;pe+=4)Ae&&(X[pe+0]=Ae[X[pe+0]]),me&&(X[pe+1]=me[X[pe+1]]),ae&&(X[pe+2]=ae[X[pe+2]]);O.putImageData(F,0,Z*m)}}}}function u(O,r){if(r.bitmap)return void O.drawImage(r.bitmap,0,0);const e=r.height,s=r.width,o=e%m,g=(e-o)/m,_=0===o?g:g+1,c=O.createImageData(s,m);let F=0;const q=r.data,B=c.data;for(let $=0;$<_;$++){const X=$<g?m:o;({srcPos:F}=(0,E.applyMaskImageData)({src:q,srcPos:F,dest:B,width:s,height:X})),O.putImageData(c,0,$*m)}}function l(O,r){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let s=0,o=e.length;s<o;s++){const g=e[s];void 0!==O[g]&&(r[g]=O[g])}void 0!==O.setLineDash&&(r.setLineDash(O.getLineDash()),r.lineDashOffset=O.lineDashOffset)}function f(O,r){O.strokeStyle=O.fillStyle=r||"#000000",O.fillRule="nonzero",O.globalAlpha=1,O.lineWidth=1,O.lineCap="butt",O.lineJoin="miter",O.miterLimit=10,O.globalCompositeOperation="source-over",O.font="10px sans-serif",void 0!==O.setLineDash&&(O.setLineDash([]),O.lineDashOffset=0)}function p(O,r,e,s){const o=O.length;for(let g=3;g<o;g+=4){const _=O[g];if(0===_)O[g-3]=r,O[g-2]=e,O[g-1]=s;else if(_<255){const c=255-_;O[g-3]=O[g-3]*_+r*c>>8,O[g-2]=O[g-2]*_+e*c>>8,O[g-1]=O[g-1]*_+s*c>>8}}}function d(O,r,e){const s=O.length;for(let g=3;g<s;g+=4)r[g]=r[g]*(e?e[O[g]]:O[g])*.00392156862745098|0}function k(O,r,e){const s=O.length;for(let o=3;o<s;o+=4){const g=77*O[o-3]+152*O[o-2]+28*O[o-1];r[o]=e?r[o]*e[g>>8]>>8:r[o]*g>>16}}function Y(O,r){const e=i.Util.singularValueDecompose2dScale(O);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*C.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==r?r:e[0]<=s||e[1]<=s}const Q=["butt","round","square"],J=["miter","round","bevel"],te={},he={};class oe{constructor(r,e,s,o,g,_,c,F){this.ctx=r,this.current=new t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=o,this.imageLayer=g,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=_,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=F?.background||null,this.foregroundColor=F?.foreground||null,r&&w(r),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,e=null){return"string"==typeof r?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):e}beginDrawing({transform:r,viewport:e,transparency:s=!1,background:o=null}){const g=this.ctx.canvas.width,_=this.ctx.canvas.height,c=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const F=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const q=this.backgroundColor=this.ctx.fillStyle;let B=!0,$=c;if(this.ctx.fillStyle=c,$=this.ctx.fillStyle,B="string"==typeof $&&/^#[0-9A-Fa-f]{6}$/.test($),"#000000"===F&&"#ffffff"===q||F===q||!B)this.foregroundColor=this.backgroundColor=null;else{const X=parseInt($.slice(1),16),ee=(X&&65280)>>8,ue=X&&255,_e=me=>(me/=255)<=.03928?me/12.92:((me+.055)/1.055)**2.4,Ae=Math.round(.2126*_e((X&&16711680)>>16)+.7152*_e(ee)+.0722*_e(ue));this.selectColor=(me,ae,we)=>{const Ce=.2126*_e(me)+.7152*_e(ae)+.0722*_e(we);return Math.round(Ce)===Ae?q:F}}}if(this.ctx.fillStyle=this.backgroundColor||c,this.ctx.fillRect(0,0,g,_),this.ctx.restore(),s){const F=this.cachedCanvases.getCanvas("transparent",g,_,!0);this.compositeCtx=this.ctx,this.transparentCanvas=F.canvas,this.ctx=F.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),f(this.ctx,this.foregroundColor),r&&(this.ctx.transform.apply(this.ctx,r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(r,e,s,o){const g=r.argsArray,_=r.fnArray;let c=e||0;const F=g.length;if(F===c)return c;const q=F-c>10&&"function"==typeof s,B=q?Date.now()+15:0;let $=0;const X=this.commonObjs,Z=this.objs;let ee;for(;;){if(void 0!==o&&c===o.nextBreakPoint)return o.breakIt(c,s),c;if(ee=_[c],ee!==i.OPS.dependency)this[ee].apply(this,g[c]);else for(const ue of g[c]){const _e=ue.startsWith("g_")?X:Z;if(!_e.has(ue))return _e.get(ue,s),c}if(c++,c===F)return c;if(q&&++$>10){if(Date.now()>B)return s(),c;$=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const e of r.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);r.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(r,e){const s=r.width,o=r.height;let B,$,g=Math.max(Math.hypot(e[0],e[1]),1),_=Math.max(Math.hypot(e[2],e[3]),1),c=s,F=o,q="prescale1";for(;g>2&&c>1||_>2&&F>1;){let X=c,Z=F;g>2&&c>1&&(X=Math.ceil(c/2),g/=c/X),_>2&&F>1&&(Z=Math.ceil(F/2),_/=F/Z),B=this.cachedCanvases.getCanvas(q,X,Z,!1),$=B.context,$.clearRect(0,0,X,Z),$.drawImage(r,0,0,c,F,0,0,X,Z),r=B.canvas,c=X,F=Z,q="prescale1"===q?"prescale2":"prescale1"}return{img:r,paintWidth:c,paintHeight:F}}_createMaskCanvas(r){const e=this.ctx,{width:s,height:o}=r,g=this.current.fillColor,_=this.current.patternFill,c=e.mozCurrentTransform;let F,q,B,$;if((r.bitmap||r.data)&&r.count>1){const re=r.bitmap||r.data.buffer,de=c.slice(0,4);q=JSON.stringify(_?de:[de,g]),F=this._cachedBitmapsMap.get(re),F||(F=new Map,this._cachedBitmapsMap.set(re,F));const be=F.get(q);if(be&&!_)return{canvas:be,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};B=be}B||($=this.cachedCanvases.getCanvas("maskCanvas",s,o,!1),u($.context,r));let X=i.Util.transform(c,[1/s,0,0,-1/o,0,0]);X=i.Util.transform(X,[1,0,0,1,0,-o]);const Z=i.Util.applyTransform([0,0],X),ee=i.Util.applyTransform([s,o],X),ue=i.Util.normalizeRect([Z[0],Z[1],ee[0],ee[1]]),_e=Math.round(ue[2]-ue[0])||1,Ae=Math.round(ue[3]-ue[1])||1,me=this.cachedCanvases.getCanvas("fillCanvas",_e,Ae,!0),ae=me.context,we=Math.min(Z[0],ee[0]),Ce=Math.min(Z[1],ee[1]);ae.translate(-we,-Ce),ae.transform.apply(ae,X),B||(B=this._scaleImage($.canvas,ae.mozCurrentTransformInverse),B=B.img,F&&_&&F.set(q,B)),ae.imageSmoothingEnabled=Y(ae.mozCurrentTransform,r.interpolate),v(ae,B,0,0,B.width,B.height,0,0,s,o),ae.globalCompositeOperation="source-in";const pe=i.Util.transform(ae.mozCurrentTransformInverse,[1,0,0,1,-we,-Ce]);return ae.fillStyle=_?g.getPattern(e,this,pe,M.PathType.FILL):g,ae.fillRect(0,0,s,o),F&&!_&&(this.cachedCanvases.delete("fillCanvas"),F.set(q,me.canvas)),{canvas:me.canvas,offsetX:Math.round(we),offsetY:Math.round(Ce)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=Q[r]}setLineJoin(r){this.ctx.lineJoin=J[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,e){const s=this.ctx;void 0!==s.setLineDash&&(s.setLineDash(r),s.lineDashOffset=e)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(let e=0,s=r.length;e<s;e++){const o=r[e],_=o[1];switch(o[0]){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_[0],_[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=_;break;case"SMask":this.current.activeSMask=_?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=_}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const g=this.ctx;g.setTransform.apply(g,this.suspendedCtx.mozCurrentTransform),l(this.suspendedCtx,g),function A(O,r){if(O._removeMirroring)throw new Error("Context is already forwarding operations.");O.__originalSave=O.save,O.__originalRestore=O.restore,O.__originalRotate=O.rotate,O.__originalScale=O.scale,O.__originalTranslate=O.translate,O.__originalTransform=O.transform,O.__originalSetTransform=O.setTransform,O.__originalResetTransform=O.resetTransform,O.__originalClip=O.clip,O.__originalMoveTo=O.moveTo,O.__originalLineTo=O.lineTo,O.__originalBezierCurveTo=O.bezierCurveTo,O.__originalRect=O.rect,O.__originalClosePath=O.closePath,O.__originalBeginPath=O.beginPath,O._removeMirroring=()=>{O.save=O.__originalSave,O.restore=O.__originalRestore,O.rotate=O.__originalRotate,O.scale=O.__originalScale,O.translate=O.__originalTranslate,O.transform=O.__originalTransform,O.setTransform=O.__originalSetTransform,O.resetTransform=O.__originalResetTransform,O.clip=O.__originalClip,O.moveTo=O.__originalMoveTo,O.lineTo=O.__originalLineTo,O.bezierCurveTo=O.__originalBezierCurveTo,O.rect=O.__originalRect,O.closePath=O.__originalClosePath,O.beginPath=O.__originalBeginPath,delete O._removeMirroring},O.save=function(){r.save(),this.__originalSave()},O.restore=function(){r.restore(),this.__originalRestore()},O.translate=function(s,o){r.translate(s,o),this.__originalTranslate(s,o)},O.scale=function(s,o){r.scale(s,o),this.__originalScale(s,o)},O.transform=function(s,o,g,_,c,F){r.transform(s,o,g,_,c,F),this.__originalTransform(s,o,g,_,c,F)},O.setTransform=function(s,o,g,_,c,F){r.setTransform(s,o,g,_,c,F),this.__originalSetTransform(s,o,g,_,c,F)},O.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},O.rotate=function(s){r.rotate(s),this.__originalRotate(s)},O.clip=function(s){r.clip(s),this.__originalClip(s)},O.moveTo=function(e,s){r.moveTo(e,s),this.__originalMoveTo(e,s)},O.lineTo=function(e,s){r.lineTo(e,s),this.__originalLineTo(e,s)},O.bezierCurveTo=function(e,s,o,g,_,c){r.bezierCurveTo(e,s,o,g,_,c),this.__originalBezierCurveTo(e,s,o,g,_,c)},O.rect=function(e,s,o,g){r.rect(e,s,o,g),this.__originalRect(e,s,o,g)},O.closePath=function(){r.closePath(),this.__originalClosePath()},O.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}(g,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),l(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){this.current.activeSMask&&(r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function W(O,r,e,s){const o=s[0],g=s[1],_=s[2]-o,c=s[3]-g;0===_||0===c||(function L(O,r,e,s,o,g,_,c,F,q,B){const $=!!g,X=$?g[0]:0,Z=$?g[1]:0,ee=$?g[2]:0;let ue;ue="Luminosity"===o?k:d;const Ae=Math.min(s,Math.ceil(1048576/e));for(let me=0;me<s;me+=Ae){const ae=Math.min(Ae,s-me),we=O.getImageData(c-q,me+(F-B),e,ae),Ce=r.getImageData(c,me+F,e,ae);$&&p(we.data,X,Z,ee),ue(we.data,Ce.data,_),r.putImageData(Ce,c,me+F)}}(r.context,e,_,c,r.subtype,r.backdrop,r.transferMap,o,g,r.offsetX,r.offsetY),O.save(),O.globalAlpha=1,O.globalCompositeOperation="source-over",O.setTransform(1,0,0,1,0,0),O.drawImage(e.canvas,0,0),O.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(l(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),l(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(r,e,s,o,g,_){this.ctx.transform(r,e,s,o,g,_),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(r,e,s){const o=this.ctx,g=this.current;let F,q,_=g.x,c=g.y;const B=o.mozCurrentTransform,$=0===B[0]&&0===B[3]||0===B[1]&&0===B[2],X=$?s.slice(0):null;for(let Z=0,ee=0,ue=r.length;Z<ue;Z++)switch(0|r[Z]){case i.OPS.rectangle:_=e[ee++],c=e[ee++];const _e=e[ee++],Ae=e[ee++],me=_+_e,ae=c+Ae;o.moveTo(_,c),0===_e||0===Ae?o.lineTo(me,ae):(o.lineTo(me,c),o.lineTo(me,ae),o.lineTo(_,ae)),$||g.updateRectMinMax(B,[_,c,me,ae]),o.closePath();break;case i.OPS.moveTo:_=e[ee++],c=e[ee++],o.moveTo(_,c),$||g.updatePathMinMax(B,_,c);break;case i.OPS.lineTo:_=e[ee++],c=e[ee++],o.lineTo(_,c),$||g.updatePathMinMax(B,_,c);break;case i.OPS.curveTo:F=_,q=c,_=e[ee+4],c=e[ee+5],o.bezierCurveTo(e[ee],e[ee+1],e[ee+2],e[ee+3],_,c),g.updateCurvePathMinMax(B,F,q,e[ee],e[ee+1],e[ee+2],e[ee+3],_,c,X),ee+=6;break;case i.OPS.curveTo2:F=_,q=c,o.bezierCurveTo(_,c,e[ee],e[ee+1],e[ee+2],e[ee+3]),g.updateCurvePathMinMax(B,F,q,_,c,e[ee],e[ee+1],e[ee+2],e[ee+3],X),_=e[ee+2],c=e[ee+3],ee+=4;break;case i.OPS.curveTo3:F=_,q=c,_=e[ee+2],c=e[ee+3],o.bezierCurveTo(e[ee],e[ee+1],_,c,_,c),g.updateCurvePathMinMax(B,F,q,e[ee],e[ee+1],_,c,_,c,X),ee+=4;break;case i.OPS.closePath:o.closePath()}$&&g.updateScalingPathMinMax(B,X),g.setCurrentPoint(_,c)}closePath(){this.ctx.closePath()}stroke(r){r=!(typeof r<"u")||r;const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof s&&s?.getPattern?(e.save(),e.strokeStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,M.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),r&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(r){r=!(typeof r<"u")||r;const e=this.ctx,s=this.current.fillColor;let g=!1;this.current.patternFill&&(e.save(),e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,M.PathType.FILL),g=!0);const _=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==_&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),g&&e.restore(),r&&this.consumePath(_)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=he}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,e=this.ctx;if(void 0!==r){e.save(),e.beginPath();for(let s=0;s<r.length;s++){const o=r[s];e.setTransform.apply(e,o.transform),e.translate(o.x,o.y),o.addToPath(e,o.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,e){const s=this.commonObjs.get(r),o=this.current;if(!s)throw new Error(`Can't find font for ${r}`);if(o.fontMatrix=s.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+r),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;let _="normal";s.black?_="900":s.bold&&(_="bold");const c=s.italic?"italic":"normal",F=`"${s.loadedName||"sans-serif"}", ${s.fallbackName}`;let q=e;e<16?q=16:e>100&&(q=100),this.current.fontSizeScale=e/q,this.ctx.font=`${c} ${_} ${q}px ${F}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,e){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=e}setLeadingMoveText(r,e){this.setLeading(-e),this.moveText(r,e)}setTextMatrix(r,e,s,o,g,_){this.current.textMatrix=[r,e,s,o,g,_],this.current.textMatrixScale=Math.hypot(r,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,e,s,o){const g=this.ctx,_=this.current,c=_.font,F=_.textRenderingMode,q=_.fontSize/_.fontSizeScale,B=F&i.TextRenderingMode.FILL_STROKE_MASK,$=!!(F&i.TextRenderingMode.ADD_TO_PATH_FLAG),X=_.patternFill&&!c.missingFile;let Z;(c.disableFontFace||$||X)&&(Z=c.getPathGenerator(this.commonObjs,r)),c.disableFontFace||X?(g.save(),g.translate(e,s),g.beginPath(),Z(g,q),o&&g.setTransform.apply(g,o),(B===i.TextRenderingMode.FILL||B===i.TextRenderingMode.FILL_STROKE)&&g.fill(),(B===i.TextRenderingMode.STROKE||B===i.TextRenderingMode.FILL_STROKE)&&g.stroke(),g.restore()):((B===i.TextRenderingMode.FILL||B===i.TextRenderingMode.FILL_STROKE)&&g.fillText(r,e,s),(B===i.TextRenderingMode.STROKE||B===i.TextRenderingMode.FILL_STROKE)&&g.strokeText(r,e,s)),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:g.mozCurrentTransform,x:e,y:s,fontSize:q,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);r.scale(1.5,1),r.fillText("I",0,10);const e=r.getImageData(0,0,10,10).data;let s=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){s=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",s)}showText(r){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(r);const o=e.fontSize;if(0===o)return;const g=this.ctx,_=e.fontSizeScale,c=e.charSpacing,F=e.wordSpacing,q=e.fontDirection,B=e.textHScale*q,$=r.length,X=s.vertical,Z=X?1:-1,ee=s.defaultVMetrics,ue=o*e.fontMatrix[0],_e=e.textRenderingMode===i.TextRenderingMode.FILL&&!s.disableFontFace&&!e.patternFill;let Ae;if(g.save(),g.transform.apply(g,e.textMatrix),g.translate(e.x,e.y+e.textRise),g.scale(B,q>0?-1:1),e.patternFill){g.save();const pe=e.fillColor.getPattern(g,this,g.mozCurrentTransformInverse,M.PathType.FILL);Ae=g.mozCurrentTransform,g.restore(),g.fillStyle=pe}let me=e.lineWidth;const ae=e.textMatrixScale;if(0===ae||0===me){const pe=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(pe===i.TextRenderingMode.STROKE||pe===i.TextRenderingMode.FILL_STROKE)&&(me=this.getSinglePixelWidth())}else me/=ae;1!==_&&(g.scale(_,_),me/=_),g.lineWidth=me;let Ce,we=0;for(Ce=0;Ce<$;++Ce){const pe=r[Ce];if("number"==typeof pe){we+=Z*pe*o/1e3;continue}let re=!1;const de=(pe.isSpace?F:0)+c,be=pe.fontChar,ne=pe.accent;let R,K,ge,le=pe.width;if(X){const H=pe.vmetric||ee,I=-(pe.vmetric?H[1]:.5*le)*ue;le=H?-H[0]:le,R=I/_,K=(we+H[2]*ue)/_}else R=we/_,K=0;if(s.remeasure&&le>0){const H=1e3*g.measureText(be).width/o*_;if(le<H&&this.isFontSubpixelAAEnabled){const I=le/H;re=!0,g.save(),g.scale(I,1),R/=I}else le!==H&&(R+=(le-H)/2e3*o/_)}this.contentVisible&&(pe.isInFont||s.missingFile)&&(_e&&!ne?g.fillText(be,R,K):(this.paintChar(be,R,K,Ae),ne&&this.paintChar(ne.fontChar,R+o*ne.offset.x/_,K-o*ne.offset.y/_,Ae))),ge=X?le*ue-de*q:le*ue+de*q,we+=ge,re&&g.restore()}X?e.y-=we:e.x+=we*B,g.restore(),this.compose()}showType3Text(r){const e=this.ctx,s=this.current,o=s.font,g=s.fontSize,_=s.fontDirection,c=o.vertical?1:-1,F=s.charSpacing,q=s.wordSpacing,B=s.textHScale*_,$=s.fontMatrix||i.FONT_IDENTITY_MATRIX,X=r.length;let ee,ue,_e,Ae;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==g){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,s.textMatrix),e.translate(s.x,s.y),e.scale(B,_),ee=0;ee<X;++ee){if(ue=r[ee],"number"==typeof ue){Ae=c*ue*g/1e3,this.ctx.translate(Ae,0),s.x+=Ae*B;continue}const me=(ue.isSpace?q:0)+F,ae=o.charProcOperatorList[ue.operatorListId];ae?(this.contentVisible&&(this.processingType3=ue,this.save(),e.scale(g,g),e.transform.apply(e,$),this.executeOperatorList(ae),this.restore()),_e=i.Util.applyTransform([ue.width,0],$)[0]*g+me,e.translate(_e,0),s.x+=_e*B):(0,i.warn)(`Type3 character "${ue.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(r,e){}setCharWidthAndBounds(r,e,s,o,g,_){this.ctx.rect(s,o,g-s,_-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(r){let e;if("TilingPattern"===r[0]){const s=r[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new M.TilingPattern(r,s,this.ctx,{createCanvasGraphics:_=>new oe(_,this.commonObjs,this.objs,this.canvasFactory)},o)}else e=this._getPattern(r[1],r[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,e,s){const o=this.selectColor?.(r,e,s)||i.Util.makeHexColor(r,e,s);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(r,e,s){const o=this.selectColor?.(r,e,s)||i.Util.makeHexColor(r,e,s);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(r,e=null){let s;return this.cachedPatterns.has(r)?s=this.cachedPatterns.get(r):(s=(0,M.getShadingPattern)(this.objs.get(r)),this.cachedPatterns.set(r,s)),e&&(s.matrix=e),s}shadingFill(r){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(r);e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,M.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const g=e.canvas,_=g.width,c=g.height,F=i.Util.applyTransform([0,0],o),q=i.Util.applyTransform([0,c],o),B=i.Util.applyTransform([_,0],o),$=i.Util.applyTransform([_,c],o),X=Math.min(F[0],q[0],B[0],$[0]),Z=Math.min(F[1],q[1],B[1],$[1]),ee=Math.max(F[0],q[0],B[0],$[0]),ue=Math.max(F[1],q[1],B[1],$[1]);this.ctx.fillRect(X,Z,ee-X,ue-Z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(r,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(r)&&6===r.length&&this.transform.apply(this,r),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;r.isolated||(0,i.info)("TODO: Support non-isolated groups."),r.knockout&&(0,i.warn)("Knockout groups not supported.");const s=e.mozCurrentTransform;if(r.matrix&&e.transform.apply(e,r.matrix),!r.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(r.bbox,e.mozCurrentTransform);o=i.Util.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const _=Math.floor(o[0]),c=Math.floor(o[1]);let F=Math.max(Math.ceil(o[2])-_,1),q=Math.max(Math.ceil(o[3])-c,1),B=1,$=1;F>D&&(B=F/D,F=D),q>D&&($=q/D,q=D),this.current.startNewPathAndClipBox([0,0,F,q]);let X="groupAt"+this.groupLevel;r.smask&&(X+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas(X,F,q,!0),ee=Z.context;ee.scale(1/B,1/$),ee.translate(-_,-c),ee.transform.apply(ee,s),r.smask?this.smaskStack.push({canvas:Z.canvas,context:ee,offsetX:_,offsetY:c,scaleX:B,scaleY:$,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(_,c),e.scale(B,$),e.save()),l(e,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const g=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(g)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(r,e,s,o,g){if(this.save(),Array.isArray(e)&&4===e.length){const _=e[2]-e[0],c=e[3]-e[1];if(g&&this.annotationCanvasMap){(s=s.slice())[4]-=e[0],s[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=_,e[3]=c;const[F,q]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:B}=this,$=Math.ceil(_*this.outputScaleX*B),X=Math.ceil(c*this.outputScaleY*B);this.annotationCanvas=this.canvasFactory.create($,X);const{canvas:Z,context:ee}=this.annotationCanvas,ue=`var(--zoom-factor) * ${C.PixelsPerInch.PDF_TO_CSS_UNITS}`;Z.style.width=`calc(${_}px * ${ue})`,Z.style.height=`calc(${c}px * ${ue})`,this.annotationCanvasMap.set(r,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform(F,0,0,-q,0,c*q),w(this.ctx),f(this.ctx,this.foregroundColor)}else f(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],_,c),this.ctx.clip(),this.endPath()}this.current=new t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,s),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(r){if(!this.contentVisible)return;const e=r.count;(r=this.getObject(r.data,r)).count=e;const s=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function n(O){const{width:r,height:e}=O;if(r>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=r+1;let c,F,q,_=new Uint8Array(g*(e+1));const B=r+7&-8;let $=new Uint8Array(B*e),X=0;for(const ae of O.data){let we=128;for(;we>0;)$[X++]=ae&we?0:255,we>>=1}let Z=0;for(X=0,0!==$[X]&&(_[0]=1,++Z),F=1;F<r;F++)$[X]!==$[X+1]&&(_[F]=$[X]?2:1,++Z),X++;for(0!==$[X]&&(_[F]=2,++Z),c=1;c<e;c++){X=c*B,q=c*g,$[X-B]!==$[X]&&(_[q]=$[X]?1:8,++Z);let ae=($[X]?4:0)+($[X-B]?8:0);for(F=1;F<r;F++)ae=(ae>>2)+($[X+1]?4:0)+($[X-B+1]?8:0),o[ae]&&(_[q+F]=o[ae],++Z),X++;if($[X-B]!==$[X]&&(_[q+F]=$[X]?2:4,++Z),Z>1e3)return null}for(X=B*(e-1),q=c*g,0!==$[X]&&(_[q]=8,++Z),F=1;F<r;F++)$[X]!==$[X+1]&&(_[q+F]=$[X]?4:8,++Z),X++;if(0!==$[X]&&(_[q+F]=4,++Z),Z>1e3)return null;const ee=new Int32Array([0,g,-1,0,-g,0,0,0,1]);let ue,_e,Ae;for(N.isNodeJS?_e=[]:ue=new Path2D,c=0;Z&&c<=e;c++){let ae=c*g;const we=ae+r;for(;ae<we&&!_[ae];)ae++;if(ae===we)continue;ue?ue.moveTo(ae%g,c):Ae=[ae%g,c];const Ce=ae;let pe=_[ae];do{const re=ee[pe];do{ae+=re}while(!_[ae]);const de=_[ae];5!==de&&10!==de?(pe=de,_[ae]=0):(pe=de&51*pe>>4,_[ae]&=pe>>2|pe<<2),ue?ue.lineTo(ae%g,ae/g|0):Ae.push(ae%g,ae/g|0),_[ae]||--Z}while(Ce!==ae);ue||_e.push(Ae),--c}return $=null,_=null,function(ae){if(ae.save(),ae.scale(1/r,-1/e),ae.translate(0,-e),ue)ae.fill(ue);else{ae.beginPath();for(const we of _e){ae.moveTo(we[0],we[1]);for(let Ce=2,pe=we.length;Ce<pe;Ce+=2)ae.lineTo(we[Ce],we[Ce+1])}ae.fill()}ae.beginPath(),ae.restore()}}(r)),o.compiled))return void o.compiled(s);const g=this._createMaskCanvas(r),_=g.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(_,g.offsetX,g.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(r,e,s=0,o=0,g,_){if(!this.contentVisible)return;r=this.getObject(r.data,r);const c=this.ctx;c.save();const F=c.mozCurrentTransform;c.transform(e,s,o,g,0,0);const q=this._createMaskCanvas(r);c.setTransform(1,0,0,1,0,0);for(let B=0,$=_.length;B<$;B+=2){const X=i.Util.transform(F,[e,s,o,g,_[B],_[B+1]]),[Z,ee]=i.Util.applyTransform([0,0],X);c.drawImage(q.canvas,Z,ee)}c.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,o=this.current.patternFill;for(let g=0,_=r.length;g<_;g++){const c=r[g],F=c.width,q=c.height,B=this.cachedCanvases.getCanvas("maskCanvas",F,q,!1),$=B.context;$.save(),u($,c),$.globalCompositeOperation="source-in",$.fillStyle=o?s.getPattern($,this,e.mozCurrentTransformInverse,M.PathType.FILL):s,$.fillRect(0,0,F,q),$.restore(),e.save(),e.transform.apply(e,c.transform),e.scale(1,-1),v(e,B.canvas,0,0,F,q,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const e=this.getObject(r);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(r,e,s,o){if(!this.contentVisible)return;const g=this.getObject(r);if(!g)return void(0,i.warn)("Dependent image isn't ready yet");const _=g.width,c=g.height,F=[];for(let q=0,B=o.length;q<B;q+=2)F.push({transform:[e,0,0,s,o[q],o[q+1]],x:0,y:0,w:_,h:c});this.paintInlineImageXObjectGroup(g,F)}paintInlineImageXObject(r){if(!this.contentVisible)return;const e=r.width,s=r.height,o=this.ctx;let g;if(this.save(),o.scale(1/e,-1/s),"function"==typeof HTMLElement&&r instanceof HTMLElement||!r.data)g=r;else{const q=this.cachedCanvases.getCanvas("inlineImage",e,s,!1);h(q.context,r,this.current.transferMaps),g=q.canvas}const _=this._scaleImage(g,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=Y(o.mozCurrentTransform,r.interpolate);const[c,F]=v(o,_.img,0,0,_.paintWidth,_.paintHeight,0,-s,e,s);if(this.imageLayer){const q=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:r,left:q[0],top:q[1],width:c,height:F})}this.compose(),this.restore()}paintInlineImageXObjectGroup(r,e){if(!this.contentVisible)return;const s=this.ctx,o=r.width,g=r.height,_=this.cachedCanvases.getCanvas("inlineImage",o,g,!1);h(_.context,r,this.current.transferMaps);for(let F=0,q=e.length;F<q;F++){const B=e[F];if(s.save(),s.transform.apply(s,B.transform),s.scale(1,-1),v(s,_.canvas,B.x,B.y,B.w,B.h,0,-1,1,1),this.imageLayer){const $=this.getCanvasPosition(B.x,B.y);this.imageLayer.appendImage({imgData:r,left:$[0],top:$[1],width:o,height:g})}s.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,e){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,e){this.markedContentStack.push("OC"===r?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===he?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=this.ctx.mozCurrentTransform;if(0===r[1]&&0===r[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const e=Math.abs(r[0]*r[3]-r[2]*r[1]),s=Math.hypot(r[0],r[2]),o=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(s,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:r}=this.current,e=this.ctx.mozCurrentTransform;let s,o;if(0===e[1]&&0===e[2]){const g=Math.abs(e[0]),_=Math.abs(e[3]);if(0===r)s=1/g,o=1/_;else{const c=g*r,F=_*r;s=c<1?1/c:1,o=F<1?1/F:1}}else{const g=Math.abs(e[0]*e[3]-e[2]*e[1]),_=Math.hypot(e[0],e[1]),c=Math.hypot(e[2],e[3]);if(0===r)s=c/g,o=_/g;else{const F=r*g;s=c>F?c/F:1,o=_>F?_/F:1}}this._cachedScaleForStroking=[s,o]}return this._cachedScaleForStroking}rescaleAndStroke(r){const{ctx:e}=this,{lineWidth:s}=this.current,[o,g]=this.getScaleForStroking();if(e.lineWidth=s||1,1===o&&1===g)return void e.stroke();let _,c,F;r&&(_=e.mozCurrentTransform.slice(),c=e.getLineDash().slice(),F=e.lineDashOffset),e.scale(o,g);const q=Math.max(o,g);e.setLineDash(e.getLineDash().map(B=>B/q)),e.lineDashOffset/=q,e.stroke(),r&&(e.setTransform(..._),e.setLineDash(c),e.lineDashOffset=F)}getCanvasPosition(r,e){const s=this.ctx.mozCurrentTransform;return[s[0]*r+s[2]*e+s[4],s[1]*r+s[3]*e+s[5]]}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}}a.CanvasGraphics=oe;for(const O in i.OPS)void 0!==oe.prototype[O]&&(oe.prototype[i.OPS[O]]=oe.prototype[O])},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function T(x){switch(x[0]){case"RadialAxial":return new P(x);case"Mesh":return new V(x);case"Dummy":return new j}throw new Error(`Unknown IR type: ${x[0]}`)};var i=S(1),M=S(3);const E={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function N(x,A){if(!A||M.isNodeJS)return;const w=A[2]-A[0],y=A[3]-A[1],v=new Path2D;v.rect(A[0],A[1],w,y),x.clip(v)}a.PathType=E;class C{constructor(){this.constructor===C&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class P extends C{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let w;"axial"===this._type?w=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(w=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const y of this._colorStops)w.addColorStop(y[0],y[1]);return w}getPattern(A,w,y,v){let n;if(v===E.STROKE||v===E.FILL){const t=w.current.getClippedPathBoundingBox(v,A.mozCurrentTransform)||[0,0,0,0],h=Math.ceil(t[2]-t[0])||1,u=Math.ceil(t[3]-t[1])||1,l=w.cachedCanvases.getCanvas("pattern",h,u,!0),f=l.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-t[0],-t[1]),y=i.Util.transform(y,[1,0,0,1,t[0],t[1]]),f.transform.apply(f,w.baseTransform),this.matrix&&f.transform.apply(f,this.matrix),N(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),n=A.createPattern(l.canvas,"no-repeat");const p=new DOMMatrix(y);try{n.setTransform(p)}catch(d){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${d?.message}".`)}}else N(A,this._bbox),n=this._createGradient(A);return n}}function b(x,A,w,y,v,n,t,h){const u=A.coords,l=A.colors,f=x.data,p=4*x.width;let d;u[w+1]>u[y+1]&&(d=w,w=y,y=d,d=n,n=t,t=d),u[y+1]>u[v+1]&&(d=y,y=v,v=d,d=t,t=h,h=d),u[w+1]>u[y+1]&&(d=w,w=y,y=d,d=n,n=t,t=d);const k=(u[w]+A.offsetX)*A.scaleX,L=(u[w+1]+A.offsetY)*A.scaleY,W=(u[y]+A.offsetX)*A.scaleX,Y=(u[y+1]+A.offsetY)*A.scaleY,Q=(u[v]+A.offsetX)*A.scaleX,J=(u[v+1]+A.offsetY)*A.scaleY;if(L>=J)return;const te=l[n],he=l[n+1],oe=l[n+2],O=l[t],r=l[t+1],e=l[t+2],s=l[h],o=l[h+1],g=l[h+2],_=Math.round(L),c=Math.round(J);let F,q,B,$,X,Z,ee,ue;for(let _e=_;_e<=c;_e++){if(_e<Y){let Ce;Ce=_e<L?0:(L-_e)/(L-Y),F=k-(k-W)*Ce,q=te-(te-O)*Ce,B=he-(he-r)*Ce,$=oe-(oe-e)*Ce}else{let Ce;Ce=_e>J?1:Y===J?0:(Y-_e)/(Y-J),F=W-(W-Q)*Ce,q=O-(O-s)*Ce,B=r-(r-o)*Ce,$=e-(e-g)*Ce}let Ae;Ae=_e<L?0:_e>J?1:(L-_e)/(L-J),X=k-(k-Q)*Ae,Z=te-(te-s)*Ae,ee=he-(he-o)*Ae,ue=oe-(oe-g)*Ae;const me=Math.round(Math.min(F,X)),ae=Math.round(Math.max(F,X));let we=p*_e+4*me;for(let Ce=me;Ce<=ae;Ce++)Ae=(F-Ce)/(F-X),Ae<0?Ae=0:Ae>1&&(Ae=1),f[we++]=q-(q-Z)*Ae|0,f[we++]=B-(B-ee)*Ae|0,f[we++]=$-($-ue)*Ae|0,f[we++]=255}}function D(x,A,w){const y=A.coords,v=A.colors;let n,t;switch(A.type){case"lattice":const h=A.verticesPerRow,u=Math.floor(y.length/h)-1,l=h-1;for(n=0;n<u;n++){let f=n*h;for(let p=0;p<l;p++,f++)b(x,w,y[f],y[f+1],y[f+h],v[f],v[f+1],v[f+h]),b(x,w,y[f+h+1],y[f+1],y[f+h],v[f+h+1],v[f+1],v[f+h])}break;case"triangles":for(n=0,t=y.length;n<t;n+=3)b(x,w,y[n],y[n+1],y[n+2],v[n],v[n+1],v[n+2]);break;default:throw new Error("illegal figure")}}class V extends C{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,w,y){const h=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-h,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(l*A[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(f*A[1]*1.1)),3e3),k=l/p,L=f/d,W={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-u,scaleX:1/k,scaleY:1/L},J=y.getCanvas("mesh",p+4,d+4,!1),te=J.context,he=te.createImageData(p,d);if(w){const O=he.data;for(let r=0,e=O.length;r<e;r+=4)O[r]=w[0],O[r+1]=w[1],O[r+2]=w[2],O[r+3]=255}for(const O of this._figures)D(he,O,W);return te.putImageData(he,2,2),{canvas:J.canvas,offsetX:h-2*k,offsetY:u-2*L,scaleX:k,scaleY:L}}getPattern(A,w,y,v){let n;if(N(A,this._bbox),v===E.SHADING)n=i.Util.singularValueDecompose2dScale(A.mozCurrentTransform);else if(n=i.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const h=i.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*h[0],n[1]*h[1]]}const t=this._createMeshCanvas(n,v===E.SHADING?null:this._background,w.cachedCanvases);return v!==E.SHADING&&(A.setTransform.apply(A,w.baseTransform),this.matrix&&A.transform.apply(A,this.matrix)),A.translate(t.offsetX,t.offsetY),A.scale(t.scaleX,t.scaleY),A.createPattern(t.canvas,"no-repeat")}}class j extends C{getPattern(){return"hotpink"}}class m{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(A,w,y,v,n){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=w,this.ctx=y,this.canvasGraphicsFactory=v,this.baseTransform=n}createPatternCanvas(A){const w=this.operatorList,y=this.bbox,v=this.xstep,n=this.ystep,t=this.paintType,u=this.color,l=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const f=y[0],p=y[1],d=y[2],k=y[3],L=i.Util.singularValueDecompose2dScale(this.matrix),W=i.Util.singularValueDecompose2dScale(this.baseTransform),Y=[L[0]*W[0],L[1]*W[1]],Q=this.getSizeAndScale(v,this.ctx.canvas.width,Y[0]),J=this.getSizeAndScale(n,this.ctx.canvas.height,Y[1]),te=A.cachedCanvases.getCanvas("pattern",Q.size,J.size,!0),he=te.context,oe=l.createCanvasGraphics(he);oe.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(oe,t,u);let O=f,r=p,e=d,s=k;return f<0&&(O=0,e+=Math.abs(f)),p<0&&(r=0,s+=Math.abs(p)),he.translate(-Q.scale*O,-J.scale*r),oe.transform(Q.scale,0,0,J.scale,0,0),he.save(),this.clipBbox(oe,O,r,e,s),oe.baseTransform=oe.ctx.mozCurrentTransform.slice(),oe.executeOperatorList(w),oe.endDrawing(),{canvas:te.canvas,scaleX:Q.scale,scaleY:J.scale,offsetX:O,offsetY:r}}getSizeAndScale(A,w,y){A=Math.abs(A);const v=Math.max(m.MAX_PATTERN_SIZE,w);let n=Math.ceil(A*y);return n>=v?n=v:y=n/A,{scale:y,size:n}}clipBbox(A,w,y,v,n){A.ctx.rect(w,y,v-w,n-y),A.current.updateRectMinMax(A.ctx.mozCurrentTransform,[w,y,v,n]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,w,y){const v=A.ctx,n=A.current;switch(w){case 1:const t=this.ctx;v.fillStyle=t.fillStyle,v.strokeStyle=t.strokeStyle,n.fillColor=t.fillStyle,n.strokeColor=t.strokeStyle;break;case 2:const h=i.Util.makeHexColor(y[0],y[1],y[2]);v.fillStyle=h,v.strokeStyle=h,n.fillColor=h,n.strokeColor=h;break;default:throw new i.FormatError(`Unsupported paint type: ${w}`)}}getPattern(A,w,y,v){let n=y;v!==E.SHADING&&(n=i.Util.transform(n,w.baseTransform),this.matrix&&(n=i.Util.transform(n,this.matrix)));const t=this.createPatternCanvas(w);let h=new DOMMatrix(n);h=h.translate(t.offsetX,t.offsetY),h=h.scale(1/t.scaleX,1/t.scaleY);const u=A.createPattern(t.canvas,"repeat");try{u.setTransform(h)}catch(l){(0,i.warn)(`TilingPattern.getPattern: "${l?.message}".`)}return u}}a.TilingPattern=m},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function M({src:E,srcPos:N=0,dest:C,destPos:P=0,width:b,height:D,inverseDecode:V=!1}){const j=i.FeatureTest.isLittleEndian?4278190080:255,[T,U]=V?[0,j]:[j,0],m=b>>3,x=7&b,A=E.length;C=new Uint32Array(C.buffer);for(let w=0;w<D;w++){for(const v=N+m;N<v;N++){const n=N<A?E[N]:255;C[P++]=128&n?U:T,C[P++]=64&n?U:T,C[P++]=32&n?U:T,C[P++]=16&n?U:T,C[P++]=8&n?U:T,C[P++]=4&n?U:T,C[P++]=2&n?U:T,C[P++]=1&n?U:T}if(0===x)continue;const y=N<A?E[N++]:255;for(let v=0;v<x;v++)C[P++]=y&1<<7-v?U:T}return{srcPos:N,destPos:P}};var i=S(1)},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const S=Object.create(null);a.GlobalWorkerOptions=S,S.workerPort=void 0===S.workerPort?null:S.workerPort,S.workerSrc=void 0===S.workerSrc?"":S.workerSrc},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var i=S(1);function N(P){switch(P instanceof Error||"object"==typeof P&&null!==P||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),P.name){case"AbortException":return new i.AbortException(P.message);case"MissingPDFException":return new i.MissingPDFException(P.message);case"PasswordException":return new i.PasswordException(P.message,P.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(P.message,P.status);case"UnknownErrorException":return new i.UnknownErrorException(P.message,P.details);default:return new i.UnknownErrorException(P.message,P.toString())}}a.MessageHandler=class C{constructor(b,D,V){this.sourceName=b,this.targetName=D,this.comObj=V,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const T=j.data;if(T.targetName!==this.sourceName)return;if(T.stream)return void this._processStreamMessage(T);if(T.callback){const m=T.callbackId,x=this.callbackCapabilities[m];if(!x)throw new Error(`Cannot resolve callback ${m}`);if(delete this.callbackCapabilities[m],1===T.callback)x.resolve(T.data);else{if(2!==T.callback)throw new Error("Unexpected callback case");x.reject(N(T.reason))}return}const U=this.actionHandler[T.action];if(!U)throw new Error(`Unknown action from worker: ${T.action}`);if(T.callbackId){const m=this.sourceName,x=T.sourceName;new Promise(function(A){A(U(T.data))}).then(function(A){V.postMessage({sourceName:m,targetName:x,callback:1,callbackId:T.callbackId,data:A})},function(A){V.postMessage({sourceName:m,targetName:x,callback:2,callbackId:T.callbackId,reason:N(A)})})}else T.streamId?this._createStreamSink(T):U(T.data)},V.addEventListener("message",this._onComObjOnMessage)}on(b,D){const V=this.actionHandler;if(V[b])throw new Error(`There is already an actionName called "${b}"`);V[b]=D}send(b,D,V){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:D},V)}sendWithPromise(b,D,V){const j=this.callbackId++,T=(0,i.createPromiseCapability)();this.callbackCapabilities[j]=T;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:j,data:D},V)}catch(U){T.reject(U)}return T.promise}sendWithStream(b,D,V,j){const T=this.streamId++,U=this.sourceName,m=this.targetName,x=this.comObj;return new ReadableStream({start:A=>{const w=(0,i.createPromiseCapability)();return this.streamControllers[T]={controller:A,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:U,targetName:m,action:b,streamId:T,data:D,desiredSize:A.desiredSize},j),w.promise},pull:A=>{const w=(0,i.createPromiseCapability)();return this.streamControllers[T].pullCall=w,x.postMessage({sourceName:U,targetName:m,stream:6,streamId:T,desiredSize:A.desiredSize}),w.promise},cancel:A=>{(0,i.assert)(A instanceof Error,"cancel must have a valid reason");const w=(0,i.createPromiseCapability)();return this.streamControllers[T].cancelCall=w,this.streamControllers[T].isClosed=!0,x.postMessage({sourceName:U,targetName:m,stream:1,streamId:T,reason:N(A)}),w.promise}},V)}_createStreamSink(b){const D=b.streamId,V=this.sourceName,j=b.sourceName,T=this.comObj,U=this,m=this.actionHandler[b.action],x={enqueue(A,w=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=w,v>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),T.postMessage({sourceName:V,targetName:j,stream:4,streamId:D,chunk:A},y)},close(){this.isCancelled||(this.isCancelled=!0,T.postMessage({sourceName:V,targetName:j,stream:3,streamId:D}),delete U.streamSinks[D])},error(A){(0,i.assert)(A instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,T.postMessage({sourceName:V,targetName:j,stream:5,streamId:D,reason:N(A)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[D]=x,new Promise(function(A){A(m(b.data,x))}).then(function(){T.postMessage({sourceName:V,targetName:j,stream:8,streamId:D,success:!0})},function(A){T.postMessage({sourceName:V,targetName:j,stream:8,streamId:D,reason:N(A)})})}_processStreamMessage(b){const D=b.streamId,V=this.sourceName,j=b.sourceName,T=this.comObj,U=this.streamControllers[D],m=this.streamSinks[D];switch(b.stream){case 8:b.success?U.startCall.resolve():U.startCall.reject(N(b.reason));break;case 7:b.success?U.pullCall.resolve():U.pullCall.reject(N(b.reason));break;case 6:if(!m){T.postMessage({sourceName:V,targetName:j,stream:7,streamId:D,success:!0});break}m.desiredSize<=0&&b.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=b.desiredSize,new Promise(function(x){x(m.onPull&&m.onPull())}).then(function(){T.postMessage({sourceName:V,targetName:j,stream:7,streamId:D,success:!0})},function(x){T.postMessage({sourceName:V,targetName:j,stream:7,streamId:D,reason:N(x)})});break;case 4:if((0,i.assert)(U,"enqueue should have stream controller"),U.isClosed)break;U.controller.enqueue(b.chunk);break;case 3:if((0,i.assert)(U,"close should have stream controller"),U.isClosed)break;U.isClosed=!0,U.controller.close(),this._deleteStreamController(U,D);break;case 5:(0,i.assert)(U,"error should have stream controller"),U.controller.error(N(b.reason)),this._deleteStreamController(U,D);break;case 2:b.success?U.cancelCall.resolve():U.cancelCall.reject(N(b.reason)),this._deleteStreamController(U,D);break;case 1:if(!m)break;new Promise(function(x){x(m.onCancel&&m.onCancel(N(b.reason)))}).then(function(){T.postMessage({sourceName:V,targetName:j,stream:2,streamId:D,success:!0})},function(x){T.postMessage({sourceName:V,targetName:j,stream:2,streamId:D,reason:N(x)})}),m.sinkCapability.reject(N(b.reason)),m.isCancelled=!0,delete this.streamSinks[D];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(b,D){var V=this;return _asyncToGenerator(function*(){yield Promise.allSettled([b.startCall&&b.startCall.promise,b.pullCall&&b.pullCall.promise,b.cancelCall&&b.cancelCall.promise]),delete V.streamControllers[D]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var i=S(1),M=new WeakMap,E=new WeakMap;a.Metadata=class N{constructor({parsedData:P,rawData:b}){_classPrivateFieldInitSpec(this,M,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:void 0}),_classPrivateFieldSet(this,M,P),_classPrivateFieldSet(this,E,b)}getRaw(){return _classPrivateFieldGet(this,E)}get(P){return _classPrivateFieldGet(this,M).get(P)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,M))}has(P){return _classPrivateFieldGet(this,M).has(P)}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var i=S(1);class M{constructor(C,P){this.visible=!0,this.name=C,this.intent=P}}a.OptionalContentConfig=class E{constructor(C){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==C){this.name=C.name,this.creator=C.creator,this._order=C.order;for(const P of C.groups)this._groups.set(P.id,new M(P.name,P.intent));if("OFF"===C.baseState)for(const P of this._groups)P.visible=!1;for(const P of C.on)this._groups.get(P).visible=!0;for(const P of C.off)this._groups.get(P).visible=!1}}_evaluateVisibilityExpression(C){const P=C.length;if(P<2)return!0;const b=C[0];for(let D=1;D<P;D++){const V=C[D];let j;if(Array.isArray(V))j=this._evaluateVisibilityExpression(V);else{if(!this._groups.has(V))return(0,i.warn)(`Optional content group not found: ${V}`),!0;j=this._groups.get(V).visible}switch(b){case"And":if(!j)return!1;break;case"Or":if(j)return!0;break;case"Not":return!j;default:return!0}}return"And"===b}isVisible(C){if(0===this._groups.size)return!0;if(!C)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===C.type)return this._groups.has(C.id)?this._groups.get(C.id).visible:((0,i.warn)(`Optional content group not found: ${C.id}`),!0);if("OCMD"===C.type){if(C.expression)return this._evaluateVisibilityExpression(C.expression);if(!C.policy||"AnyOn"===C.policy){for(const P of C.ids){if(!this._groups.has(P))return(0,i.warn)(`Optional content group not found: ${P}`),!0;if(this._groups.get(P).visible)return!0}return!1}if("AllOn"===C.policy){for(const P of C.ids){if(!this._groups.has(P))return(0,i.warn)(`Optional content group not found: ${P}`),!0;if(!this._groups.get(P).visible)return!1}return!0}if("AnyOff"===C.policy){for(const P of C.ids){if(!this._groups.has(P))return(0,i.warn)(`Optional content group not found: ${P}`),!0;if(!this._groups.get(P).visible)return!0}return!1}if("AllOff"===C.policy){for(const P of C.ids){if(!this._groups.has(P))return(0,i.warn)(`Optional content group not found: ${P}`),!0;if(this._groups.get(P).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${C.policy}.`),!0}return(0,i.warn)(`Unknown group type ${C.type}.`),!0}setVisibility(C,P=!0){this._groups.has(C)?this._groups.get(C).visible=!!P:(0,i.warn)(`Optional content group not found: ${C}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(C){return this._groups.get(C)||null}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var i=S(1),M=S(5);a.PDFDataTransportStream=class E{constructor(b,D){(0,i.assert)(D,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1,this._contentDispositionFilename=b.contentDispositionFilename||null;const V=b.initialData;if(V?.length>0){const j=new Uint8Array(V).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=D,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,T)=>{this._onReceiveData({begin:j,chunk:T})}),this._pdfDataRangeTransport.addProgressListener((j,T)=>{this._onProgress({loaded:j,total:T})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(b){const D=new Uint8Array(b.chunk).buffer;if(void 0===b.begin)this._fullRequestReader?this._fullRequestReader._enqueue(D):this._queuedChunks.push(D);else{const V=this._rangeReaders.some(function(j){return j._begin===b.begin&&(j._enqueue(D),!0)});(0,i.assert)(V,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(b){if(void 0===b.total){const D=this._rangeReaders[0];D?.onProgress&&D.onProgress({loaded:b.loaded})}else{const D=this._fullRequestReader;D?.onProgress&&D.onProgress({loaded:b.loaded,total:b.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const D=this._rangeReaders.indexOf(b);D>=0&&this._rangeReaders.splice(D,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new N(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,D){if(D<=this._progressiveDataLength)return null;const V=new C(this,b,D);return this._pdfDataRangeTransport.requestDataRange(b,D),this._rangeReaders.push(V),V}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const D of this._rangeReaders.slice(0))D.cancel(b);this._pdfDataRangeTransport.abort()}};class N{constructor(b,D,V=!1,j=null){this._stream=b,this._done=V||!1,this._filename=(0,M.isPdfFile)(j)?j:null,this._queuedChunks=D||[],this._loaded=0;for(const T of this._queuedChunks)this._loaded+=T.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var b=this;return _asyncToGenerator(function*(){if(b._queuedChunks.length>0)return{value:b._queuedChunks.shift(),done:!1};if(b._done)return{value:void 0,done:!0};const D=(0,i.createPromiseCapability)();return b._requests.push(D),D.promise})()}cancel(b){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class C{constructor(b,D,V){this._stream=b,this._begin=D,this._end=V,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(0===this._requests.length)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var b=this;return _asyncToGenerator(function*(){if(b._queuedChunk){const V=b._queuedChunk;return b._queuedChunk=null,{value:V,done:!1}}if(b._done)return{value:void 0,done:!0};const D=(0,i.createPromiseCapability)();return b._requests.push(D),D.promise})()}cancel(b){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class S{static textContent(M){const E=[],N={items:E,styles:Object.create(null)};return function C(P){if(!P)return;let b=null;const D=P.name;if("#text"===D)b=P.value;else{if(!S.shouldBuildText(D))return;P?.attributes?.textContent?b=P.attributes.textContent:P.value&&(b=P.value)}if(null!==b&&E.push({str:b}),P.children)for(const V of P.children)C(V)}(M),N}static shouldBuildText(M){return!("textarea"===M||"input"===M||"option"===M||"select"===M)}}a.XfaText=S},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var i=S(6);const M=function(P){return new Promise((b,D)=>{__webpack_require__(172).readFile(P,(j,T)=>{!j&&T?b(new Uint8Array(T)):D(new Error(j))})})};a.NodeCanvasFactory=class E extends i.BaseCanvasFactory{_createCanvas(b,D){return __webpack_require__(3414).createCanvas(b,D)}},a.NodeCMapReaderFactory=class N extends i.BaseCMapReaderFactory{_fetchData(b,D){return M(b).then(V=>({cMapData:V,compressionType:D}))}},a.NodeStandardFontDataFactory=class C extends i.BaseStandardFontDataFactory{_fetchData(b){return M(b)}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var i=S(1),M=S(5),E=S(8),N=S(21),C=S(22);const P=1e3,b=new WeakSet;function D(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class V{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new T(e);case i.AnnotationType.TEXT:return new U(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new x(e);case"Btn":return e.data.radioButton?new w(e):e.data.checkBox?new A(e):new y(e);case"Ch":return new v(e)}return new m(e);case i.AnnotationType.POPUP:return new n(e);case i.AnnotationType.FREETEXT:return new h(e);case i.AnnotationType.LINE:return new u(e);case i.AnnotationType.SQUARE:return new l(e);case i.AnnotationType.CIRCLE:return new f(e);case i.AnnotationType.POLYLINE:return new p(e);case i.AnnotationType.CARET:return new k(e);case i.AnnotationType.INK:return new L(e);case i.AnnotationType.POLYGON:return new d(e);case i.AnnotationType.HIGHLIGHT:return new W(e);case i.AnnotationType.UNDERLINE:return new Y(e);case i.AnnotationType.SQUIGGLY:return new Q(e);case i.AnnotationType.STRIKEOUT:return new J(e);case i.AnnotationType.STAMP:return new te(e);case i.AnnotationType.FILEATTACHMENT:return new he(e);default:return new j(e)}}}class j{constructor(e,{isRenderable:s=!1,ignoreBorder:o=!1,createQuadrilaterals:g=!1}={}){this.isRenderable=s,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,s&&(this.container=this._createContainer(o)),g&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const s=this.data,o=this.page,g=this.viewport,_=document.createElement("section");let{width:c,height:F}=D(s.rect);_.setAttribute("data-annotation-id",s.id);const q=i.Util.normalizeRect([s.rect[0],o.view[3]-s.rect[1]+o.view[1],s.rect[2],o.view[3]-s.rect[3]+o.view[1]]);if(s.hasOwnCanvas){const B=g.transform.slice(),[$,X]=i.Util.singularValueDecompose2dScale(B);c=Math.ceil(c*$),F=Math.ceil(F*X),q[0]*=$,q[1]*=X;for(let Z=0;Z<4;Z++)B[Z]=Math.sign(B[Z]);_.style.transform=`matrix(${B.join(",")})`}else _.style.transform=`matrix(${g.transform.join(",")})`;if(_.style.transformOrigin=`${-q[0]}px ${-q[1]}px`,!e&&s.borderStyle.width>0){_.style.borderWidth=`${s.borderStyle.width}px`,s.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(c-=2*s.borderStyle.width,F-=2*s.borderStyle.width);const B=s.borderStyle.horizontalCornerRadius,$=s.borderStyle.verticalCornerRadius;switch((B>0||$>0)&&(_.style.borderRadius=`${B}px / ${$}px`),s.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:_.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:_.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:_.style.borderBottomStyle="solid"}s.borderColor||s.color?_.style.borderColor=i.Util.makeHexColor(0|s.color[0],0|s.color[1],0|s.color[2]):_.style.borderWidth=0}return _.style.left=`${q[0]}px`,_.style.top=`${q[1]}px`,s.hasOwnCanvas?_.style.width=_.style.height="auto":(_.style.width=`${c}px`,_.style.height=`${F}px`),_}get _commonActions(){const e=(s,o,g)=>{const _=g.detail[s];g.target.style[o]=N.ColorConverters[`${_[0]}_HTML`](_.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:s=>{const o=s.detail.display%2==1;s.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===s.detail.display||3===s.detail.display})},print:s=>{this.annotationStorage.setValue(this.data.id,{print:s.detail.print})},hidden:s=>{s.target.style.visibility=s.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:s.detail.hidden})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.detail.readonly?s.target.setAttribute("readonly",""):s.target.removeAttribute("readonly")},required:s=>{s.detail.required?s.target.setAttribute("required",""):s.target.removeAttribute("required")},bgColor:s=>{e("bgColor","backgroundColor",s)},fillColor:s=>{e("fillColor","backgroundColor",s)},fgColor:s=>{e("fgColor","color",s)},textColor:s=>{e("textColor","color",s)},borderColor:s=>{e("borderColor","borderColor",s)},strokeColor:s=>{e("strokeColor","borderColor",s)}})}_dispatchEventFromSandbox(e,s){const o=this._commonActions;for(const g of Object.keys(s.detail)){const _=e[g]||o[g];_&&_(s)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const o=this._commonActions;for(const[g,_]of Object.entries(s)){const c=o[g];c&&(c({detail:_,target:e}),delete s[g])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const s=[],o=this.data.rect;for(const g of this.data.quadPoints)this.data.rect=[g[2].x,g[2].y,g[1].x,g[1].y],s.push(this._createContainer(e));return this.data.rect=o,s}_createPopup(e,s){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const _=new t({container:o,trigger:e,color:s.color,titleObj:s.titleObj,modificationDate:s.modificationDate,contentsObj:s.contentsObj,richText:s.richText,hideWrapper:!0}).render();_.style.left=o.style.width,o.appendChild(_)}_renderQuadrilaterals(e){for(const s of this.quadrilaterals)s.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,s=null){const o=[];if(this._fieldObjects){const g=this._fieldObjects[e];if(g)for(const{page:_,id:c,exportValues:F}of g){if(-1===_||c===s)continue;const q="string"==typeof F?F:null,B=document.getElementById(c);!B||b.has(B)?o.push({id:c,exportValue:q,domElement:B}):(0,i.warn)(`_getElementsByName - element not allowed: ${c}`)}return o}for(const g of document.getElementsByName(e)){const{id:_,exportValue:c}=g;_!==s&&(!b.has(g)||o.push({id:_,exportValue:c,domElement:g}))}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class T extends j{constructor(e,s=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!s?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:s}=this,o=document.createElement("a");if(e.url)s.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let g=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(g=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):g||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((g,_)=>{const c=0===_?o:o.cloneNode();return g.appendChild(c),g}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||""===s)&&(e.className="internalLink")}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),e.className="internalLink"}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const g of Object.keys(s.actions)){const _=o.get(g);!_||(e[_]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:g}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,s){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:g,refs:_,include:c}=s,F=[];if(0!==g.length||0!==_.length){const $=new Set(_);for(const X of g){const Z=this._fieldObjects[X]||[];for(const{id:ee}of Z)$.add(ee)}for(const X of Object.values(this._fieldObjects))for(const Z of X)$.has(Z.id)===c&&F.push(Z)}else for(const $ of Object.values(this._fieldObjects))F.push(...$);const q=this.annotationStorage,B=[];for(const $ of F){const{id:X}=$;switch(B.push(X),$.type){case"text":case"combobox":case"listbox":q.setValue(X,{value:$.defaultValue||""});break;case"checkbox":case"radiobutton":q.setValue(X,{value:$.defaultValue===$.exportValues});break;default:continue}const Z=document.getElementById(X);!Z||!b.has(Z)||Z.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:B,name:"ResetForm"}}),!1}}}class U extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class m extends j{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:s,isMac:o}=j.platform;return s&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,s,o,g){s.includes("mouse")?e.addEventListener(s,_=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:g(_),shift:_.shiftKey,modifier:this._getKeyModifier(_)}})}):e.addEventListener(s,_=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:g(_)}})})}_setEventListeners(e,s,o){for(const[g,_]of s)("Action"===_||this.data.actions?.[_])&&this._setEventListener(e,g,_,o)}_setBackgroundColor(e){const s=this.data.backgroundColor||null;e.style.backgroundColor=null===s?"transparent":i.Util.makeHexColor(s[0],s[1],s[2])}}class x extends m{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,s,o,g){const _=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[s]=o),_.setValue(c.id,{[g]:o})}render(){const e=this.annotationStorage,s=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const g=e.getValue(s,{value:this.data.fieldValue}),_=g.formattedValue||g.value||"",c={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=_):(o=document.createElement("input"),o.type="text",o.setAttribute("value",_)),b.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=P,c.userValue=_,o.setAttribute("id",s),o.addEventListener("input",q=>{e.setValue(s,{value:q.target.value}),this.setPropertyOnSiblings(o,"value",q.target.value,"value")}),o.addEventListener("resetform",q=>{o.value=c.userValue=this.data.defaultFieldValue??"",c.formattedValue=null});let F=q=>{const{formattedValue:B}=c;null!=B&&(q.target.value=B),q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",B=>{c.userValue&&(B.target.value=c.userValue),c.valueOnFocus=B.target.value}),o.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value(X){c.userValue=X.detail.value??"",e.setValue(s,{value:c.userValue.toString()}),X.target.value=c.userValue},formattedValue(X){const{formattedValue:Z}=X.detail;c.formattedValue=Z,null!=Z&&X.target!==document.activeElement&&(X.target.value=Z),e.setValue(s,{formattedValue:Z})},selRange(X){X.target.setSelectionRange(...X.detail.selRange)}},B)}),o.addEventListener("keydown",B=>{let $=-1;if("Escape"===B.key?$=0:"Enter"===B.key?$=2:"Tab"===B.key&&($=3),-1===$)return;const{value:X}=B.target;c.valueOnFocus!==X&&(c.userValue=X,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:X,willCommit:!0,commitKey:$,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}))});const q=F;F=null,o.addEventListener("blur",B=>{const{value:$}=B.target;c.userValue=$,this._mouseState.isDown&&c.valueOnFocus!==$&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:$,willCommit:!0,commitKey:1,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}),q(B)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",B=>{const{data:$,target:X}=B,{value:Z,selectionStart:ee,selectionEnd:ue}=X;let _e=ee,Ae=ue;switch(B.inputType){case"deleteWordBackward":{const me=Z.substring(0,ee).match(/\w*[^\w]*$/);me&&(_e-=me[0].length);break}case"deleteWordForward":{const me=Z.substring(ee).match(/^[^\w]*\w*/);me&&(Ae+=me[0].length);break}case"deleteContentBackward":ee===ue&&(_e-=1);break;case"deleteContentForward":ee===ue&&(Ae+=1)}B.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:Z,change:$||"",willCommit:!1,selStart:_e,selEnd:Ae}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.value)}if(F&&o.addEventListener("blur",F),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const B=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${B}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:g}=this.data.defaultAppearanceData,_=e.style;o&&(_.fontSize=`${o}px`),_.color=i.Util.makeHexColor(g[0],g[1],g[2]),null!==this.data.textAlignment&&(_.textAlign=["left","center","right"][this.data.textAlignment])}}class A extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,s=this.data,o=s.id;let g=e.getValue(o,{value:s.exportValue===s.fieldValue}).value;"string"==typeof g&&(g="Off"!==g,e.setValue(o,{value:g})),this.container.className="buttonWidgetAnnotation checkBox";const _=document.createElement("input");return b.add(_),_.disabled=s.readOnly,_.type="checkbox",_.name=s.fieldName,g&&_.setAttribute("checked",!0),_.setAttribute("id",o),_.setAttribute("exportValue",s.exportValue),_.tabIndex=P,_.addEventListener("change",c=>{const{name:F,checked:q}=c.target;for(const B of this._getElementsByName(F,o)){const $=q&&B.exportValue===s.exportValue;B.domElement&&(B.domElement.checked=$),e.setValue(B.id,{value:$})}e.setValue(o,{value:q})}),_.addEventListener("resetform",c=>{c.target.checked=(s.defaultFieldValue||"Off")===s.exportValue}),this.enableScripting&&this.hasJSActions&&(_.addEventListener("updatefromsandbox",c=>{this._dispatchEventFromSandbox({value(q){q.target.checked="Off"!==q.detail.value,e.setValue(o,{value:q.target.checked})}},c)}),this._setEventListeners(_,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.appendChild(_),this.container}}class w extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,s=this.data,o=s.id;let g=e.getValue(o,{value:s.fieldValue===s.buttonValue}).value;"string"==typeof g&&(g=g!==s.buttonValue,e.setValue(o,{value:g}));const _=document.createElement("input");if(b.add(_),_.disabled=s.readOnly,_.type="radio",_.name=s.fieldName,g&&_.setAttribute("checked",!0),_.setAttribute("id",o),_.tabIndex=P,_.addEventListener("change",c=>{const{name:F,checked:q}=c.target;for(const B of this._getElementsByName(F,o))e.setValue(B.id,{value:!1});e.setValue(o,{value:q})}),_.addEventListener("resetform",c=>{const F=s.defaultFieldValue;c.target.checked=null!=F&&F===s.buttonValue}),this.enableScripting&&this.hasJSActions){const c=s.buttonValue;_.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({value:B=>{const $=c===B.detail.value;for(const X of this._getElementsByName(B.target.name)){const Z=$&&X.id===o;X.domElement&&(X.domElement.checked=Z),e.setValue(X.id,{value:Z})}}},F)}),this._setEventListeners(_,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],F=>F.target.checked)}return this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.appendChild(_),this.container}}class y extends T{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class v extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,s=this.data.id,o=e.getValue(s,{value:this.data.fieldValue});let{fontSize:g}=this.data.defaultAppearanceData;g||(g=9);const _=`calc(${g}px * var(--zoom-factor))`,c=document.createElement("select");b.add(c),c.disabled=this.data.readOnly,c.name=this.data.fieldName,c.setAttribute("id",s),c.tabIndex=P,c.style.fontSize=`${g}px`,this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",B=>{const $=this.data.defaultFieldValue;for(const X of c.options)X.selected=X.value===$});for(const B of this.data.options){const $=document.createElement("option");$.textContent=B.displayValue,$.value=B.exportValue,this.data.combo&&($.style.fontSize=_),o.value.includes(B.exportValue)&&$.setAttribute("selected",!0),c.appendChild($)}const F=(B,$)=>{const X=$?"value":"textContent",Z=B.target.options;return B.target.multiple?Array.prototype.filter.call(Z,ee=>ee.selected).map(ee=>ee[X]):-1===Z.selectedIndex?null:Z[Z.selectedIndex][X]},q=B=>Array.prototype.map.call(B.target.options,X=>({displayValue:X.textContent,exportValue:X.value}));return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value(X){const Z=X.detail.value,ee=new Set(Array.isArray(Z)?Z:[Z]);for(const ue of c.options)ue.selected=ee.has(ue.value);e.setValue(s,{value:F(X,!0)})},multipleSelection(X){c.multiple=!0},remove(X){const Z=c.options,ee=X.detail.remove;Z[ee].selected=!1,c.remove(ee),Z.length>0&&-1===Array.prototype.findIndex.call(Z,_e=>_e.selected)&&(Z[0].selected=!0),e.setValue(s,{value:F(X,!0),items:q(X)})},clear(X){for(;0!==c.length;)c.remove(0);e.setValue(s,{value:null,items:[]})},insert(X){const{index:Z,displayValue:ee,exportValue:ue}=X.detail.insert,_e=document.createElement("option");_e.textContent=ee,_e.value=ue,c.insertBefore(_e,c.children[Z]),e.setValue(s,{value:F(X,!0),items:q(X)})},items(X){const{items:Z}=X.detail;for(;0!==c.length;)c.remove(0);for(const ee of Z){const{displayValue:ue,exportValue:_e}=ee,Ae=document.createElement("option");Ae.textContent=ue,Ae.value=_e,c.appendChild(Ae)}c.options.length>0&&(c.options[0].selected=!0),e.setValue(s,{value:F(X,!0),items:q(X)})},indices(X){const Z=new Set(X.detail.indices);for(const ee of X.target.options)ee.selected=Z.has(ee.index);e.setValue(s,{value:F(X,!0)})},editable(X){X.target.disabled=!X.detail.editable}},B)}),c.addEventListener("input",B=>{const $=F(B,!0),X=F(B,!1);e.setValue(s,{value:$}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:X,changeEx:$,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],B=>B.target.checked)):c.addEventListener("input",function(B){e.setValue(s,{value:F(B,!0)})}),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.appendChild(c),this.container}}class n extends j{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const g=new t({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),_=this.page,c=i.Util.normalizeRect([this.data.parentRect[0],_.view[3]-this.data.parentRect[1]+_.view[1],this.data.parentRect[2],_.view[3]-this.data.parentRect[3]+_.view[1]]),F=c[0]+this.data.parentRect[2]-this.data.parentRect[0],q=c[1];return this.container.style.transformOrigin=`${-F}px ${-q}px`,this.container.style.left=`${F}px`,this.container.style.top=`${q}px`,this.container.appendChild(g.render()),this.container}}class t{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const s=document.createElement("div");s.className="popupWrapper",this.hideElement=this.hideWrapper?s:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const g=this.color;g&&(o.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-g[0])+g[0],0|.7*(255-g[1])+g[1],0|.7*(255-g[2])+g[2]));const _=document.createElement("h1");_.dir=this.titleObj.dir,_.textContent=this.titleObj.str,o.appendChild(_);const c=M.PDFDateString.toDateObject(this.modificationDate);if(c){const F=document.createElement("span");F.className="popupDate",F.textContent="{{date}}, {{time}}",F.dataset.l10nId="annotation_date_string",F.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()}),o.appendChild(F)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const F=this._formatContents(this.contentsObj);o.appendChild(F)}else C.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const F of this.trigger)F.addEventListener("click",this._toggle.bind(this)),F.addEventListener("mouseover",this._show.bind(this,!1)),F.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),s.appendChild(o),s}_formatContents({str:e,dir:s}){const o=document.createElement("p");o.className="popupContent",o.dir=s;const g=e.split(/(?:\r\n?|\n)/);for(let _=0,c=g.length;_<c;++_)o.appendChild(document.createTextNode(g[_])),_<c-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class h extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class u extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:s,height:o}=D(e.rect),g=this.svgFactory.create(s,o),_=this.svgFactory.createElement("svg:line");return _.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),_.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),_.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),_.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),_.setAttribute("stroke-width",e.borderStyle.width||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","transparent"),g.appendChild(_),this.container.append(g),this._createPopup(_,e),this.container}}class l extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:s,height:o}=D(e.rect),g=this.svgFactory.create(s,o),_=e.borderStyle.width,c=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",_/2),c.setAttribute("y",_/2),c.setAttribute("width",s-_),c.setAttribute("height",o-_),c.setAttribute("stroke-width",_||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),g.appendChild(c),this.container.append(g),this._createPopup(c,e),this.container}}class f extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:s,height:o}=D(e.rect),g=this.svgFactory.create(s,o),_=e.borderStyle.width,c=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",s/2),c.setAttribute("cy",o/2),c.setAttribute("rx",s/2-_/2),c.setAttribute("ry",o/2-_/2),c.setAttribute("stroke-width",_||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),g.appendChild(c),this.container.append(g),this._createPopup(c,e),this.container}}class p extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:o}=D(e.rect),g=this.svgFactory.create(s,o);let _=[];for(const F of e.vertices)_.push(F.x-e.rect[0]+","+(e.rect[3]-F.y));_=_.join(" ");const c=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",_),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),g.appendChild(c),this.container.append(g),this._createPopup(c,e),this.container}}class d extends p{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class k extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:o}=D(e.rect),g=this.svgFactory.create(s,o);for(const _ of e.inkLists){let c=[];for(const q of _)c.push(`${q.x-e.rect[0]},${e.rect[3]-q.y}`);c=c.join(" ");const F=this.svgFactory.createElement(this.svgElementName);F.setAttribute("points",c),F.setAttribute("stroke-width",e.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),this._createPopup(F,e),g.appendChild(F)}return this.container.append(g),this.container}}class W extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Y extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Q extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class J extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class te extends j{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class he extends j{constructor(e){super(e,{isRenderable:!0});const{filename:s,content:o}=this.data.file;this.filename=(0,M.getFilenameFromUrl)(s),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:s,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class oe{static render(e){const s=[],o=[];for(const _ of e.annotations){if(!_)continue;const{width:c,height:F}=D(_.rect);if(!(c<=0||F<=0)){if(_.annotationType===i.AnnotationType.POPUP){o.push(_);continue}s.push(_)}}o.length&&s.push(...o);const g=e.div;for(const _ of s){const c=V.create({data:_,layer:g,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new M.DOMSVGFactory,annotationStorage:e.annotationStorage||new E.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(c.isRenderable){const F=c.render();if(_.hidden&&(F.style.visibility="hidden"),Array.isArray(F))for(const q of F)g.appendChild(q);else c instanceof n?g.prepend(F):g.appendChild(F)}}_classStaticPrivateMethodGet(this,oe,O).call(this,g,e.annotationCanvasMap)}static update(e){const{page:s,viewport:o,annotations:g,annotationCanvasMap:_,div:c}=e,F=o.transform,q=`matrix(${F.join(",")})`;let B,$;for(const X of g){const Z=c.querySelectorAll(`[data-annotation-id="${X.id}"]`);if(Z)for(const ee of Z)if(X.hasOwnCanvas){const ue=i.Util.normalizeRect([X.rect[0],s.view[3]-X.rect[1]+s.view[1],X.rect[2],s.view[3]-X.rect[3]+s.view[1]]);if(!$){B=Math.abs(F[0]||F[1]);const me=F.slice();for(let ae=0;ae<4;ae++)me[ae]=Math.sign(me[ae]);$=`matrix(${me.join(",")})`}const _e=ue[0]*B,Ae=ue[1]*B;ee.style.left=`${_e}px`,ee.style.top=`${Ae}px`,ee.style.transformOrigin=`${-_e}px ${-Ae}px`,ee.style.transform=$}else ee.style.transform=q}_classStaticPrivateMethodGet(this,oe,O).call(this,c,_),c.hidden=!1}}function O(r,e){if(e){for(const[s,o]of e){const g=r.querySelector(`[data-annotation-id="${s}"]`);if(!g)continue;const{firstChild:_}=g;"CANVAS"===_.nodeName?g.replaceChild(o,_):g.insertBefore(o,_)}e.clear()}}a.AnnotationLayer=oe},(z,a)=>{function S(M){return Math.floor(255*Math.max(0,Math.min(1,M))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class i{static CMYK_G([E,N,C,P]){return["G",1-Math.min(1,.3*E+.59*C+.11*N+P)]}static G_CMYK([E]){return["CMYK",0,0,0,1-E]}static G_RGB([E]){return["RGB",E,E,E]}static G_HTML([E]){const N=S(E);return`#${N}${N}${N}`}static RGB_G([E,N,C]){return["G",.3*E+.59*N+.11*C]}static RGB_HTML([E,N,C]){return`#${S(E)}${S(N)}${S(C)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([E,N,C,P]){return["RGB",1-Math.min(1,E+P),1-Math.min(1,C+P),1-Math.min(1,N+P)]}static CMYK_HTML(E){return this.RGB_HTML(this.CMYK_RGB(E))}static RGB_CMYK([E,N,C]){const P=1-E,b=1-N,D=1-C;return["CMYK",P,b,D,Math.min(P,b,D)]}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var i=S(18);a.XfaLayer=class M{static setupStorage(N,C,P,b,D){const V=b.getValue(C,{value:null});switch(P.name){case"textarea":if(null!==V.value&&(N.textContent=V.value),"print"===D)break;N.addEventListener("input",j=>{b.setValue(C,{value:j.target.value})});break;case"input":if("radio"===P.attributes.type||"checkbox"===P.attributes.type){if(V.value===P.attributes.xfaOn?N.setAttribute("checked",!0):V.value===P.attributes.xfaOff&&N.removeAttribute("checked"),"print"===D)break;N.addEventListener("change",j=>{b.setValue(C,{value:j.target.getAttribute(j.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==V.value&&N.setAttribute("value",V.value),"print"===D)break;N.addEventListener("input",j=>{b.setValue(C,{value:j.target.value})})}break;case"select":if(null!==V.value)for(const j of P.children)j.attributes.value===V.value&&(j.attributes.selected=!0);N.addEventListener("input",j=>{const T=j.target.options;b.setValue(C,{value:-1===T.selectedIndex?"":T[T.selectedIndex].value})})}}static setAttributes({html:N,element:C,storage:P=null,intent:b,linkService:D}){const{attributes:V}=C,j=N instanceof HTMLAnchorElement;"radio"===V.type&&(V.name=`${V.name}-${b}`);for(const[T,U]of Object.entries(V))if(null!=U&&"dataId"!==T)if("style"!==T)if("textContent"===T)N.textContent=U;else if("class"===T)U.length&&N.setAttribute(T,U.join(" "));else{if(j&&("href"===T||"newWindow"===T))continue;N.setAttribute(T,U)}else Object.assign(N.style,U);j&&D.addLinkAttributes(N,V.href,V.newWindow),P&&V.dataId&&this.setupStorage(N,V.dataId,C,P)}static render(N){const C=N.annotationStorage,P=N.linkService,b=N.xfaHtml,D=N.intent||"display",V=document.createElement(b.name);b.attributes&&this.setAttributes({html:V,element:b,intent:D,linkService:P});const j=[[b,-1,V]],T=N.div;if(T.appendChild(V),N.viewport){const m=`matrix(${N.viewport.transform.join(",")})`;T.style.transform=m}"richText"!==D&&T.setAttribute("class","xfaLayer xfaFont");const U=[];for(;j.length>0;){const[m,x,A]=j[j.length-1];if(x+1===m.children.length){j.pop();continue}const w=m.children[++j[j.length-1][1]];if(null===w)continue;const{name:y}=w;if("#text"===y){const n=document.createTextNode(w.value);U.push(n),A.appendChild(n);continue}let v;if(v=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,y):document.createElement(y),A.appendChild(v),w.attributes&&this.setAttributes({html:v,element:w,storage:C,intent:D,linkService:P}),w.children&&w.children.length>0)j.push([w,-1,v]);else if(w.value){const n=document.createTextNode(w.value);i.XfaText.shouldBuildText(y)&&U.push(n),v.appendChild(n)}}for(const m of T.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:U}}static update(N){const C=`matrix(${N.viewport.transform.join(",")})`;N.div.style.transform=C,N.div.hidden=!1}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function A(w){const y=new x({textContent:w.textContent,textContentStream:w.textContentStream,container:w.container,viewport:w.viewport,textDivs:w.textDivs,textContentItemsStr:w.textContentItemsStr,enhanceTextSelection:w.enhanceTextSelection});return y._render(w.timeout),y};var i=S(1);const E=30,C=new Map,P=/^\s+$/g;function D(w,y,v,n){const t=document.createElement("span"),h=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==y.str,hasEOL:y.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==y.str,hasEOL:y.hasEOL};w._textDivs.push(t);const u=i.Util.transform(w._viewport.transform,y.transform);let l=Math.atan2(u[1],u[0]);const f=v[y.fontName];f.vertical&&(l+=Math.PI/2);const p=Math.hypot(u[2],u[3]),d=p*function b(w,y){const v=C.get(w);if(v)return v;y.save(),y.font=`30px ${w}`;const n=y.measureText("");let t=n.fontBoundingBoxAscent,h=Math.abs(n.fontBoundingBoxDescent);if(t){y.restore();const l=t/(t+h);return C.set(w,l),l}y.strokeStyle="red",y.clearRect(0,0,E,E),y.strokeText("g",0,0);let u=y.getImageData(0,0,E,E).data;h=0;for(let l=u.length-1-3;l>=0;l-=4)if(u[l]>0){h=Math.ceil(l/4/E);break}y.clearRect(0,0,E,E),y.strokeText("A",0,E),u=y.getImageData(0,0,E,E).data,t=0;for(let l=0,f=u.length;l<f;l+=4)if(u[l]>0){t=E-Math.floor(l/4/E);break}if(y.restore(),t){const l=t/(t+h);return C.set(w,l),l}return C.set(w,.8),.8}(f.fontFamily,n);let k,L;0===l?(k=u[4],L=u[5]-d):(k=u[4]+d*Math.sin(l),L=u[5]-d*Math.cos(l)),t.style.left=`${k}px`,t.style.top=`${L}px`,t.style.fontSize=`${p}px`,t.style.fontFamily=f.fontFamily,t.setAttribute("role","presentation"),t.textContent=y.str,t.dir=y.dir,w._fontInspectorEnabled&&(t.dataset.fontName=y.fontName),0!==l&&(h.angle=l*(180/Math.PI));let W=!1;if(y.str.length>1||w._enhanceTextSelection&&P.test(y.str))W=!0;else if(" "!==y.str&&y.transform[0]!==y.transform[3]){const Y=Math.abs(y.transform[0]),Q=Math.abs(y.transform[3]);Y!==Q&&Math.max(Y,Q)/Math.min(Y,Q)>1.5&&(W=!0)}if(W&&(h.canvasWidth=f.vertical?y.height*w._viewport.scale:y.width*w._viewport.scale),w._textDivProperties.set(t,h),w._textContentStream&&w._layoutText(t),w._enhanceTextSelection&&h.hasText){let Y=1,Q=0;0!==l&&(Y=Math.cos(l),Q=Math.sin(l));const J=(f.vertical?y.height:y.width)*w._viewport.scale,te=p;let he,oe;0!==l?(he=[Y,Q,-Q,Y,k,L],oe=i.Util.getAxialAlignedBoundingBox([0,0,J,te],he)):oe=[k,L,k+J,L+te],w._bounds.push({left:oe[0],top:oe[1],right:oe[2],bottom:oe[3],div:t,size:[J,te],m:he})}}function V(w){if(w._canceled)return;const y=w._textDivs,v=w._capability,n=y.length;if(n>1e5)return w._renderingDone=!0,void v.resolve();if(!w._textContentStream)for(let t=0;t<n;t++)w._layoutText(y[t]);w._renderingDone=!0,v.resolve()}function j(w,y,v){let n=0;for(let t=0;t<v;t++){const h=w[y++];h>0&&(n=n?Math.min(h,n):h)}return n}function m(w,y){y.sort(function(t,h){return t.x1-h.x1||t.index-h.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of y){let h=0;for(;h<n.length&&n[h].end<=t.y1;)h++;let u=n.length-1;for(;u>=0&&n[u].start>=t.y2;)u--;let l,f,p,d,k=-1/0;for(p=h;p<=u;p++){let Y;l=n[p],f=l.boundary,Y=f.x2>t.x1?f.index>t.index?f.x1New:t.x1:void 0===f.x2New?(f.x2+t.x1)/2:f.x2New,Y>k&&(k=Y)}for(t.x1New=k,p=h;p<=u;p++)l=n[p],f=l.boundary,void 0===f.x2New?f.x2>t.x1?f.index>t.index&&(f.x2New=f.x2):f.x2New=k:f.x2New>k&&(f.x2New=Math.max(k,f.x2));const L=[];let W=null;for(p=h;p<=u;p++){l=n[p],f=l.boundary;const Y=f.x2>t.x2?f:t;W===Y?L[L.length-1].end=l.end:(L.push({start:l.start,end:l.end,boundary:Y}),W=Y)}for(n[h].start<t.y1&&(L[0].start=t.y1,L.unshift({start:n[h].start,end:t.y1,boundary:n[h].boundary})),t.y2<n[u].end&&(L[L.length-1].end=t.y2,L.push({start:t.y2,end:n[u].end,boundary:n[u].boundary})),p=h;p<=u;p++){if(l=n[p],f=l.boundary,void 0!==f.x2New)continue;let Y=!1;for(d=h-1;!Y&&d>=0&&n[d].start>=f.y1;d--)Y=n[d].boundary===f;for(d=u+1;!Y&&d<n.length&&n[d].end<=f.y2;d++)Y=n[d].boundary===f;for(d=0;!Y&&d<L.length;d++)Y=L[d].boundary===f;Y||(f.x2New=k)}Array.prototype.splice.apply(n,[h,u-h+1].concat(L))}for(const t of n){const h=t.boundary;void 0===h.x2New&&(h.x2New=Math.max(w,h.x2))}}class x{constructor({textContent:y,textContentStream:v,container:n,viewport:t,textDivs:h,textContentItemsStr:u,enhanceTextSelection:l}){this._textContent=y,this._textContentStream=v,this._container=n,this._document=n.ownerDocument,this._viewport=t,this._textDivs=h||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(y,v){for(let n=0,t=y.length;n<t;n++)if(void 0!==y[n].str)this._textContentItemsStr.push(y[n].str),D(this,y[n],v,this._layoutTextCtx);else if("beginMarkedContentProps"===y[n].type||"beginMarkedContent"===y[n].type){const h=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==y[n].id&&this._container.setAttribute("id",`${y[n].id}`),h.appendChild(this._container)}else"endMarkedContent"===y[n].type&&(this._container=this._container.parentNode)}_layoutText(y){const v=this._textDivProperties.get(y);let n="";if(0!==v.canvasWidth&&v.hasText){const{fontSize:t,fontFamily:h}=y.style;(t!==this._layoutTextLastFontSize||h!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${t} ${h}`,this._layoutTextLastFontSize=t,this._layoutTextLastFontFamily=h);const{width:u}=this._layoutTextCtx.measureText(y.textContent);if(u>0){const l=v.canvasWidth/u;this._enhanceTextSelection&&(v.scale=l),n=`scaleX(${l})`}}if(0!==v.angle&&(n=`rotate(${v.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(v.originalTransform=n),y.style.transform=n),v.hasText&&this._container.appendChild(y),v.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.appendChild(t)}}_render(y=0){const v=(0,i.createPromiseCapability)();let n=Object.create(null);const t=this._document.createElement("canvas");if(t.height=t.width=E,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),v.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const h=()=>{this._reader.read().then(({value:u,done:l})=>{l?v.resolve():(Object.assign(n,u.styles),this._processItems(u.items,n),h())},v.reject)};this._reader=this._textContentStream.getReader(),h()}}v.promise.then(()=>{n=null,y?this._renderTimer=setTimeout(()=>{V(this),this._renderTimer=null},y):V(this)},this._capability.reject)}expandTextDivs(y=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function T(w){const y=w._bounds,v=w._viewport,n=function U(w,y,v){const n=v.map(function(h,u){return{x1:h.left,y1:h.top,x2:h.right,y2:h.bottom,index:u,x1New:void 0,x2New:void 0}});m(w,n);const t=new Array(v.length);for(const h of n)t[h.index]={left:h.x1New,top:0,right:h.x2New,bottom:0};v.map(function(h,u){const l=t[u],f=n[u];f.x1=h.top,f.y1=w-l.right,f.x2=h.bottom,f.y2=w-l.left,f.index=u,f.x1New=void 0,f.x2New=void 0}),m(y,n);for(const h of n){const u=h.index;t[u].top=h.x1New,t[u].bottom=h.x2New}return t}(v.width,v.height,y);for(let t=0;t<n.length;t++){const h=y[t].div,u=w._textDivProperties.get(h);if(0===u.angle){u.paddingLeft=y[t].left-n[t].left,u.paddingTop=y[t].top-n[t].top,u.paddingRight=n[t].right-y[t].right,u.paddingBottom=n[t].bottom-y[t].bottom,w._textDivProperties.set(h,u);continue}const l=n[t],f=y[t],p=f.m,d=p[0],k=p[1],L=[[0,0],[0,f.size[1]],[f.size[0],0],f.size],W=new Float64Array(64);for(let Q=0,J=L.length;Q<J;Q++){const te=i.Util.applyTransform(L[Q],p);W[Q+0]=d&&(l.left-te[0])/d,W[Q+4]=k&&(l.top-te[1])/k,W[Q+8]=d&&(l.right-te[0])/d,W[Q+12]=k&&(l.bottom-te[1])/k,W[Q+16]=k&&(l.left-te[0])/-k,W[Q+20]=d&&(l.top-te[1])/d,W[Q+24]=k&&(l.right-te[0])/-k,W[Q+28]=d&&(l.bottom-te[1])/d,W[Q+32]=d&&(l.left-te[0])/-d,W[Q+36]=k&&(l.top-te[1])/-k,W[Q+40]=d&&(l.right-te[0])/-d,W[Q+44]=k&&(l.bottom-te[1])/-k,W[Q+48]=k&&(l.left-te[0])/k,W[Q+52]=d&&(l.top-te[1])/-d,W[Q+56]=k&&(l.right-te[0])/k,W[Q+60]=d&&(l.bottom-te[1])/-d}const Y=1+Math.min(Math.abs(d),Math.abs(k));u.paddingLeft=j(W,32,16)/Y,u.paddingTop=j(W,48,16)/Y,u.paddingRight=j(W,0,16)/Y,u.paddingBottom=j(W,16,16)/Y,w._textDivProperties.set(h,u)}}(this),this._bounds=null);const v=[],n=[];for(let t=0,h=this._textDivs.length;t<h;t++){const u=this._textDivs[t],l=this._textDivProperties.get(u);!l.hasText||(y?(v.length=0,n.length=0,l.originalTransform&&v.push(l.originalTransform),l.paddingTop>0?(n.push(`${l.paddingTop}px`),v.push(`translateY(${-l.paddingTop}px)`)):n.push(0),n.push(l.paddingRight>0?l.paddingRight/l.scale+"px":0),n.push(l.paddingBottom>0?`${l.paddingBottom}px`:0),l.paddingLeft>0?(n.push(l.paddingLeft/l.scale+"px"),v.push(`translateX(${-l.paddingLeft/l.scale}px)`)):n.push(0),u.style.padding=n.join(" "),v.length&&(u.style.transform=v.join(" "))):(u.style.padding=null,u.style.transform=l.originalTransform))}}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var i=S(1),M=S(5),E=S(3);let N=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=N;{let m=function(n){let t=[];const h=[];for(const u of n)"save"!==u.fn?"restore"===u.fn?t=h.pop():t.push(u):(t.push({fnId:92,fn:"group",items:[]}),h.push(t),t=t[t.length-1].items);return t},x=function(n){if(Number.isInteger(n))return n.toString();const t=n.toFixed(10);let h=t.length-1;if("0"!==t[h])return t;do{h--}while("0"===t[h]);return t.substring(0,"."===t[h]?h:h+1)},A=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${x(n[0])} ${x(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const t=180*Math.acos(n[0])/Math.PI;return`rotate(${x(t)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${x(n[4])} ${x(n[5])})`;return`matrix(${x(n[0])} ${x(n[1])} ${x(n[2])} ${x(n[3])} ${x(n[4])} ${x(n[5])})`};const C={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},P="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",D=["butt","round","square"],V=["miter","round","bevel"],j=function(n,t="",h=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!h)return URL.createObjectURL(new Blob([n],{type:t}));const u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l=`data:${t};base64,`;for(let f=0,p=n.length;f<p;f+=3){const d=255&n[f],k=255&n[f+1],L=255&n[f+2];l+=u[d>>2]+u[(3&d)<<4|k>>4]+u[f+1<p?(15&k)<<2|L>>6:64]+u[f+2<p?63&L:64]}return l},T=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),h=new Int32Array(256);for(let L=0;L<256;L++){let W=L;for(let Y=0;Y<8;Y++)W=1&W?3988292384^W>>1&2147483647:W>>1&2147483647;h[L]=W}function l(L,W,Y,Q){let J=Q;const te=W.length;Y[J]=te>>24&255,Y[J+1]=te>>16&255,Y[J+2]=te>>8&255,Y[J+3]=255&te,J+=4,Y[J]=255&L.charCodeAt(0),Y[J+1]=255&L.charCodeAt(1),Y[J+2]=255&L.charCodeAt(2),Y[J+3]=255&L.charCodeAt(3),J+=4,Y.set(W,J),J+=W.length;const he=function u(L,W,Y){let Q=-1;for(let J=W;J<Y;J++)Q=Q>>>8^h[255&(Q^L[J])];return-1^Q}(Y,Q+4,J);Y[J]=he>>24&255,Y[J+1]=he>>16&255,Y[J+2]=he>>8&255,Y[J+3]=255&he}function d(L){let W=L.length;const Y=65535,Q=Math.ceil(W/Y),J=new Uint8Array(2+W+5*Q+4);let te=0;J[te++]=120,J[te++]=156;let he=0;for(;W>Y;)J[te++]=0,J[te++]=255,J[te++]=255,J[te++]=0,J[te++]=0,J.set(L.subarray(he,he+Y),te),te+=Y,he+=Y,W-=Y;J[te++]=1,J[te++]=255&W,J[te++]=W>>8&255,J[te++]=255&~W,J[te++]=(65535&~W)>>8&255,J.set(L.subarray(he),te),te+=L.length-he;const oe=function f(L,W,Y){let Q=1,J=0;for(let te=W;te<Y;++te)Q=(Q+(255&L[te]))%65521,J=(J+Q)%65521;return J<<16|Q}(L,0,L.length);return J[te++]=oe>>24&255,J[te++]=oe>>16&255,J[te++]=oe>>8&255,J[te++]=255&oe,J}return function(W,Y,Q){return function k(L,W,Y,Q){const J=L.width,te=L.height;let he,oe,O;const r=L.data;switch(W){case i.ImageKind.GRAYSCALE_1BPP:oe=0,he=1,O=J+7>>3;break;case i.ImageKind.RGB_24BPP:oe=2,he=8,O=3*J;break;case i.ImageKind.RGBA_32BPP:oe=6,he=8,O=4*J;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+O)*te);let s=0,o=0;for(let B=0;B<te;++B)e[s++]=0,e.set(r.subarray(o,o+O),s),o+=O,s+=O;if(W===i.ImageKind.GRAYSCALE_1BPP&&Q){s=0;for(let B=0;B<te;B++){s++;for(let $=0;$<O;$++)e[s++]^=255}}const g=new Uint8Array([J>>24&255,J>>16&255,J>>8&255,255&J,te>>24&255,te>>16&255,te>>8&255,255&te,he,oe,0,0,0]),_=function p(L){if(!E.isNodeJS)return d(L);try{let W;W=parseInt(process.versions.node)>=8?L:Buffer.from(L);const Y=__webpack_require__(2258).deflateSync(W,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(W){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+W)}return d(L)}(e),F=new Uint8Array(n.length+36+g.length+_.length);let q=0;return F.set(n,q),q+=n.length,l("IHDR",g,F,q),q+=12+g.length,l("IDATA",_,F,q),q+=12+_.length,l("IEND",new Uint8Array(0),F,q),j(F,"image/png",Y)}(W,void 0===W.kind?i.ImageKind.GRAYSCALE_1BPP:W.kind,Y,Q)}}();class U{constructor(){this.fontSizeScale=1,this.fontWeight=C.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=C.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,h){this.x=t,this.y=h}}let w=0,y=0,v=0;a.SVGGraphics=N=class{constructor(n,t,h=!1){this.svgFactory=new M.DOMSVGFactory,this.current=new U,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!h,this._operatorIdMapping=[];for(const u in i.OPS)this._operatorIdMapping[i.OPS[u]]=u}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const t=n.fnArray,h=n.argsArray;for(let u=0,l=t.length;u<l;u++)if(t[u]===i.OPS.dependency)for(const f of h[u]){const p=f.startsWith("g_")?this.commonObjs:this.objs,d=new Promise(k=>{p.get(f,k)});this.current.dependencies.push(d)}return Promise.all(this.current.dependencies)}transform(n,t,h,u,l,f){this.transformMatrix=i.Util.transform(this.transformMatrix,[n,t,h,u,l,f]),this.tgrp=null}getSVG(n,t){this.viewport=t;const h=this._initialize(t);return this.loadDependencies(n).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),h))}convertOpList(n){const t=this._operatorIdMapping,h=n.argsArray,u=n.fnArray,l=[];for(let f=0,p=u.length;f<p;f++){const d=u[f];l.push({fnId:d,fn:t[d],args:h[f]})}return m(l)}executeOpTree(n){for(const t of n){const h=t.fn,l=t.args;switch(0|t.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(l);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(l[0],l[1]);break;case i.OPS.setFont:this.setFont(l);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(l[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(l[0],l[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(l[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(l[0]);break;case i.OPS.setHScale:this.setHScale(l[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(l[0],l[1],l[2],l[3],l[4],l[5]);break;case i.OPS.setTextRise:this.setTextRise(l[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(l[0]);break;case i.OPS.setLineWidth:this.setLineWidth(l[0]);break;case i.OPS.setLineJoin:this.setLineJoin(l[0]);break;case i.OPS.setLineCap:this.setLineCap(l[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(l[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(l[0],l[1],l[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(l[0],l[1],l[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(l);break;case i.OPS.setFillColorN:this.setFillColorN(l);break;case i.OPS.shadingFill:this.shadingFill(l[0]);break;case i.OPS.setDash:this.setDash(l[0],l[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(l[0]);break;case i.OPS.setFlatness:this.setFlatness(l[0]);break;case i.OPS.setGState:this.setGState(l[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(l[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(l[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(l[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(l[0],l[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(l[0],l[1],l[2],l[3],l[4],l[5]);break;case i.OPS.constructPath:this.constructPath(l[0],l[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${h}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,t,h,u,l,f){const p=this.current;p.textMatrix=p.lineMatrix=[n,t,h,u,l,f],p.textMatrixScale=Math.hypot(n,t),p.x=p.lineX=0,p.y=p.lineY=0,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${x(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",x(-p.y)),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtElement.appendChild(p.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=i.IDENTITY_MATRIX,n.lineMatrix=i.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,t){const h=this.current;h.x=h.lineX+=n,h.y=h.lineY+=t,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${x(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",x(-h.y))}showText(n){const t=this.current,h=t.font,u=t.fontSize;if(0===u)return;const l=t.fontSizeScale,f=t.charSpacing,p=t.wordSpacing,d=t.fontDirection,k=t.textHScale*d,L=h.vertical,W=L?1:-1,Y=h.defaultVMetrics,Q=u*t.fontMatrix[0];let J=0;for(const oe of n){if(null===oe){J+=d*p;continue}if("number"==typeof oe){J+=W*oe*u/1e3;continue}const O=(oe.isSpace?p:0)+f,r=oe.fontChar;let e,s,g,o=oe.width;if(L){let _;const c=oe.vmetric||Y;_=oe.vmetric?c[1]:.5*o,_=-_*Q,o=c?-c[0]:o,e=_/l,s=(J+c[2]*Q)/l}else e=J/l,s=0;(oe.isInFont||h.missingFile)&&(t.xcoords.push(t.x+e),L&&t.ycoords.push(-t.y+s),t.tspan.textContent+=r),g=L?o*Q-O*d:o*Q+O*d,J+=g}t.tspan.setAttributeNS(null,"x",t.xcoords.map(x).join(" ")),t.tspan.setAttributeNS(null,"y",L?t.ycoords.map(x).join(" "):x(-t.y)),L?t.y-=J:t.x+=J*k,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${x(t.fontSize)}px`),t.fontStyle!==C.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==C.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const te=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;te===i.TextRenderingMode.FILL||te===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==C.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(te===i.TextRenderingMode.STROKE||te===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));let he=t.textMatrix;0!==t.textRise&&(he=he.slice(),he[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${A(he)} scale(${x(k)}, -1)`),t.txtElement.setAttributeNS(P,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}setLeadingMoveText(n,t){this.setLeading(-t),this.moveText(n,t)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=j(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${t}); }\n`}setFont(n){const t=this.current,h=this.commonObjs.get(n[0]);let u=n[1];t.font=h,this.embedFonts&&!h.missingFile&&!this.embeddedFonts[h.loadedName]&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=h),t.fontMatrix=h.fontMatrix||i.FONT_IDENTITY_MATRIX;let l="normal";h.black?l="900":h.bold&&(l="bold");const f=h.italic?"italic":"normal";u<0?(u=-u,t.fontDirection=-1):t.fontDirection=1,t.fontSize=u,t.fontFamily=h.loadedName,t.fontWeight=l,t.fontStyle=f,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",x(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=D[n]}setLineJoin(n){this.current.lineJoin=V[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,t,h){this.current.strokeColor=i.Util.makeHexColor(n,t,h)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,t,h){this.current.fillColor=i.Util.makeHexColor(n,t,h),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const t=this.viewport.width,h=this.viewport.height,u=i.Util.inverseTransform(this.transformMatrix),l=i.Util.applyTransform([0,0],u),f=i.Util.applyTransform([0,h],u),p=i.Util.applyTransform([t,0],u),d=i.Util.applyTransform([t,h],u),k=Math.min(l[0],f[0],p[0],d[0]),L=Math.min(l[1],f[1],p[1],d[1]),W=Math.max(l[0],f[0],p[0],d[0]),Y=Math.max(l[1],f[1],p[1],d[1]),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",k),Q.setAttributeNS(null,"y",L),Q.setAttributeNS(null,"width",W-k),Q.setAttributeNS(null,"height",Y-L),Q.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Q)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const t=n[1],h=n[2],u=n[3]||i.IDENTITY_MATRIX,[l,f,p,d]=n[4],k=n[5],L=n[6],W=n[7],Y="shading"+v++,[Q,J,te,he]=i.Util.normalizeRect([...i.Util.applyTransform([l,f],u),...i.Util.applyTransform([p,d],u)]),[oe,O]=i.Util.singularValueDecompose2dScale(u),r=k*oe,e=L*O,s=this.svgFactory.createElement("svg:pattern");s.setAttributeNS(null,"id",Y),s.setAttributeNS(null,"patternUnits","userSpaceOnUse"),s.setAttributeNS(null,"width",r),s.setAttributeNS(null,"height",e),s.setAttributeNS(null,"x",`${Q}`),s.setAttributeNS(null,"y",`${J}`);const o=this.svg,g=this.transformMatrix,_=this.current.fillColor,c=this.current.strokeColor,F=this.svgFactory.create(te-Q,he-J);if(this.svg=F,this.transformMatrix=u,2===W){const q=i.Util.makeHexColor(...t);this.current.fillColor=q,this.current.strokeColor=q}return this.executeOpTree(this.convertOpList(h)),this.svg=o,this.transformMatrix=g,this.current.fillColor=_,this.current.strokeColor=c,s.appendChild(F.childNodes[0]),this.defs.appendChild(s),`url(#${Y})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const t="shading"+v++,h=n[3];let u;switch(n[1]){case"axial":const l=n[4],f=n[5];u=this.svgFactory.createElement("svg:linearGradient"),u.setAttributeNS(null,"id",t),u.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),u.setAttributeNS(null,"x1",l[0]),u.setAttributeNS(null,"y1",l[1]),u.setAttributeNS(null,"x2",f[0]),u.setAttributeNS(null,"y2",f[1]);break;case"radial":const p=n[4],d=n[5],k=n[6],L=n[7];u=this.svgFactory.createElement("svg:radialGradient"),u.setAttributeNS(null,"id",t),u.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),u.setAttributeNS(null,"cx",d[0]),u.setAttributeNS(null,"cy",d[1]),u.setAttributeNS(null,"r",L),u.setAttributeNS(null,"fx",p[0]),u.setAttributeNS(null,"fy",p[1]),u.setAttributeNS(null,"fr",k);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const l of h){const f=this.svgFactory.createElement("svg:stop");f.setAttributeNS(null,"offset",l[0]),f.setAttributeNS(null,"stop-color",l[1]),u.appendChild(f)}return this.defs.appendChild(u),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,t){this.current.dashArray=n,this.current.dashPhase=t}constructPath(n,t){const h=this.current;let u=h.x,l=h.y,f=[],p=0;for(const d of n)switch(0|d){case i.OPS.rectangle:u=t[p++],l=t[p++];const W=u+t[p++],Y=l+t[p++];f.push("M",x(u),x(l),"L",x(W),x(l),"L",x(W),x(Y),"L",x(u),x(Y),"Z");break;case i.OPS.moveTo:u=t[p++],l=t[p++],f.push("M",x(u),x(l));break;case i.OPS.lineTo:u=t[p++],l=t[p++],f.push("L",x(u),x(l));break;case i.OPS.curveTo:u=t[p+4],l=t[p+5],f.push("C",x(t[p]),x(t[p+1]),x(t[p+2]),x(t[p+3]),x(u),x(l)),p+=6;break;case i.OPS.curveTo2:f.push("C",x(u),x(l),x(t[p]),x(t[p+1]),x(t[p+2]),x(t[p+3])),u=t[p+2],l=t[p+3],p+=4;break;case i.OPS.curveTo3:u=t[p+2],l=t[p+3],f.push("C",x(t[p]),x(t[p+1]),x(u),x(l),x(u),x(l)),p+=4;break;case i.OPS.closePath:f.push("Z")}f=f.join(" "),h.path&&n.length>0&&n[0]!==i.OPS.rectangle&&n[0]!==i.OPS.moveTo?f=h.path.getAttributeNS(null,"d")+f:(h.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(h.path)),h.path.setAttributeNS(null,"d",f),h.path.setAttributeNS(null,"fill","none"),h.element=h.path,h.setCurrentPoint(u,l)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const t="clippath"+w++,h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",t),h.setAttributeNS(null,"transform",A(this.transformMatrix));const u=n.element.cloneNode(!0);if(u.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,h.appendChild(u),this.defs.appendChild(h),n.activeClipUrl){n.clipGroup=null;for(const l of this.extraStack)l.clipGroup=null;h.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const t=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",t)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[t,h]of n)switch(t){case"LW":this.setLineWidth(h);break;case"LC":this.setLineCap(h);break;case"LJ":this.setLineJoin(h);break;case"ML":this.setMiterLimit(h);break;case"D":this.setDash(h[0],h[1]);break;case"RI":this.setRenderingIntent(h);break;case"FL":this.setFlatness(h);break;case"Font":this.setFont(h);break;case"CA":this.setStrokeAlpha(h);break;case"ca":this.setFillAlpha(h);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,t=1){const h=this.current;let u=h.dashArray;1!==t&&u.length>0&&(u=u.map(function(l){return t*l})),n.setAttributeNS(null,"stroke",h.strokeColor),n.setAttributeNS(null,"stroke-opacity",h.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",x(h.miterLimit)),n.setAttributeNS(null,"stroke-linecap",h.lineCap),n.setAttributeNS(null,"stroke-linejoin",h.lineJoin),n.setAttributeNS(null,"stroke-width",x(t*h.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",u.map(x).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",x(t*h.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const t=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,t){const h=n.width,u=n.height,l=T(n,this.forceDataSchema,!!t),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width",x(h)),f.setAttributeNS(null,"height",x(u)),this.current.element=f,this.clip("nonzero");const p=this.svgFactory.createElement("svg:image");p.setAttributeNS(b,"xlink:href",l),p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y",x(-u)),p.setAttributeNS(null,"width",x(h)+"px"),p.setAttributeNS(null,"height",x(u)+"px"),p.setAttributeNS(null,"transform",`scale(${x(1/h)} ${x(-1/u)})`),t?t.appendChild(p):this._ensureTransformGroup().appendChild(p)}paintImageMaskXObject(n){const t=this.current,h=n.width,u=n.height,l=t.fillColor;t.maskId="mask"+y++;const f=this.svgFactory.createElement("svg:mask");f.setAttributeNS(null,"id",t.maskId);const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width",x(h)),p.setAttributeNS(null,"height",x(u)),p.setAttributeNS(null,"fill",l),p.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(f),this._ensureTransformGroup().appendChild(p),this.paintInlineImageXObject(n,f)}paintFormXObjectBegin(n,t){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t){const h=t[2]-t[0],u=t[3]-t[1],l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x",t[0]),l.setAttributeNS(null,"y",t[1]),l.setAttributeNS(null,"width",x(h)),l.setAttributeNS(null,"height",x(u)),this.current.element=l,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const t=this.svgFactory.create(n.width,n.height),h=this.svgFactory.createElement("svg:defs");t.appendChild(h),this.defs=h;const u=this.svgFactory.createElement("svg:g");return u.setAttributeNS(null,"transform",A(n.transform)),t.appendChild(u),this.svg=u,t}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var i=S(1),M=S(26);const E=__webpack_require__(172),N=__webpack_require__(2001),C=__webpack_require__(3779),P=__webpack_require__(6558),b=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class V{constructor(v){this.source=v,this.url=function D(y){const v=P.parse(y);return"file:"===v.protocol||v.host?v:/^[a-z]:[/\\]/i.test(y)?P.parse(`file:///${y}`):(v.host||(v.protocol="file:"),v)}(v.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A(this):new m(this),this._fullRequestReader}getRangeReader(v,n){if(n<=this._progressiveDataLength)return null;const t=this.isFsUrl?new w(this,v,n):new x(this,v,n);return this._rangeRequestReaders.push(t),t}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const n of this._rangeRequestReaders.slice(0))n.cancel(v)}};class j{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=v.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const n=v._readableStream.read();return null===n?(v._readCapability=(0,i.createPromiseCapability)(),v.read()):(v._loaded+=n.length,v.onProgress&&v.onProgress({loaded:v._loaded,total:v._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class T{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!v.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const n=v._readableStream.read();return null===n?(v._readCapability=(0,i.createPromiseCapability)(),v.read()):(v._loaded+=n.length,v.onProgress&&v.onProgress({loaded:v._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function U(y,v){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:v}}class m extends j{constructor(v){super(v);const n=t=>{if(404===t.statusCode){const f=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=f,void this._headersCapability.reject(f)}this._headersCapability.resolve(),this._setReadableStream(t);const h=f=>this._readableStream.headers[f.toLowerCase()],{allowRangeRequests:u,suggestedLength:l}=(0,M.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=l||this._contentLength,this._filename=(0,M.extractFilenameFromHeader)(h)};this._request=null,this._request="http:"===this._url.protocol?N.request(U(this._url,v.httpHeaders),n):C.request(U(this._url,v.httpHeaders),n),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class x extends T{constructor(v,n,t){super(v),this._httpHeaders={};for(const u in v.httpHeaders){const l=v.httpHeaders[u];typeof l>"u"||(this._httpHeaders[u]=l)}this._httpHeaders.Range=`bytes=${n}-${t-1}`;const h=u=>{if(404!==u.statusCode)this._setReadableStream(u);else{const l=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=l}};this._request=null,this._request="http:"===this._url.protocol?N.request(U(this._url,this._httpHeaders),h):C.request(U(this._url,this._httpHeaders),h),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class A extends j{constructor(v){super(v);let n=decodeURIComponent(this._url.path);b.test(this._url.href)&&(n=n.replace(/^\//,"")),E.lstat(n,(t,h)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=h.size,this._setReadableStream(E.createReadStream(n)),this._headersCapability.resolve()})}}class w extends T{constructor(v,n,t){super(v);let h=decodeURIComponent(this._url.path);b.test(this._url.href)&&(h=h.replace(/^\//,"")),this._setReadableStream(E.createReadStream(h,{start:n,end:t-1}))}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function P(D,V){return 404===D||0===D&&V.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+V+'".'):new i.UnexpectedResponseException(`Unexpected server response (${D}) while retrieving PDF "${V}".`,D)},a.extractFilenameFromHeader=function C(D){const V=D("Content-Disposition");if(V){let j=(0,M.getFilenameFromContentDispositionHeader)(V);if(j.includes("%"))try{j=decodeURIComponent(j)}catch{}if((0,E.isPdfFile)(j))return j}return null},a.validateRangeRequestCapabilities=function N({getResponseHeader:D,isHttp:V,rangeChunkSize:j,disableRange:T}){const U={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(D("Content-Length"),10);return!Number.isInteger(m)||(U.suggestedLength=m,m<=2*j)||T||!V||"bytes"!==D("Accept-Ranges")||"identity"!==(D("Content-Encoding")||"identity")||(U.allowRangeRequests=!0),U},a.validateResponseStatus=function b(D){return 200===D||206===D};var i=S(1),M=S(27),E=S(5)},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function M(E){let N=!0,C=P("filename\\*","i").exec(E);if(C){C=C[1];let m=j(C);return m=unescape(m),m=T(m),m=U(m),D(m)}if(C=function V(m){const x=[];let A;const w=P("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(A=w.exec(m));){let[,v,n,t]=A;if(v=parseInt(v,10),v in x){if(0===v)break}else x[v]=[n,t]}const y=[];for(let v=0;v<x.length&&v in x;++v){let[n,t]=x[v];t=j(t),n&&(t=unescape(t),0===v&&(t=T(t))),y.push(t)}return y.join("")}(E),C)return D(U(C));if(C=P("filename","i").exec(E),C){C=C[1];let m=j(C);return m=U(m),D(m)}function P(m,x){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function b(m,x){if(m){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const A=new TextDecoder(m,{fatal:!0}),w=(0,i.stringToBytes)(x);x=A.decode(w),N=!1}catch{}}return x}function D(m){return N&&/[\x80-\xff]/.test(m)&&(m=b("utf-8",m),N&&(m=b("iso-8859-1",m))),m}function j(m){if(m.startsWith('"')){const x=m.slice(1).split('\\"');for(let A=0;A<x.length;++A){const w=x[A].indexOf('"');-1!==w&&(x[A]=x[A].slice(0,w),x.length=A+1),x[A]=x[A].replace(/\\(.)/g,"$1")}m=x.join('"')}return m}function T(m){const x=m.indexOf("'");return-1===x?m:b(m.slice(0,x),m.slice(x+1).replace(/^[^']*'/,""))}function U(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,A,w,y){if("q"===w||"Q"===w)return b(A,y=(y=y.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(v,n){return String.fromCharCode(parseInt(n,16))}));try{y=atob(y)}catch{}return b(A,y)})}return""};var i=S(1)},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var i=S(1),M=S(26);class P{constructor(T,U={}){this.url=T,this.isHttp=/^https?:/i.test(T),this.httpHeaders=this.isHttp&&U.httpHeaders||Object.create(null),this.withCredentials=U.withCredentials||!1,this.getXhr=U.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(T,U,m){const x={begin:T,end:U};for(const A in m)x[A]=m[A];return this.request(x)}requestFull(T){return this.request(T)}request(T){const U=this.getXhr(),m=this.currXhrId++,x=this.pendingRequests[m]={xhr:U};U.open("GET",this.url),U.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const w=this.httpHeaders[A];typeof w>"u"||U.setRequestHeader(A,w)}return this.isHttp&&"begin"in T&&"end"in T?(U.setRequestHeader("Range",`bytes=${T.begin}-${T.end-1}`),x.expectedStatus=206):x.expectedStatus=200,U.responseType="arraybuffer",T.onError&&(U.onerror=function(A){T.onError(U.status)}),U.onreadystatechange=this.onStateChange.bind(this,m),U.onprogress=this.onProgress.bind(this,m),x.onHeadersReceived=T.onHeadersReceived,x.onDone=T.onDone,x.onError=T.onError,x.onProgress=T.onProgress,U.send(null),m}onProgress(T,U){const m=this.pendingRequests[T];!m||m.onProgress?.(U)}onStateChange(T,U){const m=this.pendingRequests[T];if(!m)return;const x=m.xhr;if(x.readyState>=2&&m.onHeadersReceived&&(m.onHeadersReceived(),delete m.onHeadersReceived),4!==x.readyState||!(T in this.pendingRequests))return;if(delete this.pendingRequests[T],0===x.status&&this.isHttp)return void m.onError?.(x.status);const A=x.status||200;if((200!==A||206!==m.expectedStatus)&&A!==m.expectedStatus)return void m.onError?.(x.status);const y=function C(j){const T=j.response;return"string"!=typeof T?T:(0,i.stringToBytes)(T).buffer}(x);if(206===A){const v=x.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);m.onDone({begin:parseInt(n[1],10),chunk:y})}else y?m.onDone({begin:0,chunk:y}):m.onError?.(x.status)}getRequestXhr(T){return this.pendingRequests[T].xhr}isPendingRequest(T){return T in this.pendingRequests}abortRequest(T){const U=this.pendingRequests[T].xhr;delete this.pendingRequests[T],U.abort()}}a.PDFNetworkStream=class b{constructor(T){this._source=T,this._manager=new P(T.url,{httpHeaders:T.httpHeaders,withCredentials:T.withCredentials}),this._rangeChunkSize=T.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(T){const U=this._rangeRequestReaders.indexOf(T);U>=0&&this._rangeRequestReaders.splice(U,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new D(this._manager,this._source),this._fullRequestReader}getRangeReader(T,U){const m=new V(this._manager,T,U);return m.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(m),m}cancelAllRequests(T){this._fullRequestReader?.cancel(T);for(const U of this._rangeRequestReaders.slice(0))U.cancel(T)}};class D{constructor(T,U){this._manager=T;const m={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=U.url,this._fullRequestId=T.requestFull(m),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=U.disableRange||!1,this._contentLength=U.length,this._rangeChunkSize=U.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const T=this._fullRequestId,U=this._manager.getRequestXhr(T),m=w=>U.getResponseHeader(w),{allowRangeRequests:x,suggestedLength:A}=(0,M.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,M.extractFilenameFromHeader)(m),this._isRangeSupported&&this._manager.abortRequest(T),this._headersReceivedCapability.resolve()}_onDone(T){if(T&&(this._requests.length>0?this._requests.shift().resolve({value:T.chunk,done:!1}):this._cachedChunks.push(T.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(T){this._storedError=(0,M.createResponseStatusError)(T,this._url),this._headersReceivedCapability.reject(this._storedError);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(T){this.onProgress?.({loaded:T.loaded,total:T.lengthComputable?T.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var T=this;return _asyncToGenerator(function*(){if(T._storedError)throw T._storedError;if(T._cachedChunks.length>0)return{value:T._cachedChunks.shift(),done:!1};if(T._done)return{value:void 0,done:!0};const U=(0,i.createPromiseCapability)();return T._requests.push(U),U.promise})()}cancel(T){this._done=!0,this._headersReceivedCapability.reject(T);for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class V{constructor(T,U,m){this._manager=T;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._requestId=T.requestRange(U,m,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(T){const U=T.chunk;this._requests.length>0?this._requests.shift().resolve({value:U,done:!1}):this._queuedChunk=U,this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(T){this._storedError=(0,M.createResponseStatusError)(T,this._url);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(T){this.isStreamingSupported||this.onProgress?.({loaded:T.loaded})}get isStreamingSupported(){return!1}read(){var T=this;return _asyncToGenerator(function*(){if(T._storedError)throw T._storedError;if(null!==T._queuedChunk){const m=T._queuedChunk;return T._queuedChunk=null,{value:m,done:!1}}if(T._done)return{value:void 0,done:!0};const U=(0,i.createPromiseCapability)();return T._requests.push(U),U.promise})()}cancel(T){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var i=S(1),M=S(26);function E(D,V,j){return{method:"GET",headers:D,signal:j?.signal,mode:"cors",credentials:V?"include":"same-origin",redirect:"follow"}}function N(D){const V=new Headers;for(const j in D){const T=D[j];typeof T>"u"||V.append(j,T)}return V}a.PDFFetchStream=class C{constructor(V){this.source=V,this.isHttp=/^https?:/i.test(V.url),this.httpHeaders=this.isHttp&&V.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new P(this),this._fullRequestReader}getRangeReader(V,j){if(j<=this._progressiveDataLength)return null;const T=new b(this,V,j);return this._rangeRequestReaders.push(T),T}cancelAllRequests(V){this._fullRequestReader&&this._fullRequestReader.cancel(V);for(const j of this._rangeRequestReaders.slice(0))j.cancel(V)}};class P{constructor(V){this._stream=V,this._reader=null,this._loaded=0,this._filename=null;const j=V.source;this._withCredentials=j.withCredentials||!1,this._contentLength=j.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._headers=N(this._stream.httpHeaders);const T=j.url;fetch(T,E(this._headers,this._withCredentials,this._abortController)).then(U=>{if(!(0,M.validateResponseStatus)(U.status))throw(0,M.createResponseStatusError)(U.status,T);this._reader=U.body.getReader(),this._headersCapability.resolve();const m=w=>U.headers.get(w),{allowRangeRequests:x,suggestedLength:A}=(0,M.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=A||this._contentLength,this._filename=(0,M.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var V=this;return _asyncToGenerator(function*(){yield V._headersCapability.promise;const{value:j,done:T}=yield V._reader.read();return T?{value:j,done:T}:(V._loaded+=j.byteLength,V.onProgress&&V.onProgress({loaded:V._loaded,total:V._contentLength}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(V){this._reader&&this._reader.cancel(V),this._abortController&&this._abortController.abort()}}class b{constructor(V,j,T){this._stream=V,this._reader=null,this._loaded=0;const U=V.source;this._withCredentials=U.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!U.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=N(this._stream.httpHeaders),this._headers.append("Range",`bytes=${j}-${T-1}`);const m=U.url;fetch(m,E(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,M.validateResponseStatus)(x.status))throw(0,M.createResponseStatusError)(x.status,m);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var V=this;return _asyncToGenerator(function*(){yield V._readCapability.promise;const{value:j,done:T}=yield V._reader.read();return T?{value:j,done:T}:(V._loaded+=j.byteLength,V.onProgress&&V.onProgress({loaded:V._loaded}),{value:new Uint8Array(j).buffer,done:!1})})()}cancel(V){this._reader&&this._reader.cancel(V),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(z){var a=__webpack_module_cache__[z];if(void 0!==a)return a.exports;var S=__webpack_module_cache__[z]={exports:{}};return __webpack_modules__[z](S,S.exports,__w_pdfjs_require__),S.exports}var __webpack_exports__={};return(()=>{var z=__webpack_exports__;Object.defineProperty(z,"__esModule",{value:!0}),Object.defineProperty(z,"AnnotationLayer",{enumerable:!0,get:function(){return M.AnnotationLayer}}),Object.defineProperty(z,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(z,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(z,"GlobalWorkerOptions",{enumerable:!0,get:function(){return E.GlobalWorkerOptions}}),Object.defineProperty(z,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(z,"LoopbackPort",{enumerable:!0,get:function(){return S.LoopbackPort}}),Object.defineProperty(z,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(z,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(z,"PDFDataRangeTransport",{enumerable:!0,get:function(){return S.PDFDataRangeTransport}}),Object.defineProperty(z,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(z,"PDFWorker",{enumerable:!0,get:function(){return S.PDFWorker}}),Object.defineProperty(z,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(z,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(z,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(z,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(z,"SVGGraphics",{enumerable:!0,get:function(){return P.SVGGraphics}}),Object.defineProperty(z,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(z,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(z,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(z,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(z,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(z,"build",{enumerable:!0,get:function(){return S.build}}),Object.defineProperty(z,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(z,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(z,"getDocument",{enumerable:!0,get:function(){return S.getDocument}}),Object.defineProperty(z,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(z,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(z,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(z,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(z,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(z,"renderTextLayer",{enumerable:!0,get:function(){return C.renderTextLayer}}),Object.defineProperty(z,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(z,"version",{enumerable:!0,get:function(){return S.version}});var a=__w_pdfjs_require__(1),S=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),M=__w_pdfjs_require__(20),E=__w_pdfjs_require__(13),N=__w_pdfjs_require__(3),C=__w_pdfjs_require__(23),P=__w_pdfjs_require__(24),b=__w_pdfjs_require__(22);if(N.isNodeJS){const{PDFNodeStream:j}=__w_pdfjs_require__(25);(0,S.setPDFNetworkStreamFactory)(T=>new j(T))}else{const{PDFNetworkStream:j}=__w_pdfjs_require__(28),{PDFFetchStream:T}=__w_pdfjs_require__(29);(0,S.setPDFNetworkStreamFactory)(U=>(0,i.isValidFetchUrl)(U.url)?new T(U):new j(U))}})(),__webpack_exports__})(),module.exports=S()},2813:function(z,a,S){var j,i=S(5661).default,M=S(1860).default,E=S(9159).default,N=S(5764).default,C=S(4467).default,P=S(468).default,b=S(7156).default;j=()=>(()=>{"use strict";var D=[,(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultXfaLayerFactory=m.DefaultTextLayerFactory=m.DefaultStructTreeLayerFactory=m.DefaultAnnotationLayerFactory=void 0;var A=x(2),w=x(4),y=x(5),v=x(7),n=x(8),t=x(9);m.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(d,k,L=null,W="",Y=!0,Q=w.NullL10n,J=!1,te=null,he=null,oe=null,O=null){return new A.AnnotationLayerBuilder({pageDiv:d,pdfPage:k,imageResourcesPath:W,renderForms:Y,linkService:new y.SimpleLinkService,l10n:Q,annotationStorage:L,enableScripting:J,hasJSActionsPromise:te,fieldObjectsPromise:oe,mouseState:he,annotationCanvasMap:O})}},m.DefaultStructTreeLayerFactory=class u{createStructTreeLayerBuilder(d){return new v.StructTreeLayerBuilder({pdfPage:d})}},m.DefaultTextLayerFactory=class l{createTextLayerBuilder(d,k,L,W=!1,Y,Q){return new n.TextLayerBuilder({textLayerDiv:d,pageIndex:k,viewport:L,enhanceTextSelection:W,eventBus:Y,highlighter:Q})}},m.DefaultXfaLayerFactory=class f{createXfaLayerBuilder(d,k,L=null,W=null){return new t.XfaLayerBuilder({pageDiv:d,pdfPage:k,annotationStorage:L,linkService:new y.SimpleLinkService,xfaHtml:W})}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayerBuilder=void 0;var A=x(3),w=x(4);m.AnnotationLayerBuilder=class y{constructor({pageDiv:n,pdfPage:t,linkService:h,downloadManager:u,annotationStorage:l=null,imageResourcesPath:f="",renderForms:p=!0,l10n:d=w.NullL10n,enableScripting:k=!1,hasJSActionsPromise:L=null,fieldObjectsPromise:W=null,mouseState:Y=null,annotationCanvasMap:Q=null}){this.pageDiv=n,this.pdfPage=t,this.linkService=h,this.downloadManager=u,this.imageResourcesPath=f,this.renderForms=p,this.l10n=d,this.annotationStorage=l,this.enableScripting=k,this._hasJSActionsPromise=L,this._fieldObjectsPromise=W,this._mouseState=Y,this._annotationCanvasMap=Q,this.div=null,this._cancelled=!1}render(n,t="display"){var h=this;return b(function*(){const[u,l=!1,f=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:t}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===u.length)return;const p={viewport:n.clone({dontFlip:!0}),div:h.div,annotations:u,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:l,fieldObjects:f,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?A.AnnotationLayer.update(p):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),p.div=h.div,A.AnnotationLayer.render(p),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},U=>{let m;m=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:S(6036),U.exports=m},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.fixupLangCode=function y(t){return w[t?.toLowerCase()]||t},m.getL10nFallback=A;const x={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function A(t,h){switch(t){case"find_match_count":t=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":t=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return x[t]||""}const w={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};m.NullL10n={getLanguage:()=>b(function*(){return"en-us"})(),getDirection:()=>b(function*(){return"ltr"})(),get:(t,h=null,u=A(t,h))=>b(function*(){return function v(t,h){return h?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(u,l)=>l in h?h[l]:"{{"+l+"}}"):t}(u,h)})(),translate:t=>b(function*(){})()}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SimpleLinkService=m.PDFLinkService=m.LinkTarget=void 0;var A=x(6);const y={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function v(p,{url:d,target:k,rel:L,enabled:W=!0}={}){if(!d||"string"!=typeof d)throw new Error('A valid "url" parameter must provided.');const Y=(0,A.removeNullCharacters)(d);W?p.href=p.title=Y:(p.href="",p.title=`Disabled: ${Y}`,p.onclick=()=>!1);let Q="";switch(k){case y.NONE:break;case y.SELF:Q="_self";break;case y.BLANK:Q="_blank";break;case y.PARENT:Q="_parent";break;case y.TOP:Q="_top"}p.target=Q,p.rel="string"==typeof L?L:"noopener noreferrer nofollow"}m.LinkTarget=y;var n=new WeakMap,t=new WeakSet;class h{constructor({eventBus:d,externalLinkTarget:k=null,externalLinkRel:L=null,ignoreDestinationZoom:W=!1}={}){M(this,t),E(this,n,{writable:!0,value:new Map}),this.eventBus=d,this.externalLinkTarget=k,this.externalLinkRel=L,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=W,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(d,k=null){this.baseUrl=k,this.pdfDocument=d,P(this,n).clear()}setViewer(d){this.pdfViewer=d}setHistory(d){this.pdfHistory=d}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(d){this.pdfViewer.currentPageNumber=d}get rotation(){return this.pdfViewer.pagesRotation}set rotation(d){this.pdfViewer.pagesRotation=d}goToDestination(d){var k=this;return b(function*(){if(!k.pdfDocument)return;let L,W;"string"==typeof d?(L=d,W=yield k.pdfDocument.getDestination(d)):(L=null,W=yield d),Array.isArray(W)?C(k,t,u).call(k,d,L,W):console.error(`PDFLinkService.goToDestination: "${W}" is not a valid destination array, for dest="${d}".`)})()}goToPage(d){if(!this.pdfDocument)return;const k="string"==typeof d&&this.pdfViewer.pageLabelToPageNumber(d)||0|d;Number.isInteger(k)&&k>0&&k<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(k)),this.pdfViewer.scrollPageIntoView({pageNumber:k})):console.error(`PDFLinkService.goToPage: "${d}" is not a valid page.`)}addLinkAttributes(d,k,L=!1){v(d,{url:k,target:L?y.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(d){if("string"==typeof d){if(d.length>0)return this.getAnchorUrl("#"+escape(d))}else if(Array.isArray(d)){const k=JSON.stringify(d);if(k.length>0)return this.getAnchorUrl("#"+escape(k))}return this.getAnchorUrl("")}getAnchorUrl(d){return(this.baseUrl||"")+d}setHash(d){if(!this.pdfDocument)return;let k,L;if(d.includes("=")){const W=(0,A.parseQueryString)(d);if(W.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:W.get("search").replace(/"/g,""),phraseSearch:"true"===W.get("phrase")}),W.has("page")&&(k=0|W.get("page")||1),W.has("zoom")){const Y=W.get("zoom").split(","),Q=Y[0],J=parseFloat(Q);Q.includes("Fit")?"Fit"===Q||"FitB"===Q?L=[null,{name:Q}]:"FitH"===Q||"FitBH"===Q||"FitV"===Q||"FitBV"===Q?L=[null,{name:Q},Y.length>1?0|Y[1]:null]:"FitR"===Q?5!==Y.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):L=[null,{name:Q},0|Y[1],0|Y[2],0|Y[3],0|Y[4]]:console.error(`PDFLinkService.setHash: "${Q}" is not a valid zoom value.`):L=[null,{name:"XYZ"},Y.length>1?0|Y[1]:null,Y.length>2?0|Y[2]:null,J?J/100:Q]}L?this.pdfViewer.scrollPageIntoView({pageNumber:k||this.page,destArray:L,allowNegativeOffset:!0}):k&&(this.page=k),W.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:W.get("pagemode")}),W.has("nameddest")&&this.goToDestination(W.get("nameddest"))}else{L=unescape(d);try{L=JSON.parse(L),Array.isArray(L)||(L=L.toString())}catch{}if("string"==typeof L||N(h,h,l).call(h,L))return void this.goToDestination(L);console.error(`PDFLinkService.setHash: "${unescape(d)}" is not a valid destination.`)}}executeNamedAction(d){switch(d){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:d})}cachePageRef(d,k){if(!k)return;const L=0===k.gen?`${k.num}R`:`${k.num}R${k.gen}`;P(this,n).set(L,d)}_cachedPageNumber(d){if(!d)return null;const k=0===d.gen?`${d.num}R`:`${d.num}R${d.gen}`;return P(this,n).get(k)||null}isPageVisible(d){return this.pdfViewer.isPageVisible(d)}isPageCached(d){return this.pdfViewer.isPageCached(d)}}function u(p,d=null,k){const L=k[0];let W;if("object"==typeof L&&null!==L){if(W=this._cachedPageNumber(L),!W)return void this.pdfDocument.getPageIndex(L).then(Y=>{this.cachePageRef(Y+1,L),C(this,t,u).call(this,p,d,k)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page reference, for dest="${p}".`)})}else{if(!Number.isInteger(L))return void console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid destination reference, for dest="${p}".`);W=L+1}!W||W<1||W>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page number, for dest="${p}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:d,explicitDest:k,pageNumber:W})),this.pdfViewer.scrollPageIntoView({pageNumber:W,destArray:k,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function l(p){if(!Array.isArray(p))return!1;const d=p.length;if(d<2)return!1;const k=p[0];if(!("object"==typeof k&&Number.isInteger(k.num)&&Number.isInteger(k.gen)||Number.isInteger(k)&&k>=0))return!1;const L=p[1];if("object"!=typeof L||"string"!=typeof L.name)return!1;let W=!0;switch(L.name){case"XYZ":if(5!==d)return!1;break;case"Fit":case"FitB":return 2===d;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==d)return!1;break;case"FitR":if(6!==d)return!1;W=!1;break;default:return!1}for(let Y=2;Y<d;Y++){const Q=p[Y];if(!("number"==typeof Q||W&&null===Q))return!1}return!0}m.PDFLinkService=h,m.SimpleLinkService=class f{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(d){}get rotation(){return 0}set rotation(d){}goToDestination(d){return b(function*(){})()}goToPage(d){}addLinkAttributes(d,k,L=!1){v(d,{url:k,enabled:this.externalLinkEnabled})}getDestinationHash(d){return"#"}getAnchorUrl(d){return"#"}setHash(d){}executeNamedAction(d){}cachePageRef(d,k){}isPageVisible(d){return!0}isPageCached(d){return!0}}},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.animationStarted=m.VERTICAL_PADDING=m.UNKNOWN_SCALE=m.TextLayerMode=m.SpreadMode=m.SidebarView=m.ScrollMode=m.SCROLLBAR_PADDING=m.RenderingStates=m.RendererType=m.ProgressBar=m.PresentationModeState=m.OutputScale=m.MIN_SCALE=m.MAX_SCALE=m.MAX_AUTO_SCALE=m.DEFAULT_SCALE_VALUE=m.DEFAULT_SCALE_DELTA=m.DEFAULT_SCALE=m.AutoPrintRegExp=void 0,m.apiPageLayoutToViewerModes=function Ce(re){let de=L.VERTICAL,be=W.NONE;switch(re){case"SinglePage":de=L.PAGE;break;case"OneColumn":break;case"TwoPageLeft":de=L.PAGE;case"TwoColumnLeft":be=W.ODD;break;case"TwoPageRight":de=L.PAGE;case"TwoColumnRight":be=W.EVEN}return{scrollMode:de,spreadMode:be}},m.apiPageModeToSidebarView=function pe(re){switch(re){case"UseNone":return p.NONE;case"UseThumbs":return p.THUMBS;case"UseOutlines":return p.OUTLINE;case"UseAttachments":return p.ATTACHMENTS;case"UseOC":return p.LAYERS}return p.NONE},m.approximateFraction=function s(re){if(Math.floor(re)===re)return[re,1];const de=1/re;if(de>8)return[1,8];if(Math.floor(de)===de)return[1,de];const ne=re>1?de:re;let H,R=0,K=1,le=1,ge=1;for(;;){const I=R+le,G=K+ge;if(G>8)break;ne<=I/G?(le=I,ge=G):(R=I,K=G)}return H=ne-R/K<le/ge-ne?ne===re?[R,K]:[K,R]:ne===re?[le,ge]:[ge,le],H},m.backtrackBeforeAllVisibleElements=_,m.binarySearchFirstItem=e,m.getActiveOrFocusedElement=function we(){let re=document,de=re.activeElement||re.querySelector(":focus");for(;de?.shadowRoot;)re=de.shadowRoot,de=re.activeElement||re.querySelector(":focus");return de},m.getPageSizeInches=function g({view:re,userUnit:de,rotate:be}){const[ne,R,K,le]=re,ge=be%180!=0,H=(K-ne)/72*de,I=(le-R)/72*de;return{width:ge?I:H,height:ge?H:I}},m.getVisibleElements=function c({scrollEl:re,views:de,sortByVisibility:be=!1,horizontal:ne=!1,rtl:R=!1}){const K=re.scrollTop,le=K+re.clientHeight,ge=re.scrollLeft,H=ge+re.clientWidth,ie=[],ye=new Set,Te=de.length;let se=e(de,ne?function G(fe){const xe=fe.div,ve=xe.offsetLeft+xe.clientLeft;return R?ve<H:ve+xe.clientWidth>ge}:function I(fe){const xe=fe.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>K});se>0&&se<Te&&!ne&&(se=_(se,de,K));let ce=ne?H:-1;for(let fe=se;fe<Te;fe++){const xe=de[fe],ve=xe.div,Ee=ve.offsetLeft+ve.clientLeft,Me=ve.offsetTop+ve.clientTop,ke=ve.clientWidth,Le=ve.clientHeight,Ne=Ee+ke,Re=Me+Le;if(-1===ce)Re>=le&&(ce=Re);else if((ne?Ee:Me)>ce)break;if(Re<=K||Me>=le||Ne<=ge||Ee>=H)continue;const De=Math.max(0,K-Me)+Math.max(0,Re-le),Ie=(ke-(Math.max(0,ge-Ee)+Math.max(0,Ne-H)))/ke;ie.push({id:xe.id,x:Ee,y:Me,view:xe,percent:(Le-De)/Le*Ie*100|0,widthPercent:100*Ie|0}),ye.add(xe.id)}const Se=ie[0],Pe=ie[ie.length-1];return be&&ie.sort(function(fe,xe){const ve=fe.percent-xe.percent;return Math.abs(ve)>.001?-ve:fe.id-xe.id}),{first:Se,last:Pe,views:ie,ids:ye}},m.isPortraitOrientation=function ee(re){return re.width<=re.height},m.isValidRotation=function $(re){return Number.isInteger(re)&&re%90==0},m.isValidScrollMode=function X(re){return Number.isInteger(re)&&Object.values(L).includes(re)&&re!==L.UNKNOWN},m.isValidSpreadMode=function Z(re){return Number.isInteger(re)&&Object.values(W).includes(re)&&re!==W.UNKNOWN},m.noContextMenuHandler=function F(re){re.preventDefault()},m.normalizeWheelEventDelta=function B(re){let de=q(re);return 0===re.deltaMode?de/=900:1===re.deltaMode&&(de/=30),de},m.normalizeWheelEventDirection=q,m.parseQueryString=function he(re){const de=new Map;for(const[be,ne]of new URLSearchParams(re))de.set(be.toLowerCase(),ne);return de},m.removeNullCharacters=function r(re,de=!1){return"string"!=typeof re?(console.error("The argument must be a string."),re):(de&&(re=re.replace(O," ")),re.replace(oe,""))},m.roundToDivide=function o(re,de){const be=re%de;return 0===be?re:Math.round(re-be+de)},m.scrollIntoView=function J(re,de,be=!1){let ne=re.offsetParent;if(!ne)return void console.error("offsetParent is not set -- cannot scroll");let R=re.offsetTop+re.clientTop,K=re.offsetLeft+re.clientLeft;for(;ne.clientHeight===ne.scrollHeight&&ne.clientWidth===ne.scrollWidth||be&&(ne.classList.contains("markedContent")||"hidden"===getComputedStyle(ne).overflow);)if(R+=ne.offsetTop,K+=ne.offsetLeft,ne=ne.offsetParent,!ne)return;de&&(void 0!==de.top&&(R+=de.top),void 0!==de.left&&(K+=de.left,ne.scrollLeft=K)),ne.scrollTop=R},m.watchScroll=function te(re,de){const be=function(K){R||(R=window.requestAnimationFrame(function(){R=null;const ge=re.scrollLeft,H=ne.lastX;ge!==H&&(ne.right=ge>H),ne.lastX=ge;const I=re.scrollTop,G=ne.lastY;I!==G&&(ne.down=I>G),ne.lastY=I,de(ne)}))},ne={right:!0,down:!0,lastX:re.scrollLeft,lastY:re.scrollTop,_eventHandler:be};let R=null;return re.addEventListener("scroll",be,!0),ne},m.DEFAULT_SCALE_VALUE="auto",m.DEFAULT_SCALE=1,m.DEFAULT_SCALE_DELTA=1.1,m.MIN_SCALE=.1,m.MAX_SCALE=10,m.UNKNOWN_SCALE=0,m.MAX_AUTO_SCALE=1.25,m.SCROLLBAR_PADDING=40,m.VERTICAL_PADDING=5,m.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const p={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};m.SidebarView=p,m.RendererType={CANVAS:"canvas",SVG:"svg"},m.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const L={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};m.ScrollMode=L;const W={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};m.SpreadMode=W,m.AutoPrintRegExp=/\bprint\s*\(/,m.OutputScale=class Q{constructor(){const de=window.devicePixelRatio||1;this.sx=de,this.sy=de}get scaled(){return 1!==this.sx||1!==this.sy}};const oe=/\x00/g,O=/[\x01-\x1F]/g;function e(re,de,be=0){let ne=be,R=re.length-1;if(R<0||!de(re[R]))return re.length;if(de(re[ne]))return ne;for(;ne<R;){const K=ne+R>>1;de(re[K])?R=K:ne=K+1}return ne}function _(re,de,be){if(re<2)return re;let ne=de[re].div,R=ne.offsetTop+ne.clientTop;R>=be&&(ne=de[re-1].div,R=ne.offsetTop+ne.clientTop);for(let K=re-2;K>=0&&(ne=de[K].div,!(ne.offsetTop+ne.clientTop+ne.clientHeight<=R));--K)re=K;return re}function q(re){let de=Math.hypot(re.deltaX,re.deltaY);const be=Math.atan2(re.deltaY,re.deltaX);return-.25*Math.PI<be&&be<.75*Math.PI&&(de=-de),de}const ue=new Promise(function(re){window.requestAnimationFrame(re)});m.animationStarted=ue;var Ae=new WeakSet;function ae(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}m.ProgressBar=class me{constructor(de){if(M(this,Ae),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(de+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(de){this._indeterminate=isNaN(de),this._percent=function _e(re,de,be){return Math.min(Math.max(re,de),be)}(de,0,100),C(this,Ae,ae).call(this)}setWidth(de){if(!de)return;const ne=de.parentNode.offsetWidth-de.offsetWidth;ne>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${ne}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeLayerBuilder=void 0;const x={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},A=/^H(\d+)$/;m.StructTreeLayerBuilder=class w{constructor({pdfPage:v}){this.pdfPage=v}render(v){return this._walk(v)}_setAttributes(v,n){void 0!==v.alt&&n.setAttribute("aria-label",v.alt),void 0!==v.id&&n.setAttribute("aria-owns",v.id),void 0!==v.lang&&n.setAttribute("lang",v.lang)}_walk(v){if(!v)return null;const n=document.createElement("span");if("role"in v){const{role:t}=v,h=t.match(A);h?(n.setAttribute("role","heading"),n.setAttribute("aria-level",h[1])):x[t]&&n.setAttribute("role",x[t])}if(this._setAttributes(v,n),v.children)if(1===v.children.length&&"id"in v.children[0])this._setAttributes(v.children[0],n);else for(const t of v.children)n.appendChild(this._walk(t));return n}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerBuilder=void 0;var A=x(3);m.TextLayerBuilder=class y{constructor({textLayerDiv:n,eventBus:t,pageIndex:h,viewport:u,highlighter:l=null,enhanceTextSelection:f=!1}){this.textLayerDiv=n,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=u,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=l,this.enhanceTextSelection=f,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const t=document.createDocumentFragment();this.textLayerRenderTask=(0,A.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let t=null;n.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const u=n.querySelector(".endOfContent");if(!u)return;let l=h.target!==n;if(l=l&&"none"!==window.getComputedStyle(u).getPropertyValue("-moz-user-select"),l){const f=n.getBoundingClientRect(),p=Math.max(0,(h.pageY-f.top)/f.height);u.style.top=(100*p).toFixed(2)+"%"}u.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null},300));const h=n.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayerBuilder=void 0;var A=x(3);m.XfaLayerBuilder=class w{constructor({pageDiv:v,pdfPage:n,annotationStorage:t=null,linkService:h,xfaHtml:u=null}){this.pageDiv=v,this.pdfPage=n,this.annotationStorage=t,this.linkService=h,this.xfaHtml=u,this.div=null,this._cancelled=!1}render(v,n="display"){if("print"===n){const t={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},h=document.createElement("div");this.pageDiv.appendChild(h),t.div=h;const u=A.XfaLayer.render(t);return Promise.resolve(u)}return this.pdfPage.getXfa().then(t=>{if(this._cancelled||!t)return{textDivs:[]};const h={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:t,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?A.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,A.XfaLayer.render(h))}).catch(t=>{console.error(t)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFViewer=m.PDFSinglePageViewer=void 0;var A=x(6),w=x(11);m.PDFViewer=class y extends w.BaseViewer{},m.PDFSinglePageViewer=class v extends w.BaseViewer{_resetView(){super._resetView(),this._scrollMode=A.ScrollMode.PAGE,this._spreadMode=A.SpreadMode.NONE}set scrollMode(t){}_updateScrollMode(){}set spreadMode(t){}_updateSpreadMode(){}}},(U,m,x)=>{let A;Object.defineProperty(m,"__esModule",{value:!0}),m.PagesCountLimit=m.PDFPageViewBuffer=m.BaseViewer=void 0;var w=x(3),y=x(6),v=x(2),n=x(4),t=x(12),h=x(14),u=x(5),l=x(7),f=x(15),p=x(8),d=x(9);const L="enablePermissions",W={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};m.PagesCountLimit=W;var Y=new WeakMap,Q=new WeakMap,J=new WeakSet;A=Symbol.iterator;class te{constructor(R){M(this,J),E(this,Y,{writable:!0,value:new Set}),E(this,Q,{writable:!0,value:0}),i(this,Q,R)}push(R){const K=P(this,Y);K.has(R)&&K.delete(R),K.add(R),K.size>P(this,Q)&&C(this,J,he).call(this)}resize(R,K=null){i(this,Q,R);const le=P(this,Y);if(K){const ge=le.size;let H=1;for(const I of le)if(K.has(I.id)&&(le.delete(I),le.add(I)),++H>ge)break}for(;le.size>P(this,Q);)C(this,J,he).call(this)}has(R){return P(this,Y).has(R)}[A](){return P(this,Y).keys()}}function he(){const ne=P(this,Y).keys().next().value;ne?.destroy(),P(this,Y).delete(ne)}m.PDFPageViewBuffer=te;var oe=new WeakMap,O=new WeakMap,r=new WeakMap,e=new WeakMap,s=new WeakMap,o=new WeakMap,g=new WeakMap,_=new WeakSet,c=new WeakSet,F=new WeakSet,q=new WeakSet,B=new WeakSet,$=new WeakSet,X=new WeakSet,Z=new WeakSet,ee=new WeakSet;class ue{constructor(R){if(M(this,ee),M(this,Z),M(this,X),M(this,$),M(this,B),M(this,q),M(this,F),M(this,c),M(this,_),E(this,oe,{writable:!0,value:null}),E(this,O,{writable:!0,value:w.AnnotationMode.ENABLE_FORMS}),E(this,r,{writable:!0,value:null}),E(this,e,{writable:!0,value:!1}),E(this,s,{writable:!0,value:0}),E(this,o,{writable:!0,value:null}),E(this,g,{writable:!0,value:null}),this.constructor===ue)throw new Error("Cannot initialize BaseViewer.");const K="2.14.305";if(w.version!==K)throw new Error(`The API version "${w.version}" does not match the Viewer version "${K}".`);if(this.container=R.container,this.viewer=R.viewer||R.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=R.eventBus,this.linkService=R.linkService||new u.SimpleLinkService,this.downloadManager=R.downloadManager||null,this.findController=R.findController||null,this._scriptingManager=R.scriptingManager||null,this.removePageBorders=R.removePageBorders||!1,this.textLayerMode=R.textLayerMode??y.TextLayerMode.ENABLE,i(this,O,R.annotationMode??w.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=R.imageResourcesPath||"",this.enablePrintAutoRotate=R.enablePrintAutoRotate||!1,this.renderer=R.renderer||y.RendererType.CANVAS,this.useOnlyCssZoom=R.useOnlyCssZoom||!1,this.maxCanvasPixels=R.maxCanvasPixels,this.l10n=R.l10n||n.NullL10n,i(this,e,R.enablePermissions||!1),this.pageColors=R.pageColors||null,R.pageColors&&(!CSS.supports("color",R.pageColors.background)||!CSS.supports("color",R.pageColors.foreground))&&((R.pageColors.background||R.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!R.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new h.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=R.renderingQueue,this._doc=document.documentElement,this.scroll=(0,y.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=y.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(R){return this._pages[R]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(R){return R?.pdfPage})}get renderForms(){return P(this,O)===w.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(R){if(!Number.isInteger(R))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(R,!0)||console.error(`currentPageNumber: "${R}" is not a valid page.`)}_setCurrentPageNumber(R,K=!1){if(this._currentPageNumber===R)return K&&C(this,$,Ce).call(this),!0;if(!(0<R&&R<=this.pagesCount))return!1;const le=this._currentPageNumber;return this._currentPageNumber=R,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:R,pageLabel:this._pageLabels?.[R-1]??null,previous:le}),K&&C(this,$,Ce).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(R){if(!this.pdfDocument)return;let K=0|R;if(this._pageLabels){const le=this._pageLabels.indexOf(R);le>=0&&(K=le+1)}this._setCurrentPageNumber(K,!0)||console.error(`currentPageLabel: "${R}" is not a valid page.`)}get currentScale(){return this._currentScale!==y.UNKNOWN_SCALE?this._currentScale:y.DEFAULT_SCALE}set currentScale(R){if(isNaN(R))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(R,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(R){!this.pdfDocument||this._setScale(R,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(R){if(!(0,y.isValidRotation)(R))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((R%=360)<0&&(R+=360),this._pagesRotation===R))return;this._pagesRotation=R;const K=this._currentPageNumber,le={rotation:R};for(const ge of this._pages)ge.update(le);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:R,pageNumber:K}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(R){var K=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=R,!R)return;const le=R.isPureXfa,ge=R.numPages,H=R.getPage(1),I=R.getOptionalContentConfig(),G=P(this,e)?R.getPermissions():Promise.resolve();if(ge>W.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ie=this._scrollMode=y.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ie})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ge})},()=>{}),this._onBeforeDraw=ie=>{const ye=this._pages[ie.pageNumber-1];!ye||P(this,oe).push(ye)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ie=>{ie.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ie.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,P(this,g)&&(document.removeEventListener("visibilitychange",P(this,g)),i(this,g,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([H,G]).then(([ie,ye])=>{if(R!==this.pdfDocument)return;this._firstPageCapability.resolve(ie),this._optionalContentConfigPromise=I,C(this,_,_e).call(this,ye);const Te=this._scrollMode===y.ScrollMode.PAGE?null:this.viewer,se=this.currentScale,ce=ie.getViewport({scale:se*w.PixelsPerInch.PDF_TO_CSS_UNITS}),Se=this.textLayerMode===y.TextLayerMode.DISABLE||le?null:this,Pe=P(this,O)!==w.AnnotationMode.DISABLE?this:null,fe=le?this:null;for(let ve=1;ve<=ge;++ve){const Ee=new t.PDFPageView({container:Te,eventBus:this.eventBus,id:ve,scale:se,defaultViewport:ce.clone(),optionalContentConfigPromise:I,renderingQueue:this.renderingQueue,textLayerFactory:Se,textLayerMode:this.textLayerMode,annotationLayerFactory:Pe,annotationMode:P(this,O),xfaLayerFactory:fe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ee)}const xe=this._pages[0];xe&&(xe.setPdfPage(ie),this.linkService.cachePageRef(1,ie.ref)),this._scrollMode===y.ScrollMode.PAGE?C(this,F,me).call(this):this._spreadMode!==y.SpreadMode.NONE&&this._updateSpreadMode(),C(this,c,Ae).call(this).then(b(function*(){if(K.findController&&K.findController.setDocument(R),K._scriptingManager&&K._scriptingManager.setDocument(R),R.loadingParams.disableAutoFetch||ge>W.FORCE_LAZY_PAGE_INIT)return void K._pagesCapability.resolve();let ve=ge-1;if(ve<=0)K._pagesCapability.resolve();else for(let Ee=2;Ee<=ge;++Ee){const Me=R.getPage(Ee).then(ke=>{const Le=K._pages[Ee-1];Le.pdfPage||Le.setPdfPage(ke),K.linkService.cachePageRef(Ee,ke.ref),0==--ve&&K._pagesCapability.resolve()},ke=>{console.error(`Unable to get page ${Ee} to initialize viewer`,ke),0==--ve&&K._pagesCapability.resolve()});Ee%W.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),R.getMetadata().then(({info:ve})=>{R===this.pdfDocument&&ve.Language&&(this.viewer.lang=ve.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ie=>{console.error("Unable to initialize viewer",ie),this._pagesCapability.reject(ie)})}setPageLabels(R){if(this.pdfDocument){R?Array.isArray(R)&&this.pdfDocument.numPages===R.length?this._pageLabels=R:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let K=0,le=this._pages.length;K<le;K++)this._pages[K].setPageLabel(this._pageLabels?.[K]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=y.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,oe,new te(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,w.createPromiseCapability)(),this._onePageRenderedCapability=(0,w.createPromiseCapability)(),this._pagesCapability=(0,w.createPromiseCapability)(),this._scrollMode=y.ScrollMode.VERTICAL,this._previousScrollMode=y.ScrollMode.UNKNOWN,this._spreadMode=y.SpreadMode.NONE,i(this,o,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),P(this,g)&&(document.removeEventListener("visibilitychange",P(this,g)),i(this,g,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(L),null!==P(this,r)&&(i(this,O,P(this,r)),i(this,r,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(R,K,le=!1,ge=!1){if(this._currentScaleValue=K.toString(),C(this,B,we).call(this,R))return void(ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:R,presetValue:K}));this._doc.style.setProperty("--zoom-factor",R);const H={scale:R};for(const I of this._pages)I.update(H);if(this._currentScale=R,!le){let G,I=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(I=this._location.pageNumber,G=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:I,destArray:G,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:R,presetValue:ge?K:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==y.SpreadMode.NONE&&this._scrollMode!==y.ScrollMode.HORIZONTAL?2:1}_setScale(R,K=!1){let le=parseFloat(R);if(le>0)this._setScaleUpdatePages(le,R,K,!1);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let H=y.SCROLLBAR_PADDING,I=y.VERTICAL_PADDING;this.isInPresentationMode?H=I=4:this.removePageBorders?H=I=0:this._scrollMode===y.ScrollMode.HORIZONTAL&&([H,I]=[I,H]);const G=(this.container.clientWidth-H)/ge.width*ge.scale/this._pageWidthScaleFactor,ie=(this.container.clientHeight-I)/ge.height*ge.scale;switch(R){case"page-actual":le=1;break;case"page-width":le=G;break;case"page-height":le=ie;break;case"page-fit":le=Math.min(G,ie);break;case"auto":const ye=(0,y.isPortraitOrientation)(ge)?G:Math.min(ie,G);le=Math.min(y.MAX_AUTO_SCALE,ye);break;default:return void console.error(`_setScale: "${R}" is an unknown zoom value.`)}this._setScaleUpdatePages(le,R,K,!0)}}pageLabelToPageNumber(R){if(!this._pageLabels)return null;const K=this._pageLabels.indexOf(R);return K<0?null:K+1}scrollPageIntoView({pageNumber:R,destArray:K=null,allowNegativeOffset:le=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const H=Number.isInteger(R)&&this._pages[R-1];if(!H)return void console.error(`scrollPageIntoView: "${R}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!K)return void this._setCurrentPageNumber(R,!0);let Te,se,I=0,G=0,ie=0,ye=0;const ce=H.rotation%180!=0,Se=(ce?H.height:H.width)/H.scale/w.PixelsPerInch.PDF_TO_CSS_UNITS,Pe=(ce?H.width:H.height)/H.scale/w.PixelsPerInch.PDF_TO_CSS_UNITS;let fe=0;switch(K[1].name){case"XYZ":I=K[2],G=K[3],fe=K[4],I=null!==I?I:0,G=null!==G?G:Pe;break;case"Fit":case"FitB":fe="page-fit";break;case"FitH":case"FitBH":G=K[2],fe="page-width",null===G&&this._location?(I=this._location.left,G=this._location.top):("number"!=typeof G||G<0)&&(G=Pe);break;case"FitV":case"FitBV":I=K[2],ie=Se,ye=Pe,fe="page-height";break;case"FitR":I=K[2],G=K[3],ie=K[4]-I,ye=K[5]-G,Te=(this.container.clientWidth-(this.removePageBorders?0:y.SCROLLBAR_PADDING))/ie/w.PixelsPerInch.PDF_TO_CSS_UNITS,se=(this.container.clientHeight-(this.removePageBorders?0:y.VERTICAL_PADDING))/ye/w.PixelsPerInch.PDF_TO_CSS_UNITS,fe=Math.min(Math.abs(Te),Math.abs(se));break;default:return void console.error(`scrollPageIntoView: "${K[1].name}" is not a valid destination type.`)}if(ge||(fe&&fe!==this._currentScale?this.currentScaleValue=fe:this._currentScale===y.UNKNOWN_SCALE&&(this.currentScaleValue=y.DEFAULT_SCALE_VALUE)),"page-fit"===fe&&!K[4])return void C(this,q,ae).call(this,H);const xe=[H.viewport.convertToViewportPoint(I,G),H.viewport.convertToViewportPoint(I+ie,G+ye)];let ve=Math.min(xe[0][0],xe[1][0]),Ee=Math.min(xe[0][1],xe[1][1]);le||(ve=Math.max(ve,0),Ee=Math.max(Ee,0)),C(this,q,ae).call(this,H,{left:ve,top:Ee})}_updateLocation(R){const K=this._currentScale,le=this._currentScaleValue,ge=parseFloat(le)===K?Math.round(1e4*K)/100:le,H=R.id,G=this.container,ie=this._pages[H-1].getPagePoint(G.scrollLeft-R.x,G.scrollTop-R.y),ye=Math.round(ie[0]),Te=Math.round(ie[1]);let se=`#page=${H}`;this.isInPresentationMode||(se+=`&zoom=${ge},${ye},${Te}`),this._location={pageNumber:H,scale:ge,top:Te,left:ye,rotation:this._pagesRotation,pdfOpenParams:se}}update(){const R=this._getVisiblePages(),K=R.views,le=K.length;if(0===le)return;const ge=Math.max(10,2*le+1);P(this,oe).resize(ge,R.ids),this.renderingQueue.renderHighestPriority(R);const H=this._spreadMode===y.SpreadMode.NONE&&(this._scrollMode===y.ScrollMode.PAGE||this._scrollMode===y.ScrollMode.VERTICAL),I=this._currentPageNumber;let G=!1;for(const ie of K){if(ie.percent<100)break;if(ie.id===I&&H){G=!0;break}}this._setCurrentPageNumber(G?I:K[0].id),this._updateLocation(R.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(R){return this.container.contains(R)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===y.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===y.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const R=this._scrollMode===y.ScrollMode.PAGE?P(this,o).pages:this._pages,K=this._scrollMode===y.ScrollMode.HORIZONTAL;return(0,y.getVisibleElements)({scrollEl:this.container,views:R,sortByVisibility:!0,horizontal:K,rtl:K&&this._isContainerRtl})}isPageVisible(R){return!!this.pdfDocument&&(Number.isInteger(R)&&R>0&&R<=this.pagesCount?this._getVisiblePages().ids.has(R):(console.error(`isPageVisible: "${R}" is not a valid page.`),!1))}isPageCached(R){if(!this.pdfDocument)return!1;if(!(Number.isInteger(R)&&R>0&&R<=this.pagesCount))return console.error(`isPageCached: "${R}" is not a valid page.`),!1;const K=this._pages[R-1];return P(this,oe).has(K)}cleanup(){for(const R of this._pages)R.renderingState!==y.RenderingStates.FINISHED&&R.reset()}_cancelRendering(){for(const R of this._pages)R.cancelRendering()}forceRendering(R){const K=R||this._getVisiblePages(),le=C(this,Z,de).call(this,K),H=this.renderingQueue.getHighestPriority(K,this._pages,le,this._spreadMode!==y.SpreadMode.NONE&&this._scrollMode!==y.ScrollMode.HORIZONTAL);return C(this,ee,be).call(this,K.ids),!!H&&(C(this,X,pe).call(this,H).then(()=>{this.renderingQueue.renderView(H)}),!0)}createTextLayerBuilder(R,K,le,ge=!1,H,I){return new p.TextLayerBuilder({textLayerDiv:R,eventBus:H,pageIndex:K,viewport:le,enhanceTextSelection:!this.isInPresentationMode&&ge,highlighter:I})}createTextHighlighter(R,K){return new f.TextHighlighter({eventBus:K,pageIndex:R,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(R,K,le=null,ge="",H=!0,I=n.NullL10n,G=null,ie=null,ye=null,Te=null,se=null){return new v.AnnotationLayerBuilder({pageDiv:R,pdfPage:K,annotationStorage:le||this.pdfDocument?.annotationStorage,imageResourcesPath:ge,renderForms:H,linkService:this.linkService,downloadManager:this.downloadManager,l10n:I,enableScripting:G??this.enableScripting,hasJSActionsPromise:ie||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Te||this.pdfDocument?.getFieldObjects(),mouseState:ye||this._scriptingManager?.mouseState,annotationCanvasMap:se})}createXfaLayerBuilder(R,K,le=null){return new d.XfaLayerBuilder({pageDiv:R,pdfPage:K,annotationStorage:le||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(R){return new l.StructTreeLayerBuilder({pdfPage:R})}get hasEqualPageSizes(){const R=this._pages[0];for(let K=1,le=this._pages.length;K<le;++K){const ge=this._pages[K];if(ge.width!==R.width||ge.height!==R.height)return!1}return!0}getPagesOverview(){return this._pages.map(R=>{const K=R.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,y.isPortraitOrientation)(K)?{width:K.width,height:K.height,rotation:K.rotation}:{width:K.height,height:K.width,rotation:(K.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(R){if(!(R instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${R}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=R;const K={optionalContentConfigPromise:R};for(const le of this._pages)le.update(K);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:R})}get scrollMode(){return this._scrollMode}set scrollMode(R){if(this._scrollMode!==R){if(!(0,y.isValidScrollMode)(R))throw new Error(`Invalid scroll mode: ${R}`);this.pagesCount>W.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=R,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(R=null){const K=this._scrollMode,le=this.viewer;le.classList.toggle("scrollHorizontal",K===y.ScrollMode.HORIZONTAL),le.classList.toggle("scrollWrapped",K===y.ScrollMode.WRAPPED),this.pdfDocument&&R&&(K===y.ScrollMode.PAGE?C(this,F,me).call(this):this._previousScrollMode===y.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(R,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(R){if(this._spreadMode!==R){if(!(0,y.isValidSpreadMode)(R))throw new Error(`Invalid spread mode: ${R}`);this._spreadMode=R,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:R}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(R=null){if(!this.pdfDocument)return;const K=this.viewer,le=this._pages;if(this._scrollMode===y.ScrollMode.PAGE)C(this,F,me).call(this);else if(K.textContent="",this._spreadMode===y.SpreadMode.NONE)for(const ge of this._pages)K.appendChild(ge.div);else{const ge=this._spreadMode-1;let H=null;for(let I=0,G=le.length;I<G;++I)null===H?(H=document.createElement("div"),H.className="spread",K.appendChild(H)):I%2===ge&&(H=H.cloneNode(!1),K.appendChild(H)),H.appendChild(le[I].div)}!R||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(R,!0),this.update())}_getPageAdvance(R,K=!1){switch(this._scrollMode){case y.ScrollMode.WRAPPED:{const{views:le}=this._getVisiblePages(),ge=new Map;for(const{id:H,y:I,percent:G,widthPercent:ie}of le){if(0===G||ie<100)continue;let ye=ge.get(I);ye||ge.set(I,ye||(ye=[])),ye.push(H)}for(const H of ge.values()){const I=H.indexOf(R);if(-1===I)continue;const G=H.length;if(1===G)break;if(K)for(let ie=I-1,ye=0;ie>=ye;ie--){const se=H[ie+1]-1;if(H[ie]<se)return R-se}else for(let ie=I+1,ye=G;ie<ye;ie++){const se=H[ie-1]+1;if(H[ie]>se)return se-R}if(K){const ie=H[0];if(ie<R)return R-ie+1}else{const ie=H[G-1];if(ie>R)return ie-R+1}break}break}case y.ScrollMode.HORIZONTAL:break;case y.ScrollMode.PAGE:case y.ScrollMode.VERTICAL:{if(this._spreadMode===y.SpreadMode.NONE)break;const le=this._spreadMode-1;if(K&&R%2!==le)break;if(!K&&R%2===le)break;const{views:ge}=this._getVisiblePages(),H=K?R-1:R+1;for(const{id:I,percent:G,widthPercent:ie}of ge)if(I===H){if(G>0&&100===ie)return 2;break}break}}return 1}nextPage(){const R=this._currentPageNumber,K=this.pagesCount;if(R>=K)return!1;const le=this._getPageAdvance(R,!1)||1;return this.currentPageNumber=Math.min(R+le,K),!0}previousPage(){const R=this._currentPageNumber;if(R<=1)return!1;const K=this._getPageAdvance(R,!0)||1;return this.currentPageNumber=Math.max(R-K,1),!0}increaseScale(R=1){let K=this._currentScale;do{K=(K*y.DEFAULT_SCALE_DELTA).toFixed(2),K=Math.ceil(10*K)/10,K=Math.min(y.MAX_SCALE,K)}while(--R>0&&K<y.MAX_SCALE);this.currentScaleValue=K}decreaseScale(R=1){let K=this._currentScale;do{K=(K/y.DEFAULT_SCALE_DELTA).toFixed(2),K=Math.floor(10*K)/10,K=Math.max(y.MIN_SCALE,K)}while(--R>0&&K>y.MIN_SCALE);this.currentScaleValue=K}updateContainerHeightCss(){const R=this.container.clientHeight;R!==P(this,s)&&(i(this,s,R),this._doc.style.setProperty("--viewer-container-height",`${R}px`))}}function _e(ne){!ne||(ne.includes(w.PermissionFlag.COPY)||this.viewer.classList.add(L),!ne.includes(w.PermissionFlag.MODIFY_ANNOTATIONS)&&!ne.includes(w.PermissionFlag.FILL_INTERACTIVE_FORMS)&&P(this,O)===w.AnnotationMode.ENABLE_FORMS&&(i(this,r,P(this,O)),i(this,O,w.AnnotationMode.ENABLE)))}function Ae(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ne=new Promise(R=>{i(this,g,()=>{"hidden"===document.visibilityState&&(R(),document.removeEventListener("visibilitychange",P(this,g)),i(this,g,null))}),document.addEventListener("visibilitychange",P(this,g))});return Promise.race([this._onePageRenderedCapability.promise,ne])}function me(){if(this._scrollMode!==y.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ne=this._currentPageNumber,R=P(this,o),K=this.viewer;if(K.textContent="",R.pages.length=0,this._spreadMode!==y.SpreadMode.NONE||this.isInPresentationMode){const le=new Set,ge=this._spreadMode-1;-1===ge?le.add(ne-1):ne%2!==ge?(le.add(ne-1),le.add(ne)):(le.add(ne-2),le.add(ne-1));const H=document.createElement("div");if(H.className="spread",this.isInPresentationMode){const I=document.createElement("div");I.className="dummyPage",H.appendChild(I)}for(const I of le){const G=this._pages[I];!G||(H.appendChild(G.div),R.pages.push(G))}K.appendChild(H)}else{const le=this._pages[ne-1];K.appendChild(le.div),R.pages.push(le)}R.scrollDown=ne>=R.previousPageNumber,R.previousPageNumber=ne}function ae(ne,R=null){const{div:K,id:le}=ne;if(this._scrollMode===y.ScrollMode.PAGE&&(this._setCurrentPageNumber(le),C(this,F,me).call(this),this.update()),!R&&!this.isInPresentationMode){const ge=K.offsetLeft+K.clientLeft,H=ge+K.clientWidth,{scrollLeft:I,clientWidth:G}=this.container;(this._scrollMode===y.ScrollMode.HORIZONTAL||ge<I||H>I+G)&&(R={left:0,top:0})}(0,y.scrollIntoView)(K,R)}function we(ne){return ne===this._currentScale||Math.abs(ne-this._currentScale)<1e-15}function Ce(){const ne=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),C(this,q,ae).call(this,ne)}function pe(ne){return re.apply(this,arguments)}function re(){return(re=b(function*(ne){if(ne.pdfPage)return ne.pdfPage;try{const R=yield this.pdfDocument.getPage(ne.id);return ne.pdfPage||ne.setPdfPage(R),this.linkService._cachedPageNumber?.(R.ref)||this.linkService.cachePageRef(ne.id,R.ref),R}catch(R){return console.error("Unable to get page for page view",R),null}})).apply(this,arguments)}function de(ne){if(1===ne.first?.id)return!0;if(ne.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case y.ScrollMode.PAGE:return P(this,o).scrollDown;case y.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function be(ne){for(const R of ne)this._pages[R-1]?.toggleLoadingIconSpinner(!0);for(const R of P(this,oe))ne.has(R.id)||R.toggleLoadingIconSpinner(!1)}m.BaseViewer=ue},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFPageView=void 0;var A=x(3),w=x(6),y=x(13),v=x(4);const n=y.compatibilityParams.maxCanvasPixels||16777216;var t=new WeakMap;m.PDFPageView=class h{constructor(l){E(this,t,{writable:!0,value:A.AnnotationMode.ENABLE_FORMS});const f=l.container,p=l.defaultViewport;this.id=l.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=l.scale||w.DEFAULT_SCALE,this.viewport=p,this.pdfPageRotate=p.rotation,this._optionalContentConfigPromise=l.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=l.textLayerMode??w.TextLayerMode.ENABLE,i(this,t,l.annotationMode??A.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=l.imageResourcesPath||"",this.useOnlyCssZoom=l.useOnlyCssZoom||!1,this.maxCanvasPixels=l.maxCanvasPixels||n,this.pageColors=l.pageColors||null,this.eventBus=l.eventBus,this.renderingQueue=l.renderingQueue,this.textLayerFactory=l.textLayerFactory,this.annotationLayerFactory=l.annotationLayerFactory,this.xfaLayerFactory=l.xfaLayerFactory,this.textHighlighter=l.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=l.structTreeLayerFactory,this.renderer=l.renderer||w.RendererType.CANVAS,this.l10n=l.l10n||v.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=w.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const d=document.createElement("div");d.className="page",d.style.width=Math.floor(this.viewport.width)+"px",d.style.height=Math.floor(this.viewport.height)+"px",d.setAttribute("data-page-number",this.id),d.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(k=>{d.setAttribute("aria-label",k)}),this.div=d,f?.appendChild(d)}setPdfPage(l){this.pdfPage=l,this.pdfPageRotate=l.rotate,this.viewport=l.getViewport({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var l=this;return b(function*(){let f=null;try{yield l.annotationLayer.render(l.viewport,"display")}catch(p){f=p}finally{l.eventBus.dispatch("annotationlayerrendered",{source:l,pageNumber:l.id,error:f})}})()}_renderXfaLayer(){var l=this;return b(function*(){let f=null;try{const p=yield l.xfaLayer.render(l.viewport,"display");l.textHighlighter&&l._buildXfaTextContentItems(p.textDivs)}catch(p){f=p}finally{l.eventBus.dispatch("xfalayerrendered",{source:l,pageNumber:l.id,error:f})}})()}_buildXfaTextContentItems(l){var f=this;return b(function*(){const p=yield f.pdfPage.getTextContent(),d=[];for(const k of p.items)d.push(k.str);f.textHighlighter.setTextMapping(l,d),f.textHighlighter.enable()})()}_resetZoomLayer(l=!1){if(!this.zoomLayer)return;const f=this.zoomLayer.firstChild;this.paintedViewportMap.delete(f),f.width=0,f.height=0,l&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:l=!1,keepAnnotationLayer:f=!1,keepXfaLayer:p=!1}={}){this.cancelRendering({keepAnnotationLayer:f,keepXfaLayer:p}),this.renderingState=w.RenderingStates.INITIAL;const d=this.div;d.style.width=Math.floor(this.viewport.width)+"px",d.style.height=Math.floor(this.viewport.height)+"px";const k=d.childNodes,L=l&&this.zoomLayer||null,W=f&&this.annotationLayer?.div||null,Y=p&&this.xfaLayer?.div||null;for(let Q=k.length-1;Q>=0;Q--){const J=k[Q];switch(J){case L:case W:case Y:continue}J.remove()}d.removeAttribute("data-loaded"),W&&this.annotationLayer.hide(),Y&&this.xfaLayer.hide(),L||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Q=>{this.loadingIconDiv?.setAttribute("aria-label",Q)}),d.appendChild(this.loadingIconDiv)}update({scale:l=0,rotation:f=null,optionalContentConfigPromise:p=null}){if(this.scale=l||this.scale,"number"==typeof f&&(this.rotation=f),p instanceof Promise&&(this._optionalContentConfigPromise=p),this.viewport=this.viewport.clone({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:L}=document.documentElement;L.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let k=!1;if(this.canvas&&this.maxCanvasPixels>0){const L=this.outputScale;(Math.floor(this.viewport.width)*L.sx|0)*(Math.floor(this.viewport.height)*L.sy|0)>this.maxCanvasPixels&&(k=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&k)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:l=!1,keepXfaLayer:f=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!l||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!f||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:l,redrawAnnotationLayer:f=!1,redrawXfaLayer:p=!1}){const d=this.viewport.width,k=this.viewport.height,L=this.div;l.style.width=l.parentNode.style.width=L.style.width=Math.floor(d)+"px",l.style.height=l.parentNode.style.height=L.style.height=Math.floor(k)+"px";const W=this.viewport.rotation-this.paintedViewportMap.get(l).rotation,Y=Math.abs(W);let Q=1,J=1;if((90===Y||270===Y)&&(Q=k/d,J=d/k),l.style.transform=`rotate(${W}deg) scale(${Q}, ${J})`,this.textLayer){const te=this.textLayer.viewport,oe=Math.abs(this.viewport.rotation-te.rotation);let O=d/te.width;(90===oe||270===oe)&&(O=d/te.height);const r=this.textLayer.textLayerDiv;let e,s;switch(oe){case 0:e=s=0;break;case 90:e=0,s="-"+r.style.height;break;case 180:e="-"+r.style.width,s="-"+r.style.height;break;case 270:e="-"+r.style.width,s=0;break;default:console.error("Bad rotation value.")}r.style.transform=`rotate(${oe}deg) scale(${O}) translate(${e}, ${s})`,r.style.transformOrigin="0% 0%"}f&&this.annotationLayer&&this._renderAnnotationLayer(),p&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(l,f){return this.viewport.convertToPdfPoint(l,f)}toggleLoadingIconSpinner(l=!1){this.loadingIconDiv?.classList.toggle("notVisible",!l)}draw(){var l=this;this.renderingState!==w.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:f,pdfPage:p}=this;if(!p)return this.renderingState=w.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=w.RenderingStates.RUNNING;const d=document.createElement("div");d.style.width=f.style.width,d.style.height=f.style.height,d.classList.add("canvasWrapper"),this.annotationLayer?.div?f.insertBefore(d,this.annotationLayer.div):f.appendChild(d);let k=null;if(this.textLayerMode!==w.TextLayerMode.DISABLE&&this.textLayerFactory){const J=document.createElement("div");J.className="textLayer",J.style.width=d.style.width,J.style.height=d.style.height,this.annotationLayer?.div?f.insertBefore(J,this.annotationLayer.div):f.appendChild(J),k=this.textLayerFactory.createTextLayerBuilder(J,this.id-1,this.viewport,this.textLayerMode===w.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=k,P(this,t)!==A.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(f,p,null,this.imageResourcesPath,P(this,t)===A.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&f.appendChild(this.xfaLayer.div);let L=null;this.renderingQueue&&(L=J=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=w.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=w.RenderingStates.RUNNING,J()});J()});const W=function(){var J=b(function*(te=null){if(Y===l.paintTask&&(l.paintTask=null),te instanceof A.RenderingCancelledException)l._renderError=null;else if(l._renderError=te,l.renderingState=w.RenderingStates.FINISHED,l.loadingIconDiv&&(l.loadingIconDiv.remove(),delete l.loadingIconDiv),l._resetZoomLayer(!0),l.eventBus.dispatch("pagerendered",{source:l,pageNumber:l.id,cssTransform:!1,timestamp:performance.now(),error:l._renderError}),te)throw te});return function(){return J.apply(this,arguments)}}(),Y=this.renderer===w.RendererType.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);Y.onRenderContinue=L,this.paintTask=Y;const Q=Y.promise.then(()=>W(null).then(()=>{if(k){const J=p.streamTextContent({includeMarkedContent:!0});k.setTextContentStream(J),k.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(J){return W(J)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(f,p,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=J=>{J.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(te=>{if(!te||!this.canvas)return;const he=this.structTreeLayer.render(te);he.classList.add("structTree"),this.canvas.appendChild(he)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(p)),f.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Q}paintOnCanvas(l){const f=(0,A.createPromiseCapability)(),p={promise:f.promise,onRenderContinue(r){r()},cancel(){O.cancel()}},d=this.viewport,k=document.createElement("canvas");k.hidden=!0;let L=!0;const W=function(){L&&(k.hidden=!1,L=!1)};l.appendChild(k),this.canvas=k;const Y=k.getContext("2d",{alpha:!1}),Q=this.outputScale=new w.OutputScale;if(this.useOnlyCssZoom){const r=d.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});Q.sx*=r.width/d.width,Q.sy*=r.height/d.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(d.width*d.height));Q.sx>e||Q.sy>e?(Q.sx=e,Q.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const J=(0,w.approximateFraction)(Q.sx),te=(0,w.approximateFraction)(Q.sy);k.width=(0,w.roundToDivide)(d.width*Q.sx,J[0]),k.height=(0,w.roundToDivide)(d.height*Q.sy,te[0]),k.style.width=(0,w.roundToDivide)(d.width,J[1])+"px",k.style.height=(0,w.roundToDivide)(d.height,te[1])+"px",this.paintedViewportMap.set(k,d);const oe={canvasContext:Y,transform:Q.scaled?[Q.sx,0,0,Q.sy,0,0]:null,viewport:this.viewport,annotationMode:P(this,t),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},O=this.pdfPage.render(oe);return O.onContinue=function(r){W(),p.onRenderContinue?p.onRenderContinue(r):r()},O.promise.then(function(){W(),f.resolve()},function(r){W(),f.reject(r)}),p}paintOnSvg(l){let f=!1;const p=()=>{if(f)throw new A.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},d=this.pdfPage,k=this.viewport.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:d.getOperatorList({annotationMode:P(this,t)}).then(W=>(p(),new A.SVGGraphics(d.commonObjs,d.objs).getSVG(W,k).then(Q=>{p(),this.svg=Q,this.paintedViewportMap.set(Q,k),Q.style.width=l.style.width,Q.style.height=l.style.height,this.renderingState=w.RenderingStates.FINISHED,l.appendChild(Q)}))),onRenderContinue(W){W()},cancel(){f=!0}}}setPageLabel(l){this.pageLabel="string"==typeof l?l:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.compatibilityParams=m.OptionKind=m.AppOptions=void 0;const x=Object.create(null);m.compatibilityParams=x;{const n=navigator.userAgent||"",t=navigator.platform||"",h=navigator.maxTouchPoints||1,u=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===t&&h>1||u)&&(x.maxCanvasPixels=5242880)}const A={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};m.OptionKind=A;const w={annotationMode:{value:2,kind:A.VIEWER+A.PREFERENCE},cursorToolOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:A.VIEWER},defaultZoomValue:{value:"",kind:A.VIEWER+A.PREFERENCE},disableHistory:{value:!1,kind:A.VIEWER},disablePageLabels:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePermissions:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:A.VIEWER+A.PREFERENCE},enableScripting:{value:!0,kind:A.VIEWER+A.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:A.VIEWER},externalLinkTarget:{value:0,kind:A.VIEWER+A.PREFERENCE},historyUpdateUrl:{value:!1,kind:A.VIEWER+A.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},imageResourcesPath:{value:"./images/",kind:A.VIEWER},maxCanvasPixels:{value:16777216,compatibility:x.maxCanvasPixels,kind:A.VIEWER},pageColorsBackground:{value:"Canvas",kind:A.VIEWER+A.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:A.VIEWER+A.PREFERENCE},pdfBugEnabled:{value:!1,kind:A.VIEWER+A.PREFERENCE},printResolution:{value:150,kind:A.VIEWER},renderer:{value:"canvas",kind:A.VIEWER},sidebarViewOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},scrollModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},spreadModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},textLayerMode:{value:1,kind:A.VIEWER+A.PREFERENCE},useOnlyCssZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},viewerCssTheme:{value:0,kind:A.VIEWER+A.PREFERENCE},viewOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},cMapPacked:{value:!0,kind:A.API},cMapUrl:{value:"../web/cmaps/",kind:A.API},disableAutoFetch:{value:!1,kind:A.API+A.PREFERENCE},disableFontFace:{value:!1,kind:A.API+A.PREFERENCE},disableRange:{value:!1,kind:A.API+A.PREFERENCE},disableStream:{value:!1,kind:A.API+A.PREFERENCE},docBaseUrl:{value:"",kind:A.API},enableXfa:{value:!0,kind:A.API+A.PREFERENCE},fontExtraProperties:{value:!1,kind:A.API},isEvalSupported:{value:!0,kind:A.API},maxImageSize:{value:-1,kind:A.API},pdfBug:{value:!1,kind:A.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:A.API},verbosity:{value:1,kind:A.API},workerPort:{value:null,kind:A.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:A.WORKER}};w.disablePreferences={value:!1,kind:A.VIEWER},w.locale={value:navigator.language||"en-US",kind:A.VIEWER},w.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:A.VIEWER},w.renderer.kind+=A.PREFERENCE;const y=Object.create(null);m.AppOptions=class v{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){const h=y[t];if(void 0!==h)return h;const u=w[t];return void 0!==u?u.compatibility??u.value:void 0}static getAll(t=null){const h=Object.create(null);for(const u in w){const l=w[u];if(t){if(0==(t&l.kind))continue;if(t===A.PREFERENCE){const p=l.value,d=typeof p;if("boolean"===d||"string"===d||"number"===d&&Number.isInteger(p)){h[u]=p;continue}throw new Error(`Invalid type for preference: ${u}`)}}const f=y[u];h[u]=void 0!==f?f:l.compatibility??l.value}return h}static set(t,h){y[t]=h}static setAll(t){for(const h in t)y[h]=t[h]}static remove(t){delete y[t]}static _hasUserOptions(){return Object.keys(y).length>0}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFRenderingQueue=void 0;var A=x(3),w=x(6);m.PDFRenderingQueue=class v{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(t)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(t,h,u,l=!1){const f=t.views,p=f.length;if(0===p)return null;for(let Y=0;Y<p;Y++){const Q=f[Y].view;if(!this.isViewFinished(Q))return Q}const d=t.first.id,k=t.last.id;if(k-d+1>p){const Y=t.ids;for(let Q=1,J=k-d;Q<J;Q++){const te=u?d+Q:k-Q;if(Y.has(te))continue;const he=h[te-1];if(!this.isViewFinished(he))return he}}let L=u?k:d-2,W=h[L];return W&&!this.isViewFinished(W)||l&&(L+=u?1:-1,W=h[L],W&&!this.isViewFinished(W))?W:null}isViewFinished(t){return t.renderingState===w.RenderingStates.FINISHED}renderView(t){switch(t.renderingState){case w.RenderingStates.FINISHED:return!1;case w.RenderingStates.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case w.RenderingStates.RUNNING:this.highestPriorityPage=t.renderingId;break;case w.RenderingStates.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof A.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextHighlighter=void 0,m.TextHighlighter=class x{constructor({findController:w,eventBus:y,pageIndex:v}){this.findController=w,this.matches=[],this.eventBus=y,this.pageIdx=v,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(w,y){this.textDivs=w,this.textContentItemsStr=y}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=w=>{(w.pageIndex===this.pageIdx||-1===w.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(w,y){if(!w)return[];const{textContentItemsStr:v}=this;let n=0,t=0;const h=v.length-1,u=[];for(let l=0,f=w.length;l<f;l++){let p=w[l];for(;n!==h&&p>=t+v[n].length;)t+=v[n].length,n++;n===v.length&&console.error("Could not find a matching mapping");const d={begin:{divIdx:n,offset:p-t}};for(p+=y[l];n!==h&&p>t+v[n].length;)t+=v[n].length,n++;d.end={divIdx:n,offset:p-t},u.push(d)}return u}_renderMatches(w){if(0===w.length)return;const{findController:y,pageIdx:v}=this,{textContentItemsStr:n,textDivs:t}=this,h=v===y.selected.pageIdx,u=y.selected.matchIdx;let f=null;function d(Y,Q){const J=Y.divIdx;return t[J].textContent="",k(J,0,Y.offset,Q)}function k(Y,Q,J,te){let he=t[Y];if(he.nodeType===Node.TEXT_NODE){const r=document.createElement("span");he.parentNode.insertBefore(r,he),r.appendChild(he),t[Y]=r,he=r}const oe=n[Y].substring(Q,J),O=document.createTextNode(oe);if(te){const r=document.createElement("span");return r.className=`${te} appended`,r.appendChild(O),he.appendChild(r),te.includes("selected")?r.offsetLeft:0}return he.appendChild(O),0}let L=u,W=L+1;if(y.state.highlightAll)L=0,W=w.length;else if(!h)return;for(let Y=L;Y<W;Y++){const Q=w[Y],J=Q.begin,te=Q.end,he=h&&Y===u,oe=he?" selected":"";let O=0;if(f&&J.divIdx===f.divIdx?k(f.divIdx,f.offset,J.offset):(null!==f&&k(f.divIdx,f.offset,undefined),d(J)),J.divIdx===te.divIdx)O=k(J.divIdx,J.offset,te.offset,"highlight"+oe);else{O=k(J.divIdx,J.offset,undefined,"highlight begin"+oe);for(let r=J.divIdx+1,e=te.divIdx;r<e;r++)t[r].className="highlight middle"+oe;d(te,"highlight end"+oe)}f=te,he&&y.scrollMatchIntoView({element:t[J.divIdx],selectedLeft:O,pageIndex:v,matchIndex:u})}f&&k(f.divIdx,f.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:w,matches:y,pageIdx:v}=this,{textContentItemsStr:n,textDivs:t}=this;let h=-1;for(let f=0,p=y.length;f<p;f++){const d=y[f];for(let L=Math.max(h,d.begin.divIdx),W=d.end.divIdx;L<=W;L++){const Y=t[L];Y.textContent=n[L],Y.className=""}h=d.end.divIdx+1}w?.highlightMatches&&(this.matches=this._convertMatches(w.pageMatches[v]||null,w.pageMatchesLength[v]||null),this._renderMatches(this.matches))}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DownloadManager=void 0;var A=x(3);function w(v,n){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=v,t.target="_parent","download"in t&&(t.download=n),(document.body||document.documentElement).appendChild(t),t.click(),t.remove()}m.DownloadManager=class y{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,t){(0,A.createValidAbsoluteUrl)(n,"http://example.com")?w(n+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,t,h){w(URL.createObjectURL(new Blob([n],{type:h})),t)}openOrDownloadData(n,t,h){const u=(0,A.isPdfFile)(h),l=u?"application/pdf":"";if(u){let p,f=this._openBlobUrls.get(n);f||(f=URL.createObjectURL(new Blob([t],{type:l})),this._openBlobUrls.set(n,f)),p="?file="+encodeURIComponent(f+"#"+h);try{return window.open(p),!0}catch(d){console.error(`openOrDownloadData: ${d}`),URL.revokeObjectURL(f),this._openBlobUrls.delete(n)}}return this.downloadData(t,h,l),!1}download(n,t,h,u="download"){w(URL.createObjectURL(n),h)}}},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.WaitOnType=m.EventBus=m.AutomationEventBus=void 0,m.waitOnEventOrTimeout=function A({target:v,name:n,delay:t=0}){return new Promise(function(h,u){if("object"!=typeof v||!n||"string"!=typeof n||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function l(k){v instanceof w?v._off(n,f):v.removeEventListener(n,f),d&&clearTimeout(d),h(k)}const f=l.bind(null,x.EVENT);v instanceof w?v._on(n,f):v.addEventListener(n,f);const p=l.bind(null,x.TIMEOUT),d=setTimeout(p,t)})};const x={EVENT:"event",TIMEOUT:"timeout"};m.WaitOnType=x;class w{constructor(){this._listeners=Object.create(null)}on(n,t,h=null){this._on(n,t,{external:!0,once:h?.once})}off(n,t,h=null){this._off(n,t,{external:!0,once:h?.once})}dispatch(n,t){const h=this._listeners[n];if(!h||0===h.length)return;let u;for(const{listener:l,external:f,once:p}of h.slice(0))p&&this._off(n,l),f?(u||(u=[])).push(l):l(t);if(u){for(const l of u)l(t);u=null}}_on(n,t,h=null){var l;((l=this._listeners)[n]||(l[n]=[])).push({listener:t,external:!0===h?.external,once:!0===h?.once})}_off(n,t,h=null){const u=this._listeners[n];if(u)for(let l=0,f=u.length;l<f;l++)if(u[l].listener===t)return void u.splice(l,1)}}m.EventBus=w,m.AutomationEventBus=class y extends w{dispatch(n,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericL10n=void 0,x(19);var A=x(4);const w=document.webL10n;m.GenericL10n=class y{constructor(n){this._lang=n,this._ready=new Promise((t,h)=>{w.setLanguage((0,A.fixupLangCode)(n),()=>{t(w)})})}getLanguage(){var n=this;return b(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return b(function*(){return(yield n._ready).getDirection()})()}get(n,t=null,h=(0,A.getL10nFallback)(n,t)){var u=this;return b(function*(){return(yield u._ready).get(n,t,h)})()}translate(n){var t=this;return b(function*(){return(yield t._ready).translate(n)})()}}},()=>{document.webL10n=function(U,m,x){var A={},w="",y="textContent",v="",n={},t="loading";function d(r,e,s){e=e||function(_){},s=s||function(){};var o=new XMLHttpRequest;o.open("GET",r,!0),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=utf-8"),o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0===o.status?e(o.responseText):s())},o.onerror=s,o.ontimeout=s;try{o.send(null)}catch{s()}}function L(r,e){r&&(r=r.toLowerCase()),e=e||function(){},function W(){A={},w="",v=""}(),v=r;var s=function u(){return m.querySelectorAll('link[type="application/l10n"]')}(),o=s.length;if(0!==o){var F,q=0;F=function(){++q>=o&&(e(),t="complete")};for(var $=0;$<o;$++)new B(s[$]).load(r,F)}else{var g=function l(){var r=m.querySelector('script[type="application/l10n"]');return r?JSON.parse(r.innerHTML):null}();if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(A=g.locales[r])){var _=g.default_locale.toLowerCase();for(var c in g.locales){if((c=c.toLowerCase())===r){A=g.locales[r];break}c===_&&(A=g.locales[_])}}e()}else console.log("no resource to load, early way out");t="complete"}function B(Z){var ee=Z.href;this.load=function(ue,_e){!function k(r,e,s,o){var g=r.replace(/[^\/]*$/,"")||"./";function _(F){return F.lastIndexOf("\\")<0?F:F.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}d(r,function(F){w+=F,function c(F,q){var B={},$=/^\s*|\s*$/,X=/^\s*#|^\s*$/,Z=/^\s*\[(.*)\]\s*$/,ee=/^\s*@import\s+url\((.*)\)\s*$/i,ue=/^([^=\s]*)\s*=\s*(.+)$/;function _e(me,ae,we){var Ce=me.replace($,"").split(/[\r\n]+/),pe="*",re=e.split("-",1)[0],de=!1,be="";!function ne(){for(;;){if(!Ce.length)return void we();var R=Ce.shift();if(!X.test(R)){if(ae){if(be=Z.exec(R)){pe=be[1].toLowerCase(),de="*"!==pe&&pe!==e&&pe!==re;continue}if(de)continue;if(be=ee.exec(R))return void Ae(g+be[1],ne)}var K=R.match(ue);K&&3==K.length&&(B[K[1]]=_(K[2]))}}}()}function Ae(me,ae){d(me,function(we){_e(we,!1,ae)},function(){console.warn(me+" not found."),ae()})}_e(F,!0,function(){q(B)})}(F,function(q){for(var B in q){var $,X,Z=B.lastIndexOf(".");Z>0?($=B.substring(0,Z),X=B.substring(Z+1)):($=B,X=y),A[$]||(A[$]={}),A[$][X]=q[B]}s&&s()})},o)}(ee,ue,_e,function(){console.warn(ee+" not found."),console.warn('"'+ue+'" resource not found'),v="",_e()})}}}function Q(r,e,s){var o=A[r];if(!o){if(console.warn("#"+r+" is undefined."),!s)return null;o=s}var g={};for(var _ in o){var c=o[_];c=te(c=J(c,e,r,_),e,r),g[_]=c}return g}function J(r,e,s,o){var _=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(r);if(!_||!_.length)return r;var q,c=_[1],F=_[2];return e&&F in e?q=e[F]:F in A&&(q=A[F]),c in n&&(r=(0,n[c])(r,q,s,o)),r}function te(r,e,s){return r.replace(/\{\{\s*(.+?)\s*\}\}/g,function(g,_){return e&&_ in e?e[_]:_ in A?A[_]:(console.log("argument {{"+_+"}} for #"+s+" is undefined."),g)})}function he(r){var e=function p(r){if(!r)return{};var e=r.getAttribute("data-l10n-id"),s=r.getAttribute("data-l10n-args"),o={};if(s)try{o=JSON.parse(s)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:o}}(r);if(e.id){var s=Q(e.id,e.args);if(!s)return void console.warn("#"+e.id+" is undefined.");if(s[y]){if(0===function oe(r){if(r.children)return r.children.length;if(typeof r.childElementCount<"u")return r.childElementCount;for(var e=0,s=0;s<r.childNodes.length;s++)e+=1===r.nodeType?1:0;return e}(r))r[y]=s[y];else{for(var o=r.childNodes,g=!1,_=0,c=o.length;_<c;_++)3===o[_].nodeType&&/\S/.test(o[_].nodeValue)&&(g?o[_].nodeValue="":(o[_].nodeValue=s[y],g=!0));if(!g){var F=m.createTextNode(s[y]);r.insertBefore(F,r.firstChild)}}delete s[y]}for(var q in s)r[q]=s[q]}}return n.plural=function(r,e,s,o){var g=parseFloat(e);if(isNaN(g)||o!=y)return r;n._pluralRules||(n._pluralRules=function Y(r){function s(c,F){return-1!==F.indexOf(c)}function o(c,F,q){return F<=c&&c<=q}var g={0:function(c){return"other"},1:function(c){return o(c%100,3,10)?"few":0===c?"zero":o(c%100,11,99)?"many":2==c?"two":1==c?"one":"other"},2:function(c){return 0!==c&&c%10==0?"many":2==c?"two":1==c?"one":"other"},3:function(c){return 1==c?"one":"other"},4:function(c){return o(c,0,1)?"one":"other"},5:function(c){return o(c,0,2)&&2!=c?"one":"other"},6:function(c){return 0===c?"zero":c%10==1&&c%100!=11?"one":"other"},7:function(c){return 2==c?"two":1==c?"one":"other"},8:function(c){return o(c,3,6)?"few":o(c,7,10)?"many":2==c?"two":1==c?"one":"other"},9:function(c){return 0===c||1!=c&&o(c%100,1,19)?"few":1==c?"one":"other"},10:function(c){return o(c%10,2,9)&&!o(c%100,11,19)?"few":c%10!=1||o(c%100,11,19)?"other":"one"},11:function(c){return o(c%10,2,4)&&!o(c%100,12,14)?"few":c%10==0||o(c%10,5,9)||o(c%100,11,14)?"many":c%10==1&&c%100!=11?"one":"other"},12:function(c){return o(c,2,4)?"few":1==c?"one":"other"},13:function(c){return o(c%10,2,4)&&!o(c%100,12,14)?"few":1!=c&&o(c%10,0,1)||o(c%10,5,9)||o(c%100,12,14)?"many":1==c?"one":"other"},14:function(c){return o(c%100,3,4)?"few":c%100==2?"two":c%100==1?"one":"other"},15:function(c){return 0===c||o(c%100,2,10)?"few":o(c%100,11,19)?"many":1==c?"one":"other"},16:function(c){return c%10==1&&11!=c?"one":"other"},17:function(c){return 3==c?"few":0===c?"zero":6==c?"many":2==c?"two":1==c?"one":"other"},18:function(c){return 0===c?"zero":o(c,0,2)&&0!==c&&2!=c?"one":"other"},19:function(c){return o(c,2,10)?"few":o(c,0,1)?"one":"other"},20:function(c){return!o(c%10,3,4)&&c%10!=9||o(c%100,10,19)||o(c%100,70,79)||o(c%100,90,99)?c%1e6==0&&0!==c?"many":c%10!=2||s(c%100,[12,72,92])?c%10!=1||s(c%100,[11,71,91])?"other":"one":"two":"few"},21:function(c){return 0===c?"zero":1==c?"one":"other"},22:function(c){return o(c,0,1)||o(c,11,99)?"one":"other"},23:function(c){return o(c%10,1,2)||c%20==0?"one":"other"},24:function(c){return o(c,3,10)||o(c,13,19)?"few":s(c,[2,12])?"two":s(c,[1,11])?"one":"other"}},_={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[r.replace(/-.*$/,"")];return _ in g?g[_]:(console.warn("plural form unknown for ["+r+"]"),function(){return"other"})}(v));var _="["+n._pluralRules(g)+"]";return 0===g&&s+"[zero]"in A?r=A[s+"[zero]"][o]:1==g&&s+"[one]"in A?r=A[s+"[one]"][o]:2==g&&s+"[two]"in A?r=A[s+"[two]"][o]:s+_ in A?r=A[s+_][o]:s+"[other]"in A&&(r=A[s+"[other]"][o]),r},{get:function(r,e,s){var _,o=r.lastIndexOf("."),g=y;o>0&&(g=r.substring(o+1),r=r.substring(0,o)),s&&((_={})[g]=s);var c=Q(r,e,_);return c&&g in c?c[g]:"{{"+r+"}}"},getData:function(){return A},getText:function(){return w},getLanguage:function(){return v},setLanguage:function(r,e){L(r,function(){e&&e()})},getDirection:function(){var e=v.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function O(r){for(var e=function f(r){return r?r.querySelectorAll("*[data-l10n-id]"):[]}(r=r||m.documentElement),s=e.length,o=0;o<s;o++)he(e[o]);he(r)},getReadyState:function(){return t},ready:function(r){r&&("complete"==t||"interactive"==t?U.setTimeout(function(){r()}):m.addEventListener&&m.addEventListener("localized",function e(){m.removeEventListener("localized",e),r()}))}}}(window,document)},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFindController=m.FindState=void 0;var A=x(6),w=x(3),y=x(21);const v={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};m.FindState=v;const u={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},l=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),f=[...l.values()].map(se=>String.fromCharCode(se)).join(""),p=/\p{M}+/gu,d=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,k=/([^\p{M}])\p{M}*$/u,L=/^\p{M}*([^\p{M}])/u;let W=null;function Y(se){if(!W){const Le=Object.keys(u).join("");W=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const ce=[];let Se;for(;null!==(Se=p.exec(se));)ce.push([Se[0].length,Se.index]);let Pe=se.normalize("NFD");const fe=[[0,0]];let xe=0,ve=0,Ee=0,Me=0,ke=!1;return Pe=Pe.replace(W,(Le,Ne,Re,De,Fe,Oe)=>{if(Oe-=Ee,Ne){const Ie=u[Le],Ve=Ie.length;for(let Be=1;Be<Ve;Be++)fe.push([Oe-ve+Be,ve-Be]);return ve-=Ve-1,Ie}if(Re){const Ie=Re.endsWith("\n"),Ve=Ie?Re.length-2:Re.length;ke=!0;let Be=Ve;Oe+Me===ce[xe]?.[1]&&(Be-=ce[xe][0],++xe);for(let Ue=1;Ue<Be+1;Ue++)fe.push([Oe-1-ve+Ue,ve-Ue]);return ve-=Be,Ee+=Be,Ie?(fe.push([(Oe+=Ve-1)-ve+1,1+ve]),ve+=1,Ee+=1,Me+=1,Re.slice(0,Ve)):Re}return De?(fe.push([Oe-ve+1,1+ve]),ve+=1,Ee+=1,Me+=1,De.charAt(0)):(fe.push([Oe-ve+1,ve-1]),ve-=1,Ee+=1,Me+=1," ")}),fe.push([Pe.length,ve]),[Pe,fe,ke]}function Q(se,ce,Se){if(!se)return[ce,Se];const Pe=ce,fe=ce+Se;let xe=(0,A.binarySearchFirstItem)(se,Ee=>Ee[0]>=Pe);se[xe][0]>Pe&&--xe;let ve=(0,A.binarySearchFirstItem)(se,Ee=>Ee[0]>=fe,xe);return se[ve][0]>fe&&--ve,[Pe+se[xe][1],Se+se[ve][1]-se[xe][1]]}var J=new WeakSet,te=new WeakSet,he=new WeakMap,oe=new WeakSet,O=new WeakSet,r=new WeakSet,e=new WeakSet,s=new WeakSet,o=new WeakSet,g=new WeakSet,_=new WeakSet,c=new WeakSet,F=new WeakSet,q=new WeakSet,B=new WeakSet,$=new WeakSet,X=new WeakSet,Z=new WeakSet,ee=new WeakSet,ue=new WeakSet;function Ae(se){if(!se)return;const ce=this._pdfDocument,{type:Se}=se;(null===this._state||C(this,oe,we).call(this,se))&&(this._dirtyMatch=!0),this._state=se,"highlightallchange"!==Se&&C(this,ue,Te).call(this,v.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ce&&this._pdfDocument!==ce)return;C(this,o,be).call(this);const Pe=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Se?this._dirtyMatch?C(this,c,K).call(this):"again"===Se?(C(this,c,K).call(this),Pe&&this._state.highlightAll&&C(this,_,R).call(this)):"highlightallchange"===Se?(fe?C(this,c,K).call(this):this._highlightMatches=!0,C(this,_,R).call(this)):C(this,c,K).call(this):this._findTimeout=setTimeout(()=>{C(this,c,K).call(this),this._findTimeout=null},250)})}function me(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,w.createPromiseCapability)()}function ae(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Y(this._state.query)),this._normalizedQuery}function we(se){if(se.query!==this._state.query)return!0;switch(se.type){case"again":const ce=this._selected.pageIdx+1,Se=this._linkService;return ce>=1&&ce<=Se.pagesCount&&ce!==Se.page&&!Se.isPageVisible(ce);case"highlightallchange":return!1}return!0}function Ce(se,ce,Se){let Pe=se.slice(0,ce).match(k);if(Pe){const fe=se.charCodeAt(ce),xe=Pe[1].charCodeAt(0);if((0,y.getCharacterType)(fe)===(0,y.getCharacterType)(xe))return!1}if(Pe=se.slice(ce+Se).match(L),Pe){const fe=se.charCodeAt(ce+Se-1),xe=Pe[1].charCodeAt(0);if((0,y.getCharacterType)(fe)===(0,y.getCharacterType)(xe))return!1}return!0}function pe(se,ce,Se,Pe){const fe=[],xe=[],ve=this._pageDiffs[Se];let Ee;for(;null!==(Ee=se.exec(Pe));){if(ce&&!C(this,O,Ce).call(this,Pe,Ee.index,Ee[0].length))continue;const[Me,ke]=Q(ve,Ee.index,Ee[0].length);ke&&(fe.push(Me),xe.push(ke))}this._pageMatches[Se]=fe,this._pageMatchesLength[Se]=xe}function re(se,ce){const{matchDiacritics:Se}=this._state;let Pe=!1;return(se=se.replace(d,(xe,ve,Ee,Me,ke,Le)=>ve?`[ ]*\\${ve}[ ]*`:Ee?`[ ]*${Ee}[ ]*`:Me?"[ ]+":Se?ke||Le:ke?l.has(ke.charCodeAt(0))?ke:"":ce?(Pe=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(se=se.slice(0,se.length-"[ ]*".length)),Se&&ce&&(Pe=!0,se=`${se}(?=[${f}]|[^\\p{M}]|$)`),[Pe,se]}function de(se){let ce=P(this,he);if(0===ce.length)return;const{caseSensitive:Se,entireWord:Pe,phraseSearch:fe}=this._state,xe=this._pageContents[se],ve=this._hasDiacritics[se];let Ee=!1;if(fe)[Ee,ce]=C(this,e,re).call(this,ce,ve);else{const Le=ce.match(/\S+/g);Le&&(ce=Le.sort().reverse().map(Ne=>{const[Re,De]=C(this,e,re).call(this,Ne,ve);return Ee||(Ee=Re),`(${De})`}).join("|"))}ce=new RegExp(ce,`g${Ee?"u":""}${Se?"":"i"}`),C(this,r,pe).call(this,ce,Pe,se,xe),this._state.highlightAll&&C(this,g,ne).call(this,se),this._resumePageIdx===se&&(this._resumePageIdx=null,C(this,q,ge).call(this));const ke=this._pageMatches[se].length;ke>0&&(this._matchesCountTotal+=ke,C(this,ee,ye).call(this))}function be(){if(this._extractTextPromises.length>0)return;let se=Promise.resolve();for(let ce=0,Se=this._linkService.pagesCount;ce<Se;ce++){const Pe=(0,w.createPromiseCapability)();this._extractTextPromises[ce]=Pe.promise,se=se.then(()=>this._pdfDocument.getPage(ce+1).then(fe=>fe.getTextContent()).then(fe=>{const xe=[];for(const ve of fe.items)xe.push(ve.str),ve.hasEOL&&xe.push("\n");[this._pageContents[ce],this._pageDiffs[ce],this._hasDiacritics[ce]]=Y(xe.join("")),Pe.resolve()},fe=>{console.error(`Unable to get text content for page ${ce+1}`,fe),this._pageContents[ce]="",this._pageDiffs[ce]=null,this._hasDiacritics[ce]=!1,Pe.resolve()}))}}function ne(se){this._scrollMatches&&this._selected.pageIdx===se&&(this._linkService.page=se+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:se})}function R(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function K(){const se=this._state.findPrevious,ce=this._linkService.page-1,Se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,C(this,_,R).call(this);for(let fe=0;fe<Se;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),C(this,s,de).call(this,fe)}))}if(""===P(this,he))return void C(this,ue,Te).call(this,v.FOUND);if(this._resumePageIdx)return;const Pe=this._offset;if(this._pagesToSearch=Se,null!==Pe.matchIdx){const fe=this._pageMatches[Pe.pageIdx].length;if(!se&&Pe.matchIdx+1<fe||se&&Pe.matchIdx>0)return Pe.matchIdx=se?Pe.matchIdx-1:Pe.matchIdx+1,void C(this,$,I).call(this,!0);C(this,B,H).call(this,se)}C(this,q,ge).call(this)}function le(se){const ce=this._offset,Se=se.length,Pe=this._state.findPrevious;return Se?(ce.matchIdx=Pe?Se-1:0,C(this,$,I).call(this,!0),!0):(C(this,B,H).call(this,Pe),!!(ce.wrapped&&(ce.matchIdx=null,this._pagesToSearch<0))&&(C(this,$,I).call(this,!1),!0))}function ge(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let se=null;do{const ce=this._offset.pageIdx;if(se=this._pageMatches[ce],!se){this._resumePageIdx=ce;break}}while(!C(this,F,le).call(this,se))}function H(se){const ce=this._offset,Se=this._linkService.pagesCount;ce.pageIdx=se?ce.pageIdx-1:ce.pageIdx+1,ce.matchIdx=null,this._pagesToSearch--,(ce.pageIdx>=Se||ce.pageIdx<0)&&(ce.pageIdx=se?Se-1:0,ce.wrapped=!0)}function I(se=!1){let ce=v.NOT_FOUND;const Se=this._offset.wrapped;if(this._offset.wrapped=!1,se){const Pe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ce=Se?v.WRAPPED:v.FOUND,-1!==Pe&&Pe!==this._selected.pageIdx&&C(this,g,ne).call(this,Pe)}C(this,ue,Te).call(this,ce,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,C(this,g,ne).call(this,this._selected.pageIdx))}function G(se){const ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ce&&this._pdfDocument!==ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),C(this,ue,Te).call(this,v.FOUND),this._highlightMatches=!1,C(this,_,R).call(this))})}function ie(){const{pageIdx:se,matchIdx:ce}=this._selected;let Se=0,Pe=this._matchesCountTotal;if(-1!==ce){for(let fe=0;fe<se;fe++)Se+=this._pageMatches[fe]?.length||0;Se+=ce+1}return(Se<1||Se>Pe)&&(Se=Pe=0),{current:Se,total:Pe}}function ye(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:C(this,Z,ie).call(this)})}function Te(se,ce=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:se,previous:ce,matchesCount:C(this,Z,ie).call(this),rawQuery:this._state?.query??null})}m.PDFFindController=class _e{constructor({linkService:ce,eventBus:Se}){M(this,ue),M(this,ee),M(this,Z),M(this,X),M(this,$),M(this,B),M(this,q),M(this,F),M(this,c),M(this,_),M(this,g),M(this,o),M(this,s),M(this,e),M(this,r),M(this,O),M(this,oe),E(this,he,{get:ae,set:void 0}),M(this,te),M(this,J),this._linkService=ce,this._eventBus=Se,C(this,te,me).call(this),Se._on("find",C(this,J,Ae).bind(this)),Se._on("findbarclose",C(this,X,G).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ce){this._pdfDocument&&C(this,te,me).call(this),ce&&(this._pdfDocument=ce,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ce=null,selectedLeft:Se=0,pageIndex:Pe=-1,matchIndex:fe=-1}){this._scrollMatches&&ce&&-1!==fe&&fe===this._selected.matchIdx&&-1!==Pe&&Pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,A.scrollIntoView)(ce,{top:-50,left:Se+-400},!0))}}},(U,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CharacterType=void 0,m.getCharacterType=function p(d){return function A(d){return d<11904}(d)?function w(d){return 0==(65408&d)}(d)?function n(d){return 32===d||9===d||13===d||10===d}(d)?x.SPACE:function y(d){return d>=97&&d<=122||d>=65&&d<=90}(d)||function v(d){return d>=48&&d<=57}(d)||95===d?x.ALPHA_LETTER:x.PUNCT:function f(d){return 3584==(65408&d)}(d)?x.THAI_LETTER:160===d?x.SPACE:x.ALPHA_LETTER:function t(d){return d>=13312&&d<=40959||d>=63744&&d<=64255}(d)?x.HAN_LETTER:function h(d){return d>=12448&&d<=12543}(d)?x.KATAKANA_LETTER:function u(d){return d>=12352&&d<=12447}(d)?x.HIRAGANA_LETTER:function l(d){return d>=65376&&d<=65439}(d)?x.HALFWIDTH_KATAKANA_LETTER:x.ALPHA_LETTER};const x={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};m.CharacterType=x},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFHistory=void 0,m.isDestArraysEqual=l,m.isDestHashesEqual=u;var A=x(6),w=x(17);function t(){return document.location.hash}function u(f,p){return"string"==typeof f&&"string"==typeof p&&(f===p||(0,A.parseQueryString)(f).get("nameddest")===p)}function l(f,p){function d(k,L){if(typeof k!=typeof L||Array.isArray(k)||Array.isArray(L))return!1;if(null!==k&&"object"==typeof k&&null!==L){if(Object.keys(k).length!==Object.keys(L).length)return!1;for(const W in k)if(!d(k[W],L[W]))return!1;return!0}return k===L||Number.isNaN(k)&&Number.isNaN(L)}if(!Array.isArray(f)||!Array.isArray(p)||f.length!==p.length)return!1;for(let k=0,L=f.length;k<L;k++)if(!d(f[k],p[k]))return!1;return!0}m.PDFHistory=class h{constructor({linkService:p,eventBus:d}){this.linkService=p,this.eventBus=d,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",k=>{this._isPagesLoaded=!!k.pagesCount},{once:!0})})}initialize({fingerprint:p,resetHistory:d=!1,updateUrl:k=!1}){if(!p||"string"!=typeof p)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const L=""!==this._fingerprint&&this._fingerprint!==p;this._fingerprint=p,this._updateUrl=!0===k,this._initialized=!0,this._bindEvents();const W=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=t(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(W,!0)||d){const{hash:Q,page:J,rotation:te}=this._parseCurrentHash(!0);return!Q||L||d?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Q,page:J,rotation:te},!0)}const Y=W.destination;this._updateInternalState(Y,W.uid,!0),void 0!==Y.rotation&&(this._initialRotation=Y.rotation),Y.dest?(this._initialBookmark=JSON.stringify(Y.dest),this._destination.page=null):Y.hash?this._initialBookmark=Y.hash:Y.page&&(this._initialBookmark=`page=${Y.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:p=null,explicitDest:d,pageNumber:k}){if(!this._initialized)return;if(p&&"string"!=typeof p)return void console.error(`PDFHistory.push: "${p}" is not a valid namedDest parameter.`);if(!Array.isArray(d))return void console.error(`PDFHistory.push: "${d}" is not a valid explicitDest parameter.`);if(!this._isValidPage(k)&&(null!==k||this._destination))return void console.error(`PDFHistory.push: "${k}" is not a valid pageNumber parameter.`);const L=p||JSON.stringify(d);if(!L)return;let W=!1;if(this._destination&&(u(this._destination.hash,L)||l(this._destination.dest,d))){if(this._destination.page)return;W=!0}this._popStateInProgress&&!W||(this._pushOrReplaceState({dest:d,hash:L,page:k,rotation:this.linkService.rotation},W),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(p){if(this._initialized){if(!this._isValidPage(p))return void console.error(`PDFHistory.pushPage: "${p}" is not a valid page number.`);this._destination?.page!==p&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${p}`,page:p,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(p,d=!1){const k=d||!this._destination,L={fingerprint:this._fingerprint,uid:k?this._uid:this._uid+1,destination:p};let W;if(this._updateInternalState(p,L.uid),this._updateUrl&&p?.hash){const Y=document.location.href.split("#")[0];Y.startsWith("file://")||(W=`${Y}#${p.hash}`)}k?window.history.replaceState(L,"",W):window.history.pushState(L,"",W)}_tryPushCurrentPosition(p=!1){if(!this._position)return;let d=this._position;if(p&&(d=Object.assign(Object.create(null),this._position),d.temporary=!0),!this._destination)return void this._pushOrReplaceState(d);if(this._destination.temporary)return void this._pushOrReplaceState(d,!0);if(this._destination.hash===d.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let k=!1;if(this._destination.page>=d.first&&this._destination.page<=d.page){if(void 0!==this._destination.dest||!this._destination.first)return;k=!0}this._pushOrReplaceState(d,k)}_isValidPage(p){return Number.isInteger(p)&&p>0&&p<=this.linkService.pagesCount}_isValidState(p,d=!1){if(!p)return!1;if(p.fingerprint!==this._fingerprint){if(!d)return!1;{if("string"!=typeof p.fingerprint||p.fingerprint.length!==this._fingerprint.length)return!1;const[k]=performance.getEntriesByType("navigation");if("reload"!==k?.type)return!1}}return!(!Number.isInteger(p.uid)||p.uid<0||null===p.destination||"object"!=typeof p.destination)}_updateInternalState(p,d,k=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),k&&p?.temporary&&delete p.temporary,this._destination=p,this._uid=d,this._maxUid=Math.max(this._maxUid,d),this._numPositionUpdates=0}_parseCurrentHash(p=!1){const d=unescape(t()).substring(1),k=(0,A.parseQueryString)(d),L=k.get("nameddest")||"";let W=0|k.get("page");return(!this._isValidPage(W)||p&&L.length>0)&&(W=null),{hash:d,page:W,rotation:this.linkService.rotation}}_updateViewarea({location:p}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:p.pdfOpenParams.substring(1),page:this.linkService.page,first:p.pageNumber,rotation:p.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:p}){const d=t(),k=this._currentHash!==d;if(this._currentHash=d,!p){this._uid++;const{hash:W,page:Y,rotation:Q}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:W,page:Y,rotation:Q},!0)}if(!this._isValidState(p))return;this._popStateInProgress=!0,k&&(this._blockHashChange++,(0,w.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const L=p.destination;this._updateInternalState(L,p.uid,!0),(0,A.isValidRotation)(L.rotation)&&(this.linkService.rotation=L.rotation),L.dest?this.linkService.goToDestination(L.dest):L.hash?this.linkService.setHash(L.hash):L.page&&(this.linkService.page=L.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0;var A=x(6),w=x(3);m.PDFScriptingManager=class y{constructor({eventBus:n,sandboxBundleSrc:t=null,scriptingFactory:h=null,docPropertiesLookup:u=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=t,this._scriptingFactory=h,this._docPropertiesLookup=u,this._scriptingFactory||window.addEventListener("updatefromsandbox",l=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:l.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var t=this;return b(function*(){if(t._pdfDocument&&(yield t._destroyScripting()),t._pdfDocument=n,!n)return;const[h,u,l]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(h||l){if(n===t._pdfDocument){try{t._scripting=t._createScripting()}catch(f){return console.error(`PDFScriptingManager.setDocument: "${f?.message}".`),void(yield t._destroyScripting())}t._internalEvents.set("updatefromsandbox",f=>{f?.source===window&&t._updateFromSandbox(f.detail)}),t._internalEvents.set("dispatcheventinsandbox",f=>{t._scripting?.dispatchEventInSandbox(f.detail)}),t._internalEvents.set("pagechanging",({pageNumber:f,previous:p})=>{f!==p&&(t._dispatchPageClose(p),t._dispatchPageOpen(f))}),t._internalEvents.set("pagerendered",({pageNumber:f})=>{!t._pageOpenPending.has(f)||f===t._pdfViewer.currentPageNumber&&t._dispatchPageOpen(f)}),t._internalEvents.set("pagesdestroy",function(){var f=b(function*(p){yield t._dispatchPageClose(t._pdfViewer.currentPageNumber),yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),t._closeCapability?.resolve()});return function(p){return f.apply(this,arguments)}}()),t._domEvents.set("mousedown",f=>{t._mouseState.isDown=!0}),t._domEvents.set("mouseup",f=>{t._mouseState.isDown=!1});for(const[f,p]of t._internalEvents)t._eventBus._on(f,p);for(const[f,p]of t._domEvents)window.addEventListener(f,p,!0);try{const f=yield t._getDocProperties();if(n!==t._pdfDocument)return;yield t._scripting.createSandbox({objects:h,calculationOrder:u,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...f,actions:l}}),t._eventBus.dispatch("sandboxcreated",{source:t})}catch(f){return console.error(`PDFScriptingManager.setDocument: "${f?.message}".`),void(yield t._destroyScripting())}yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t._dispatchPageOpen(t._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===t._pdfDocument&&(t._ready=!0)})}}else yield t._destroyScripting()})()}dispatchWillSave(n){var t=this;return b(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var t=this;return b(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var t=this;return b(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var t=this;return b(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,w.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,w.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,w.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,w.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var t=this;return b(function*(){const h=t._pdfViewer.isInPresentationMode||t._pdfViewer.isChangingPresentationMode,{id:u,siblings:l,command:f,value:p}=n;if(!u){switch(f){case"clear":console.clear();break;case"error":console.error(p);break;case"layout":if(h)return;const k=(0,A.apiPageLayoutToViewerModes)(p);t._pdfViewer.spreadMode=k.spreadMode;break;case"page-num":t._pdfViewer.currentPageNumber=p+1;break;case"print":yield t._pdfViewer.pagesPromise,t._eventBus.dispatch("print",{source:t});break;case"println":console.log(p);break;case"zoom":if(h)return;t._pdfViewer.currentScaleValue=p;break;case"SaveAs":t._eventBus.dispatch("save",{source:t});break;case"FirstPage":t._pdfViewer.currentPageNumber=1;break;case"LastPage":t._pdfViewer.currentPageNumber=t._pdfViewer.pagesCount;break;case"NextPage":t._pdfViewer.nextPage();break;case"PrevPage":t._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;t._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;t._pdfViewer.decreaseScale()}return}if(h&&n.focus)return;delete n.id,delete n.siblings;const d=l?[u,...l]:[u];for(const k of d){const L=document.getElementById(k);L?L.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):t._pdfDocument?.annotationStorage.setValue(k,n)}})()}_dispatchPageOpen(n,t=!1){var h=this;return b(function*(){const u=h._pdfDocument,l=h._visitedPages;if(t&&(h._closeCapability=(0,w.createPromiseCapability)()),!h._closeCapability)return;const f=h._pdfViewer.getPageView(n-1);if(f?.renderingState!==A.RenderingStates.FINISHED)return void h._pageOpenPending.add(n);h._pageOpenPending.delete(n);const p=b(function*(){const d=yield l.has(n)?null:f.pdfPage?.getJSActions();u===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:d}))})();l.set(n,p)})()}_dispatchPageClose(n){var t=this;return b(function*(){const h=t._pdfDocument,u=t._visitedPages;if(!t._closeCapability||t._pageOpenPending.has(n))return;const l=u.get(n);!l||(u.set(n,null),yield l,h===t._pdfDocument&&(yield t._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return b(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:t}=x(24);return t(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,w.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=x(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return b(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(t=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[t,h]of n._internalEvents)n._eventBus._off(t,h);n._internalEvents.clear();for(const[t,h]of n._domEvents)window.removeEventListener(t,h,!0);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(U,m,x)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericScripting=void 0,m.docPropertiesLookup=function w(n){return y.apply(this,arguments)};var A=x(3);function y(){return(y=b(function*(n){const h="".split("#")[0];let{info:u,metadata:l,contentDispositionFilename:f,contentLength:p}=yield n.getMetadata();if(!p){const{length:d}=yield n.getDownloadInfo();p=d}return{...u,baseURL:h,filesize:p,filename:f||(0,A.getPdfFilenameFromUrl)(""),metadata:l?.getRaw(),authors:l?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}m.GenericScripting=class v{constructor(t){this._ready=(0,A.loadScript)(t,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(t){var h=this;return b(function*(){(yield h._ready).create(t)})()}dispatchEventInSandbox(t){var h=this;return b(function*(){const u=yield h._ready;setTimeout(()=>u.dispatchEvent(t),0)})()}destroySandbox(){var t=this;return b(function*(){(yield t._ready).nukeSandbox()})()}}}],V={};function j(U){var m=V[U];if(void 0!==m)return m.exports;var x=V[U]={exports:{}};return D[U](x,x.exports,j),x.exports}var T={};return(()=>{var U=T;Object.defineProperty(U,"__esModule",{value:!0}),Object.defineProperty(U,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return y.AnnotationLayerBuilder}}),Object.defineProperty(U,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return m.DefaultAnnotationLayerFactory}}),Object.defineProperty(U,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return m.DefaultStructTreeLayerFactory}}),Object.defineProperty(U,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return m.DefaultTextLayerFactory}}),Object.defineProperty(U,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return m.DefaultXfaLayerFactory}}),Object.defineProperty(U,"DownloadManager",{enumerable:!0,get:function(){return v.DownloadManager}}),Object.defineProperty(U,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(U,"GenericL10n",{enumerable:!0,get:function(){return t.GenericL10n}}),Object.defineProperty(U,"LinkTarget",{enumerable:!0,get:function(){return x.LinkTarget}}),Object.defineProperty(U,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(U,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(U,"PDFHistory",{enumerable:!0,get:function(){return l.PDFHistory}}),Object.defineProperty(U,"PDFLinkService",{enumerable:!0,get:function(){return x.PDFLinkService}}),Object.defineProperty(U,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(U,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(U,"PDFSinglePageViewer",{enumerable:!0,get:function(){return w.PDFSinglePageViewer}}),Object.defineProperty(U,"PDFViewer",{enumerable:!0,get:function(){return w.PDFViewer}}),Object.defineProperty(U,"ProgressBar",{enumerable:!0,get:function(){return A.ProgressBar}}),Object.defineProperty(U,"SimpleLinkService",{enumerable:!0,get:function(){return x.SimpleLinkService}}),Object.defineProperty(U,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return d.StructTreeLayerBuilder}}),Object.defineProperty(U,"TextLayerBuilder",{enumerable:!0,get:function(){return k.TextLayerBuilder}}),Object.defineProperty(U,"XfaLayerBuilder",{enumerable:!0,get:function(){return L.XfaLayerBuilder}}),Object.defineProperty(U,"parseQueryString",{enumerable:!0,get:function(){return A.parseQueryString}});var m=j(1),x=j(5),A=j(6),w=j(10),y=j(2),v=j(16),n=j(17),t=j(18),h=j(4),u=j(20),l=j(22),f=j(12),p=j(23),d=j(7),k=j(8),L=j(9)})(),T})(),z.exports=j()},3753:(z,a,S)=>{"use strict";S.d(a,{R:()=>P});var i=S(6498),M=S(6688),E=S(7043),N=S(4850);function P(T,U,m,x){return(0,E.m)(m)&&(x=m,m=void 0),x?P(T,U,m).pipe((0,N.U)(A=>(0,M.k)(A)?x(...A):x(A))):new i.y(A=>{b(T,U,function w(y){A.next(arguments.length>1?Array.prototype.slice.call(arguments):y)},A,m)})}function b(T,U,m,x,A){let w;if(function j(T){return T&&"function"==typeof T.addEventListener&&"function"==typeof T.removeEventListener}(T)){const y=T;T.addEventListener(U,m,A),w=()=>y.removeEventListener(U,m,A)}else if(function V(T){return T&&"function"==typeof T.on&&"function"==typeof T.off}(T)){const y=T;T.on(U,m),w=()=>y.off(U,m)}else if(function D(T){return T&&"function"==typeof T.addListener&&"function"==typeof T.removeListener}(T)){const y=T;T.addListener(U,m),w=()=>y.removeListener(U,m)}else{if(!T||!T.length)throw new TypeError("Invalid event target");for(let y=0,v=T.length;y<v;y++)b(T[y],U,m,x,A)}x.add(w)}},6686:(z,a,S)=>{"use strict";S.d(a,{o:()=>E});var i=S(2654);class M extends i.w{constructor(C,P){super()}schedule(C,P=0){return this}}class E extends M{constructor(C,P){super(C,P),this.scheduler=C,this.work=P,this.pending=!1}schedule(C,P=0){if(this.closed)return this;this.state=C;const b=this.id,D=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(D,b,P)),this.pending=!0,this.delay=P,this.id=this.id||this.requestAsyncId(D,this.id,P),this}requestAsyncId(C,P,b=0){return setInterval(C.flush.bind(C,this),b)}recycleAsyncId(C,P,b=0){if(null!==b&&this.delay===b&&!1===this.pending)return P;clearInterval(P)}execute(C,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const b=this._execute(C,P);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,P){let D,b=!1;try{this.work(C)}catch(V){b=!0,D=!!V&&V||new Error(V)}if(b)return this.unsubscribe(),D}_unsubscribe(){const C=this.id,P=this.scheduler,b=P.actions,D=b.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==D&&b.splice(D,1),null!=C&&(this.id=this.recycleAsyncId(P,C,null)),this.delay=null}}},2268:(z,a,S)=>{"use strict";S.d(a,{v:()=>M});let i=(()=>{class E{constructor(C,P=E.now){this.SchedulerAction=C,this.now=P}schedule(C,P=0,b){return new this.SchedulerAction(this,C).schedule(b,P)}}return E.now=()=>Date.now(),E})();class M extends i{constructor(N,C=i.now){super(N,()=>M.delegate&&M.delegate!==this?M.delegate.now():C()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(N,C=0,P){return M.delegate&&M.delegate!==this?M.delegate.schedule(N,C,P):super.schedule(N,C,P)}flush(N){const{actions:C}=this;if(this.active)return void C.push(N);let P;this.active=!0;do{if(P=N.execute(N.state,N.delay))break}while(N=C.shift());if(this.active=!1,P){for(;N=C.shift();)N.unsubscribe();throw P}}}},353:(z,a,S)=>{"use strict";S.d(a,{P:()=>N});var i=S(6686);const N=new(S(2268).v)(i.o)},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:z=>{function a(i,M,E,N,C,P,b){try{var D=i[P](b),V=D.value}catch(j){return void E(j)}D.done?M(V):Promise.resolve(V).then(N,C)}z.exports=function S(i){return function(){var M=this,E=arguments;return new Promise(function(N,C){var P=i.apply(M,E);function b(V){a(P,N,C,b,D,"next",V)}function D(V){a(P,N,C,b,D,"throw",V)}b(void 0)})}},z.exports.__esModule=!0,z.exports.default=z.exports},6521:z=>{z.exports=function a(S,i){if(i.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")},z.exports.__esModule=!0,z.exports.default=z.exports},8912:z=>{z.exports=function a(S,i){return i.get?i.get.call(S):i.value},z.exports.__esModule=!0,z.exports.default=z.exports},3448:z=>{z.exports=function a(S,i,M){if(i.set)i.set.call(S,M);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=M}},z.exports.__esModule=!0,z.exports.default=z.exports},2625:z=>{z.exports=function a(S,i){if(S!==i)throw new TypeError("Private static access of wrong provenance")},z.exports.__esModule=!0,z.exports.default=z.exports},2506:z=>{z.exports=function a(S,i){if(void 0===S)throw new TypeError("attempted to "+i+" private static field before its declaration")},z.exports.__esModule=!0,z.exports.default=z.exports},4069:z=>{z.exports=function a(S,i,M){if(!i.has(S))throw new TypeError("attempted to "+M+" private field on non-instance");return i.get(S)},z.exports.__esModule=!0,z.exports.default=z.exports},468:(z,a,S)=>{var i=S(8912),M=S(4069);z.exports=function E(N,C){var P=M(N,C,"get");return i(N,P)},z.exports.__esModule=!0,z.exports.default=z.exports},9159:(z,a,S)=>{var i=S(6521);z.exports=function M(E,N,C){i(E,N),N.set(E,C)},z.exports.__esModule=!0,z.exports.default=z.exports},5661:(z,a,S)=>{var i=S(3448),M=S(4069);z.exports=function E(N,C,P){var b=M(N,C,"set");return i(N,b,P),P},z.exports.__esModule=!0,z.exports.default=z.exports},4467:z=>{z.exports=function a(S,i,M){if(!i.has(S))throw new TypeError("attempted to get private field on non-instance");return M},z.exports.__esModule=!0,z.exports.default=z.exports},1860:(z,a,S)=>{var i=S(6521);z.exports=function M(E,N){i(E,N),N.add(E)},z.exports.__esModule=!0,z.exports.default=z.exports},1280:(z,a,S)=>{var i=S(8912),M=S(2625),E=S(2506);z.exports=function N(C,P,b){return M(C,P),E(b,"get"),i(C,b)},z.exports.__esModule=!0,z.exports.default=z.exports},2306:(z,a,S)=>{var i=S(3448),M=S(2625),E=S(2506);z.exports=function N(C,P,b,D){return M(C,P),E(b,"set"),i(C,b,D),D},z.exports.__esModule=!0,z.exports.default=z.exports},5764:(z,a,S)=>{var i=S(2625);z.exports=function M(E,N,C){return i(E,N),C},z.exports.__esModule=!0,z.exports.default=z.exports},8416:z=>{z.exports=function a(S,i,M){return i in S?Object.defineProperty(S,i,{value:M,enumerable:!0,configurable:!0,writable:!0}):S[i]=M,S},z.exports.__esModule=!0,z.exports.default=z.exports},9380:(z,a,S)=>{"use strict";var i,M;S.d(a,{rQ:()=>v,xC:()=>n});var E=S(5062),N=S(3753),C=S(8929),P=S(5254),b=S(7625),D=S(13),V=S(2198),j=S(6036),T=S(2813);const U=["pdfViewerContainer"];function m(t,h){const u=new t.EventBus;return function x(t,h){(0,N.R)(t,"documentload").pipe((0,b.R)(h)).subscribe(()=>{const u=document.createEvent("CustomEvent");u.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(u)}),(0,N.R)(t,"pagerendered").pipe((0,b.R)(h)).subscribe(({pageNumber:u,cssTransform:l,source:f})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("pagerendered",!0,!0,{pageNumber:u,cssTransform:l}),f.div.dispatchEvent(p)}),(0,N.R)(t,"textlayerrendered").pipe((0,b.R)(h)).subscribe(({pageNumber:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:u}),l.textLayerDiv.dispatchEvent(f)}),(0,N.R)(t,"pagechanging").pipe((0,b.R)(h)).subscribe(({pageNumber:u,source:l})=>{const f=document.createEvent("UIEvents");f.initEvent("pagechanging",!0,!0),f.pageNumber=u,l.container.dispatchEvent(f)}),(0,N.R)(t,"pagesinit").pipe((0,b.R)(h)).subscribe(({source:u})=>{const l=document.createEvent("CustomEvent");l.initCustomEvent("pagesinit",!0,!0,null),u.container.dispatchEvent(l)}),(0,N.R)(t,"pagesloaded").pipe((0,b.R)(h)).subscribe(({pagesCount:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("pagesloaded",!0,!0,{pagesCount:u}),l.container.dispatchEvent(f)}),(0,N.R)(t,"scalechange").pipe((0,b.R)(h)).subscribe(({scale:u,presetValue:l,source:f})=>{const p=document.createEvent("UIEvents");p.initEvent("scalechange",!0,!0),p.scale=u,p.presetValue=l,f.container.dispatchEvent(p)}),(0,N.R)(t,"updateviewarea").pipe((0,b.R)(h)).subscribe(({location:u,source:l})=>{const f=document.createEvent("UIEvents");f.initEvent("updateviewarea",!0,!0),f.location=u,l.container.dispatchEvent(f)}),(0,N.R)(t,"find").pipe((0,b.R)(h)).subscribe(({source:u,type:l,query:f,phraseSearch:p,caseSensitive:d,highlightAll:k,findPrevious:L})=>{if(u===window)return;const W=document.createEvent("CustomEvent");W.initCustomEvent("find"+l,!0,!0,{query:f,phraseSearch:p,caseSensitive:d,highlightAll:k,findPrevious:L}),window.dispatchEvent(W)}),(0,N.R)(t,"attachmentsloaded").pipe((0,b.R)(h)).subscribe(({attachmentsCount:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:u}),l.container.dispatchEvent(f)}),(0,N.R)(t,"sidebarviewchanged").pipe((0,b.R)(h)).subscribe(({view:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("sidebarviewchanged",!0,!0,{view:u}),l.outerContainer.dispatchEvent(f)}),(0,N.R)(t,"pagemode").pipe((0,b.R)(h)).subscribe(({mode:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("pagemode",!0,!0,{mode:u}),l.pdfViewer.container.dispatchEvent(f)}),(0,N.R)(t,"namedaction").pipe((0,b.R)(h)).subscribe(({action:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("namedaction",!0,!0,{action:u}),l.pdfViewer.container.dispatchEvent(f)}),(0,N.R)(t,"presentationmodechanged").pipe((0,b.R)(h)).subscribe(({active:u,switchInProgress:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("presentationmodechanged",!0,!0,{active:u,switchInProgress:l}),window.dispatchEvent(f)}),(0,N.R)(t,"outlineloaded").pipe((0,b.R)(h)).subscribe(({outlineCount:u,source:l})=>{const f=document.createEvent("CustomEvent");f.initCustomEvent("outlineloaded",!0,!0,{outlineCount:u}),l.container.dispatchEvent(f)})}(u,h),u}function A(t,h,u){t[h]=u}function w(){return typeof window>"u"}w()||A(i||(i=S.t(j,2)),"verbosity",j.VerbosityLevel.INFOS);var y=(()=>{return(t=y||(y={}))[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",y;var t})();let v=(()=>{class t{constructor(u,l){if(this.element=u,this.ngZone=l,this.isVisible=!1,this._cMapsUrl=typeof(i||(i=S.t(j,2)))<"u"?`https://unpkg.com/pdfjs-dist@${j.version}/cmaps/`:null,this._imageResourcesPath=typeof(i||(i=S.t(j,2)))<"u"?`https://unpkg.com/pdfjs-dist@${j.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=y.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new C.xQ,this.afterLoadComplete=new E.vpe,this.pageRendered=new E.vpe,this.pageInitialized=new E.vpe,this.textLayerRendered=new E.vpe,this.onError=new E.vpe,this.onProgress=new E.vpe,this.pageChange=new E.vpe(!0),w())return;let f;f=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${j.version}/legacy/build/pdf.worker.min.js`,A(j.GlobalWorkerOptions,"workerSrc",f)}set cMapsUrl(u){this._cMapsUrl=u}set page(u){const l=u=parseInt(u,10)||1;this._pdf&&(u=this.getValidPageNumber(u)),this._page=u,l!==u&&this.pageChange.emit(u)}set renderText(u){this._renderText=u}set renderTextMode(u){this._renderTextMode=u}set originalSize(u){this._originalSize=u}set showAll(u){this._showAll=u}set stickToPage(u){this._stickToPage=u}set zoom(u){u<=0||(this._zoom=u)}get zoom(){return this._zoom}set zoomScale(u){this._zoomScale=u}get zoomScale(){return this._zoomScale}set rotation(u){"number"==typeof u&&u%90==0?this._rotation=u:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(u){this._externalLinkTarget=u}set autoresize(u){this._canAutoResize=Boolean(u)}set fitToPage(u){this._fitToPage=Boolean(u)}set showBorders(u){this._showBorders=Boolean(u)}static getLinkTarget(u){switch(u){case"blank":return T.LinkTarget.BLANK;case"none":return T.LinkTarget.NONE;case"self":return T.LinkTarget.SELF;case"parent":return T.LinkTarget.PARENT;case"top":return T.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const u=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=u?!1===this.isVisible&&null!=u&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(u){if(!w()&&this.isVisible)if("src"in u)this.loadPDF();else if(this._pdf){if("renderText"in u?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:y.DISABLED,this.resetPdfDocument()):"showAll"in u&&this.resetPdfDocument(),"page"in u){const{page:l}=u;if(l.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const u=this.getCurrentViewer();(0,P.D)(this._pdf.getPage(u.currentPageNumber)).pipe((0,b.R)(this.destroy$)).subscribe({next:l=>{const f=this._rotation||l.rotate,p=l.getViewport({scale:this._zoom,rotation:f}).width*t.CSS_UNITS;let d=this._zoom,k=!0;if(!this._originalSize||this._fitToPage&&p>this.pdfViewerContainer.nativeElement.clientWidth){const L=l.getViewport({scale:1,rotation:f});d=this.getScale(L.width,L.height),k=!this._stickToPage}u._setScale(d,k)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const u={},l=t.getLinkTarget(this._externalLinkTarget);return l&&(u.externalLinkTarget=l),u}setupMultiPageViewer(){A(i||(i=S.t(j,2)),"disableTextLayer",!this._renderText);const u=m(M||(M=S.t(T,2)),this.destroy$);(0,N.R)(u,"pagerendered").pipe((0,b.R)(this.destroy$)).subscribe(f=>{this.pageRendered.emit(f)}),(0,N.R)(u,"pagesinit").pipe((0,b.R)(this.destroy$)).subscribe(f=>{this.pageInitialized.emit(f)}),(0,N.R)(u,"pagechanging").pipe((0,b.R)(this.destroy$)).subscribe(({pageNumber:f})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=f,this.pageChange.emit(f)},100)}),(0,N.R)(u,"textlayerrendered").pipe((0,b.R)(this.destroy$)).subscribe(f=>{this.textLayerRendered.emit(f)}),this.pdfMultiPageLinkService=new T.PDFLinkService({eventBus:u,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new T.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:u});const l={eventBus:u,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:y.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath};this.pdfMultiPageViewer=new T.PDFViewer(l),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){A(i||(i=S.t(j,2)),"disableTextLayer",!this._renderText);const u=m(M||(M=S.t(T,2)),this.destroy$);(0,N.R)(u,"pagechanging").pipe((0,b.R)(this.destroy$)).subscribe(({pageNumber:f})=>{f!==this._page&&(this.page=f)}),(0,N.R)(u,"pagerendered").pipe((0,b.R)(this.destroy$)).subscribe(f=>{this.pageRendered.emit(f)}),(0,N.R)(u,"pagesinit").pipe((0,b.R)(this.destroy$)).subscribe(f=>{this.pageInitialized.emit(f)}),(0,N.R)(u,"textlayerrendered").pipe((0,b.R)(this.destroy$)).subscribe(f=>{this.textLayerRendered.emit(f)}),this.pdfSinglePageLinkService=new T.PDFLinkService({eventBus:u,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new T.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:u});const l={eventBus:u,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:y.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new T.PDFSinglePageViewer(l),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(u){return u<1?1:u>this._pdf.numPages?this._pdf.numPages:u}getDocumentParams(){const u=typeof this.src;if(!this._cMapsUrl)return this.src;const l={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===u?l.url=this.src:"object"===u&&(void 0!==this.src.byteLength?l.data=this.src:Object.assign(l,this.src)),l}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=j.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=l=>{this.onProgress.emit(l)};const u=this.src;(0,P.D)(this.loadingTask.promise).pipe((0,b.R)(this.destroy$)).subscribe({next:l=>{this._pdf=l,this.lastLoaded=u,this.afterLoadComplete.emit(l),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:l=>{this.lastLoaded=null,this.onError.emit(l)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const u=this.getCurrentViewer();(0!==this._rotation||u.pagesRotation!==this._rotation)&&setTimeout(()=>{u.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{u.currentPageNumber=this._page}),this.updateSize()}getScale(u,l){const f=this._showBorders?2*t.BORDER_WIDTH:0,p=this.pdfViewerContainer.nativeElement.clientWidth-f,d=this.pdfViewerContainer.nativeElement.clientHeight-f;if(0===d||0===l||0===p||0===u)return 1;let k=1;switch(this._zoomScale){case"page-fit":k=Math.min(d/l,p/u);break;case"page-height":k=d/l;break;default:k=p/u}return this._zoom*k/t.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){w()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){w()||this.ngZone.runOutsideAngular(()=>{(0,N.R)(window,"resize").pipe((0,D.b)(100),(0,V.h)(()=>this._canAutoResize&&!!this._pdf),(0,b.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return t.CSS_UNITS=96/72,t.BORDER_WIDTH=9,t.\u0275fac=function(u){return new(u||t)(E.Y36(E.SBq),E.Y36(E.R0b))},t.\u0275cmp=E.Xpm({type:t,selectors:[["pdf-viewer"]],viewQuery:function(u,l){if(1&u&&E.Gf(U,5),2&u){let f;E.iGM(f=E.CRH())&&(l.pdfViewerContainer=f.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[E.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(u,l){1&u&&(E.TgZ(0,"div",0,1),E._UZ(2,"div",2),E.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),t})(),n=(()=>{class t{}return t.\u0275fac=function(u){return new(u||t)},t.\u0275mod=E.oAB({type:t}),t.\u0275inj=E.cJS({}),t})()}}]);